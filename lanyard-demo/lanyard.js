function i(a){throw a;}var j=true,l=null,m=false;function n(a){return function(b){this[a]=b}}function o(a){return function(){return this[a]}}var p,r=this;function s(a,b,c){a=a.split(".");c=c||r;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}function aa(a,b){for(var c=a.split("."),d=b||r,e;e=c.shift();)if(d[e])d=d[e];else return l;return d}function ba(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function da(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function t(a){return typeof a=="string"}function ea(a){return ca(a)=="function"}function fa(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function ga(a){return a[ha]||(a[ha]=++ja)}var ha="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0;
function ka(a,b){var c=b||r;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}var la=Date.now||function(){return+new Date};function x(a,b){function c(){}c.prototype=b.prototype;a.cb=b.prototype;a.prototype=new c};function ma(){this.Zd=la()}var na=new ma;ma.prototype.set=n("Zd");ma.prototype.reset=function(){this.set(la())};ma.prototype.get=o("Zd");function oa(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function pa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function qa(a,b){if(b)return a.replace(ta,"&amp;").replace(ua,"&lt;").replace(va,"&gt;").replace(wa,"&quot;");else{if(!xa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(ta,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(ua,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(va,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(wa,"&quot;");return a}}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,xa=/[&<>\"]/;function ya(a,b){return pa(a.replace(/  /g," &#160;"),b)}
function za(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var h=d[g]||"",k=e[g]||"",q=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var v=q.exec(h)||["","",""],w=u.exec(k)||["","",""];if(v[0].length==0&&w[0].length==0)break;c=Aa(v[1].length==0?0:parseInt(v[1],10),w[1].length==0?0:parseInt(w[1],10))||Aa(v[2].length==0,w[2].length==0)||Aa(v[2],w[2])}while(c==
0)}return c}function Aa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function Ba(a){this.og=a||"";this.Ng=na}Ba.prototype.fe=j;Ba.prototype.Lg=j;Ba.prototype.Kg=j;Ba.prototype.ge=m;function Ca(a){if(a<10)return"0"+a;return String(a)}function Da(a,b){var c=(a.oe-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Ea(a){Ba.call(this,a)}x(Ea,Ba);Ea.prototype.ge=j;function Fa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}x(Fa,Error);Fa.prototype.name="CustomError";function Ga(a,b){b.unshift(a);Fa.call(this,oa.apply(l,b));b.shift();this.wh=a}x(Ga,Fa);Ga.prototype.name="AssertionError";function Ha(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}i(new Ga(""+d,e||[]))}return a}function Ia(a){i(new Ga("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var y=Array.prototype,Ja=y.indexOf?function(a,b,c){Ha(a.length!=l);return y.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(t(a)){if(!t(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=y.forEach?function(a,b,c){Ha(a.length!=l);y.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ma(){return y.concat.apply(y,arguments)}
function Na(a){if(ca(a)=="array")return Ma(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Oa(a,b,c){Ha(a.length!=l);return arguments.length<=2?y.slice.call(a,b):y.slice.call(a,b,c)};function Pa(a,b,c){for(var d in a)b.call(c,a[d],d,a)}var Qa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function Ra(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Qa.length;e++){b=Qa[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var Sa="StopIteration"in r?r.StopIteration:Error("StopIteration");function Ta(){}Ta.prototype.next=function(){i(Sa)};Ta.prototype.ec=function(){return this};function Ua(a){if(a instanceof Ta)return a;if(typeof a.ec=="function")return a.ec(m);if(da(a)){var b=0,c=new Ta;c.next=function(){for(;;){if(b>=a.length)i(Sa);if(b in a)return a[b++];else b++}};return c}i(Error("Not implemented"))}
function Va(a,b,c){if(da(a))try{La(a,b,c)}catch(d){if(d!==Sa)i(d)}else{a=Ua(a);try{for(;;)b.call(c,a.next(),undefined,a)}catch(e){if(e!==Sa)i(e)}}};function Wa(a){this.Ba={};this.W=[];var b=arguments.length;if(b>1){if(b%2)i(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){var d;if(a instanceof Wa){c=Xa(a);Ya(a);d=[];for(b=0;b<a.W.length;b++)d.push(a.Ba[a.W[b]]);d=d}else{b=[];var e=0;for(c in a)b[e++]=c;c=b;b=[];e=0;for(d in a)b[e++]=a[d];d=b}for(b=0;b<c.length;b++)this.set(c[b],d[b])}}p=Wa.prototype;p.T=0;p.Zb=0;function Xa(a){Ya(a);return a.W.concat()}
p.clear=function(){this.Ba={};this.Zb=this.T=this.W.length=0};function Ya(a){if(a.T!=a.W.length){for(var b=0,c=0;b<a.W.length;){var d=a.W[b];if(Object.prototype.hasOwnProperty.call(a.Ba,d))a.W[c++]=d;b++}a.W.length=c}if(a.T!=a.W.length){var e={};for(c=b=0;b<a.W.length;){d=a.W[b];if(!Object.prototype.hasOwnProperty.call(e,d)){a.W[c++]=d;e[d]=1}b++}a.W.length=c}}p.get=function(a,b){if(Object.prototype.hasOwnProperty.call(this.Ba,a))return this.Ba[a];return b};
p.set=function(a,b){if(!Object.prototype.hasOwnProperty.call(this.Ba,a)){this.T++;this.W.push(a);this.Zb++}this.Ba[a]=b};p.ec=function(a){Ya(this);var b=0,c=this.W,d=this.Ba,e=this.Zb,f=this,g=new Ta;g.next=function(){for(;;){if(e!=f.Zb)i(Error("The map has changed since the iterator was created"));if(b>=c.length)i(Sa);var h=c[b++];return a?h:d[h]}};return g};function Za(a){return $a(a||arguments.callee.caller,[])}
function $a(a,b){var c=[];if(Ja(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(ab(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=ab(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push($a(a.caller,
b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ab(a){a=String(a);if(!bb[a]){var b=/function ([^\(]+)/.exec(a);bb[a]=b?b[1]:"[Anonymous]"}return bb[a]}var bb={};function cb(a,b,c,d,e){this.reset(a,b,c,d,e)}cb.prototype.sg=0;cb.prototype.tc=l;cb.prototype.sc=l;var db=0;cb.prototype.reset=function(a,b,c,d,e){this.sg=typeof e=="number"?e:db++;this.oe=d||la();this.$a=a;this.kg=b;this.dg=c;delete this.tc;delete this.sc};cb.prototype.Pc=n("$a");function A(a){this.Td=a}A.prototype.Ub=l;A.prototype.$a=l;A.prototype.mc=l;A.prototype.xb=l;function B(a,b){this.name=a;this.value=b}B.prototype.toString=o("name");var eb=new B("SHOUT",1200),fb=new B("SEVERE",1E3),gb=new B("WARNING",900),hb=new B("INFO",800),ib=new B("CONFIG",700),C=new B("FINE",500),jb=new B("ALL",0);A.prototype.getName=o("Td");A.prototype.Pc=n("$a");function kb(a){if(a.$a)return a.$a;if(a.Ub)return kb(a.Ub);Ia("Root logger has no level set.");return l}
A.prototype.log=function(a,b,c){if(a.value>=kb(this).value){a=this.Sf(a,b,c);for(b=this;b;){c=b;var d=a;if(c.xb)for(var e=0,f=void 0;f=c.xb[e];e++)f(d);b=b.Ub}}};
A.prototype.Sf=function(a,b,c){var d=new cb(a,String(b),this.Td);if(c){d.tc=c;var e;var f=arguments.callee.caller;try{var g,h=aa("window.location.href");g=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.uh||"Not available",fileName:c.fileName||c.filename||c.sourceURL||h,stack:c.stack||"Not available"}:c;e="Message: "+qa(g.message)+'\nUrl: <a href="view-source:'+
g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+qa(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+qa(Za(f)+"-> ")}catch(k){e="Exception trying to expose exception! You win, we lose. "+k}d.sc=e}return d};function D(a,b,c){a.log(fb,b,c)}var lb={},ob=l;function pb(){if(!ob){ob=new A("");lb[""]=ob;ob.Pc(ib)}}function qb(){pb();return ob}
function E(a){pb();var b;if(!(b=lb[a])){b=new A(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=E(a.substr(0,c));if(!c.mc)c.mc={};c.mc[d]=b;b.Ub=c;b=lb[a]=b}return b};var rb,sb,tb,ub,vb;function wb(){return r.navigator?r.navigator.userAgent:l}ub=tb=sb=rb=m;var xb;if(xb=wb()){var yb=r.navigator;rb=xb.indexOf("Opera")==0;sb=!rb&&xb.indexOf("MSIE")!=-1;tb=!rb&&xb.indexOf("WebKit")!=-1;ub=!rb&&!tb&&yb.product=="Gecko"}var zb=rb,F=sb,Ab=ub,G=tb,Bb,Cb=r.navigator;Bb=Cb&&Cb.platform||"";vb=Bb.indexOf("Mac")!=-1;var Db=Bb.indexOf("Win")!=-1,Eb;
a:{var Fb="",Gb;if(zb&&r.opera){var Hb=r.opera.version;Fb=typeof Hb=="function"?Hb():Hb}else{if(Ab)Gb=/rv\:([^\);]+)(\)|;)/;else if(F)Gb=/MSIE\s+([^\);]+)(\)|;)/;else if(G)Gb=/WebKit\/(\S+)/;if(Gb){var Ib=Gb.exec(wb());Fb=Ib?Ib[1]:""}}if(F){var Jb,Kb=r.document;Jb=Kb?Kb.documentMode:undefined;if(Jb>parseFloat(Fb)){Eb=String(Jb);break a}}Eb=Fb}var Lb={};function Mb(a){return Lb[a]||(Lb[a]=za(Eb,a)>=0)};var Nb,Ob=!F||Mb("9");F&&Mb("9");function Pb(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Oa(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(Ja(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};function Qb(a,b,c,d){a=d||a;var e=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!G||document.compatMode=="CSS1Compat"||Mb("528"))&&(e||c))return a.querySelectorAll(e+(c?"."+c:""));if(c&&a.getElementsByClassName){b=a.getElementsByClassName(c);if(e){a={};for(var f=d=0,g;g=b[f];f++)if(e==g.nodeName)a[d++]=g;a.length=d;return a}else return b}b=a.getElementsByTagName(e||"*");if(c){a={};for(f=d=0;g=b[f];f++){e=g.className;var h;if(h=typeof e.split=="function"){e=e.split(/\s+/);h=
Ja(e,c)>=0}if(h)a[d++]=g}a.length=d;return a}else return b}function Rb(a,b){Pa(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Sb)a.setAttribute(Sb[d],c);else a[d]=c})}var Sb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};function Ub(){return Vb(document,arguments)}
function Vb(a,b){var c=b[0],d=b[1];if(!Ob&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',qa(d.name),'"');if(d.type){c.push(' type="',qa(d.type),'"');var e={};Ra(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(t(d))c.className=d;else ca(d)=="array"?Pb.apply(l,[c].concat(d)):Rb(c,d);b.length>2&&Wb(a,c,b,2);return c}
function Wb(a,b,c,d){function e(g){if(g)b.appendChild(t(g)?a.createTextNode(g):g)}for(d=d;d<c.length;d++){var f=c[d];da(f)&&!(fa(f)&&f.nodeType>0)?La(Xb(f)?Na(f):f,e):e(f)}}function Xb(a){if(a&&typeof a.length=="number")if(fa(a))return typeof a.item=="function"||typeof a.item=="string";else if(ea(a))return typeof a.item=="function";return m}function Yb(a){this.Sa=a||r.document||document}p=Yb.prototype;p.pd=function(){return Vb(this.Sa,arguments)};p.createElement=function(a){return this.Sa.createElement(a)};
p.createTextNode=function(a){return this.Sa.createTextNode(a)};p.appendChild=function(a,b){a.appendChild(b)};p.contains=function(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function Zb(a,b){if(F)a.cssText=b;else a[G?"innerText":"innerHTML"]=b};function $b(a){this.pg=ka(this.bf,this);this.yd=new Ea;this.Ed=this.yd.fe=m;this.O=a;this.rf=this.O.ownerDocument||this.O.document;a=(a=this.O)?new Yb(a.nodeType==9?a:a.ownerDocument||a.document):Nb||(Nb=new Yb);var b=l;if(F){b=a.Sa.createStyleSheet();Zb(b,".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}")}else{var c=
Qb(a.Sa,"head",void 0,void 0)[0];if(!c){b=Qb(a.Sa,"body",void 0,void 0)[0];c=a.pd("head");b.parentNode.insertBefore(c,b)}b=a.pd("style");Zb(b,".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}");a.appendChild(c,b)}this.O.className+=" logdiv"}
$b.prototype.bf=function(a){var b=this.O.scrollHeight-this.O.scrollTop-this.O.clientHeight<=100,c=this.rf.createElement("div");c.className="logmsg";var d=this.yd,e;switch(a.$a.value){case eb.value:e="dbg-sh";break;case fb.value:e="dbg-sev";break;case gb.value:e="dbg-w";break;case hb.value:e="dbg-i";break;default:e="dbg-f"}var f=[];f.push(d.og," ");if(d.fe){var g=new Date(a.oe);f.push("[",Ca(g.getFullYear()-2E3)+Ca(g.getMonth()+1)+Ca(g.getDate())+" "+Ca(g.getHours())+":"+Ca(g.getMinutes())+":"+Ca(g.getSeconds())+
"."+Ca(Math.floor(g.getMilliseconds()/10)),"] ")}d.Lg&&f.push("[",ya(Da(a,d.Ng.get())),"s] ");d.Kg&&f.push("[",qa(a.dg),"] ");f.push('<span class="',e,'">',pa(ya(qa(a.kg))));if(d.ge&&a.tc)f.push("<br>",pa(ya(a.sc||"")));f.push("</span><br>");c.innerHTML=f.join("");this.O.appendChild(c);if(b)this.O.scrollTop=this.O.scrollHeight};$b.prototype.clear=function(){this.O.innerHTML=""};function ac(){}ac.prototype.td=m;ac.prototype.Ra=function(){if(!this.td){this.td=j;this.ha()}};ac.prototype.ha=function(){};function H(a,b){this.Kd=b;this.Ga=[];if(a>this.Kd)i(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Ga.push(this.nb())}x(H,ac);p=H.prototype;p.Fa=l;p.sd=l;function bc(a){if(a.Ga.length)return a.Ga.pop();return a.nb()}function cc(a,b){a.Ga.length<a.Kd?a.Ga.push(b):a.pc(b)}p.nb=function(){return this.Fa?this.Fa():{}};p.pc=function(a){if(this.sd)this.sd(a);else if(fa(a))if(ea(a.Ra))a.Ra();else for(var b in a)delete a[b]};
p.ha=function(){H.cb.ha.call(this);for(var a=this.Ga;a.length;)this.pc(a.pop());delete this.Ga};function dc(){this.sb=[];this.Kc=new Wa;this.re=this.se=this.te=this.je=0;this.Gb=new Wa;this.od=this.qe=0;this.lg=1;this.qc=new H(0,4E3);this.qc.nb=function(){return new ec};this.ke=new H(0,50);this.ke.nb=function(){return new fc};var a=this;this.Bc=new H(0,2E3);this.Bc.nb=function(){return String(a.lg++)};this.Bc.pc=function(){};this.lf=3}function fc(){this.Yc=this.ne=this.nc=0}
fc.prototype.toString=function(){var a=[];a.push(this.type," ",this.nc," (",Math.round(this.ne*10)/10," ms)");this.Yc&&a.push(" [VarAlloc = ",this.Yc,"]");return a.join("")};function ec(){}function gc(a,b,c,d){var e=[];c==-1?e.push("    "):e.push(hc(a.vd-c));e.push(" ",ic(a.vd-b));if(a.rc==0)e.push(" Start        ");else if(a.rc==1){e.push(" Done ");e.push(hc(a.Ch-a.startTime)," ms ")}else e.push(" Comment      ");e.push(d,a);a.Rg>0&&e.push("[VarAlloc ",a.Rg,"] ");return e.join("")}
ec.prototype.toString=function(){return this.type==l?this.ef:"["+this.type+"] "+this.ef};dc.prototype.reset=function(a){this.lf=a;for(a=0;a<this.sb.length;a++){var b=this.qc.id;b&&cc(this.Bc,b);cc(this.qc,this.sb[a])}this.sb.length=0;this.Kc.clear();this.je=la();this.od=this.qe=this.re=this.se=this.te=0;b=Xa(this.Gb);for(a=0;a<b.length;a++){var c=this.Gb.get(b[a]);c.nc=0;c.ne=0;c.Yc=0;cc(this.ke,c)}this.Gb.clear()};
dc.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.sb.length;d++){var e=this.sb[d];e.rc==1&&c.pop();a.push(" ",gc(e,this.je,b,c.join("")));b=e.vd;a.push("\n");e.rc==0&&c.push("|  ")}if(this.Kc.T!=0){var f=la();a.push(" Unstopped timers:\n");Va(this.Kc,function(g){a.push("  ",g," (",f-g.startTime," ms, started at ",ic(g.startTime),")\n")})}b=Xa(this.Gb);for(d=0;d<b.length;d++){c=this.Gb.get(b[d]);c.nc>1&&a.push(" TOTAL ",c,"\n")}a.push("Total tracers created ",this.qe,"\n","Total comments created ",
this.od,"\n","Overhead start: ",this.te," ms\n","Overhead end: ",this.se," ms\n","Overhead comment: ",this.re," ms\n");return a.join("")};function hc(a){a=Math.round(a);var b="";if(a<1E3)b=" ";if(a<100)b="  ";if(a<10)b="   ";return b+a}function ic(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new dc;function I(a,b){this.a=E("lanyard.geom.Angle");isNaN(a)&&D(this.a,"Attempted to create an angle with invalid degrees.");isNaN(b)&&D(this.a,"Attempted to create an angle with invalid radians.");this.d=a;this.G=b}s("lanyard.geom.Angle",I,void 0);I.prototype.Ib=Math.PI/180;s("lanyard.geom.Angle.prototype.DEGREES_TO_RADIANS",I.prototype.Ib,void 0);I.prototype.fb=180/Math.PI;s("lanyard.geom.Angle.prototype.RADIANS_TO_DEGREES",I.prototype.fb,void 0);I.prototype.eb=Math.PI/2;
s("lanyard.geom.Angle.prototype.PIOver2",I.prototype.eb,void 0);I.prototype.g=function(a){return new I(a,I.prototype.Ib*a)};s("lanyard.geom.Angle.prototype.fromDegrees",I.prototype.g,void 0);I.prototype.N=function(a){return new I(I.prototype.fb*a,a)};s("lanyard.geom.Angle.prototype.fromRadians",I.prototype.N,void 0);I.prototype.Qf=o("d");s("lanyard.geom.Angle.prototype.getDegrees",I.prototype.Qf,void 0);I.prototype.Tf=o("G");s("lanyard.geom.Angle.prototype.getRadians",I.prototype.Tf,void 0);
I.prototype.ZERO=I.prototype.g(0);s("lanyard.geom.Angle.prototype.ZERO",I.prototype.ZERO,void 0);I.prototype.dc=I.prototype.g(90);s("lanyard.geom.Angle.prototype.POS90",I.prototype.dc,void 0);I.prototype.bc=I.prototype.g(-90);s("lanyard.geom.Angle.prototype.NEG90",I.prototype.bc,void 0);I.prototype.cc=I.prototype.g(180);s("lanyard.geom.Angle.prototype.POS180",I.prototype.cc,void 0);I.prototype.ac=I.prototype.g(-180);s("lanyard.geom.Angle.prototype.NEG180",I.prototype.ac,void 0);I.prototype.Ke=I.prototype.g(360);
s("lanyard.geom.Angle.prototype.POS360",I.prototype.Ke,void 0);I.prototype.tf=function(a){a=a<-90?-90:a>90?90:a;return new I(a,I.prototype.Ib*a)};s("lanyard.geom.Angle.prototype.fromDegreesLatitude",I.prototype.tf,void 0);I.prototype.xf=function(a){a=a<I.prototype.eb?-I.prototype.eb:a>I.prototype.eb?I.prototype.eb:a;var b=I.prototype.fb*a;b=b<-90?-90:b>90?90:b;return new I(b,a)};s("lanyard.geom.Angle.prototype.fromRadiansLatitude",I.prototype.xf,void 0);
I.prototype.uf=function(a){a=a<-180?-180:a>180?180:a;var b=I.prototype.Ib*a;b=b<-Math.PI?-Math.PI:b>Math.PI?Math.PI:b;return new I(a,b)};s("lanyard.geom.Angle.prototype.fromDegreesLongitude",I.prototype.uf,void 0);I.prototype.yf=function(a){a=a<-Math.PI?-Math.PI:a>Math.PI?Math.PI:a;var b=I.prototype.fb*a;b=b<-180?-180:b>180?180:b;return new I(b,a)};s("lanyard.geom.Angle.prototype.fromRadiansLongitude",I.prototype.yf,void 0);
I.prototype.zf=function(a,b){var c=Math.atan2(b,a);return new I(I.prototype.fb*c,c)};s("lanyard.geom.Angle.prototype.fromXY",I.prototype.zf,void 0);I.prototype.add=function(a){return I.prototype.g(this.d+a.d)};s("lanyard.geom.Angle.prototype.add",I.prototype.add,void 0);I.prototype.L=function(a){return I.prototype.g(this.d-a.d)};s("lanyard.geom.Angle.prototype.subtract",I.prototype.L,void 0);I.prototype.multiply=function(a){return I.prototype.g(this.d*a)};
s("lanyard.geom.Angle.prototype.multiply",I.prototype.multiply,void 0);I.prototype.of=function(a){return this.d/a.d};s("lanyard.geom.Angle.prototype.divideByAngle",I.prototype.of,void 0);I.prototype.pf=function(a){return I.prototype.g(this.d/a)};s("lanyard.geom.Angle.prototype.divideByDegrees",I.prototype.pf,void 0);I.prototype.cf=function(a){return I.prototype.N(this.G+a)};s("lanyard.geom.Angle.prototype.addRadians",I.prototype.cf,void 0);I.prototype.jc=function(a){return I.prototype.g(this.d+a)};
s("lanyard.geom.Angle.prototype.addDegrees",I.prototype.jc,void 0);I.prototype.Og=function(a){return I.prototype.N(this.G-a)};s("lanyard.geom.Angle.prototype.subtractRadians",I.prototype.Og,void 0);I.prototype.sin=function(){return Math.sin(this.G)};s("lanyard.geom.Angle.prototype.sin",I.prototype.sin,void 0);I.prototype.Mg=function(){return Math.sin(0.5*this.G)};s("lanyard.geom.Angle.prototype.sinHalfAngle",I.prototype.Mg,void 0);I.prototype.asin=function(a){return I.prototype.N(Math.asin(a))};
s("lanyard.geom.Angle.prototype.asin",I.prototype.asin,void 0);I.prototype.cos=function(){return Math.cos(this.G)};s("lanyard.geom.Angle.prototype.cos",I.prototype.cos,void 0);I.prototype.gf=function(){return Math.cos(0.5*this.G)};s("lanyard.geom.Angle.prototype.cosHalfAngle",I.prototype.gf,void 0);I.prototype.acos=function(a){return I.prototype.N(Math.acos(a))};s("lanyard.geom.Angle.prototype.acos",I.prototype.acos,void 0);I.prototype.Uc=function(){return Math.tan(0.5*this.G)};
s("lanyard.geom.Angle.prototype.tanHalfAngle",I.prototype.Uc,void 0);I.prototype.atan=function(a){return I.prototype.N(Math.atan(a))};s("lanyard.geom.Angle.prototype.atan",I.prototype.atan,void 0);I.prototype.gg=function(a,b){return I.prototype.g(0.5*(a.d+b.d))};s("lanyard.geom.Angle.prototype.midAngle",I.prototype.gg,void 0);I.prototype.kc=function(a,b,c){return c?I.prototype.g((a.d+b.d+c.d)/3):I.prototype.g(0.5*(a.d+b.d))};s("lanyard.geom.Angle.prototype.average",I.prototype.kc,void 0);
I.prototype.ga=function(a){if(this.d<a.d)return-1;if(this.d>a.d)return 1;return 0};s("lanyard.geom.Angle.prototype.compareTo",I.prototype.ga,void 0);function jc(a,b){var c=b%180;return c>90?180-c:c<-90?-180-c:c}function kc(a,b){var c=b%360;return c>180?c-360:c<-180?360+c:c}I.prototype.toString=function(){return"This Angle equals "+this.d+" ("+this.G+" radians)."};s("lanyard.geom.Angle.prototype.toString",I.prototype.toString,void 0);function J(a,b,c,d){this.b=a;this.c=b;this.e=c;this.z=d?d:1}s("lanyard.geom.Point",J,void 0);J.prototype.ZERO=new J(0,0,0,1);s("lanyard.geom.Point.prototype.ZERO",J.prototype.ZERO,void 0);J.prototype.Me=new J(1,0,0,1);s("lanyard.geom.Point.prototype.UNIT_X",J.prototype.Me,void 0);J.prototype.Ne=new J(0,1,0,1);s("lanyard.geom.Point.prototype.UNIT_Y",J.prototype.Ne,void 0);J.prototype.Oe=new J(0,0,1,1);s("lanyard.geom.Point.prototype.UNIT_Z",J.prototype.Oe,void 0);J.prototype.Uf=o("z");
s("lanyard.geom.Point.prototype.getW",J.prototype.Uf,void 0);J.prototype.yc=o("b");s("lanyard.geom.Point.prototype.getX",J.prototype.yc,void 0);J.prototype.zc=o("c");s("lanyard.geom.Point.prototype.getY",J.prototype.zc,void 0);J.prototype.Vf=o("e");s("lanyard.geom.Point.prototype.getZ",J.prototype.Vf,void 0);J.prototype.translate=function(a){return new J(a.q*this.b+a.h*this.c+a.k*this.e+a.o,a.r*this.b+a.i*this.c+a.l*this.e+a.p,a.s*this.b+a.j*this.c+a.m*this.e+a.t,1)};
s("lanyard.geom.Point.prototype.translate",J.prototype.translate,void 0);J.prototype.add=function(a){return new J(this.b+a.b,this.c+a.c,this.e+a.e,1)};s("lanyard.geom.Point.prototype.add",J.prototype.add,void 0);J.prototype.L=function(a){return new J(this.b-a.b,this.c-a.c,this.e-a.e,1)};s("lanyard.geom.Point.prototype.subtract",J.prototype.L,void 0);J.prototype.multiply=function(a){return new J(this.b*a,this.c*a,this.e*a,1)};s("lanyard.geom.Point.prototype.multiply",J.prototype.multiply,void 0);
J.prototype.scale=function(a,b,c){return this.z?new J(this.b*a,this.c*b,this.e*c,this.z):new J(this.b*a,this.c*b,this.e*c,1)};s("lanyard.geom.Point.prototype.scale",J.prototype.scale,void 0);J.prototype.length=function(){return Math.sqrt(this.oa())};s("lanyard.geom.Point.prototype.length",J.prototype.length,void 0);J.prototype.normalize=function(){var a=1/this.length();return this.scale(a,a,a)};s("lanyard.geom.Point.prototype.normalize",J.prototype.normalize,void 0);
J.prototype.H=function(a){return this.b*a.b+this.c*a.c+this.e*a.e};s("lanyard.geom.Point.prototype.dot",J.prototype.H,void 0);J.prototype.oa=function(){return this.b*this.b+this.c*this.c+this.e*this.e};s("lanyard.geom.Point.prototype.selfDot",J.prototype.oa,void 0);J.prototype.qf=function(a){return this.b*a.b+this.c*a.c+this.e*a.e+this.z*this.z};s("lanyard.geom.Point.prototype.dot4",J.prototype.qf,void 0);
J.prototype.fa=function(a){var b=this.b-a.b,c=this.c-a.c;a=this.e-a.e;return Math.sqrt(b*b+c*c+a*a)};s("lanyard.geom.Point.prototype.distanceTo",J.prototype.fa,void 0);J.prototype.nf=function(a){var b=this.b-a.b,c=this.c-a.c;a=this.e-a.e;return b*b+c*c+a*a};s("lanyard.geom.Point.prototype.distanceToSquared",J.prototype.nf,void 0);J.prototype.hg=function(a,b){return new J(0.5*(a.b+b.b),0.5*(a.c+b.c),0.5*(a.e+b.e),1)};s("lanyard.geom.Point.prototype.midPoint",J.prototype.hg,void 0);
J.prototype.Nb=function(a,b,c){return new J(a*b.b+c.b,a*b.c+c.c,a*b.e+c.e,1)};s("lanyard.geom.Point.prototype.fromOriginAndDirection",J.prototype.Nb,void 0);J.prototype.ff=function(a){if(a.length===0)return[J.prototype.ZERO,J.prototype.ZERO];for(var b=a[0].b,c=a[0].c,d=a[0].e,e=b,f=c,g=d,h=0;h<a.length;h+=1){var k=a[h].b;if(k>e)e=k;else if(k<b)b=k;k=a[h].c;if(k>f)f=k;else if(k<c)c=k;k=a[h].e;if(k>g)g=k;else if(k<d)d=k}return[new J(b,c,d,1),new J(e,f,g,1)]};
s("lanyard.geom.Point.prototype.composeExtrema",J.prototype.ff,void 0);J.prototype.hf=function(a){return new J(this.c*a.e-this.e*a.c,this.e*a.b-this.b*a.e,this.b*a.c-this.c*a.b,1)};s("lanyard.geom.Point.prototype.cross",J.prototype.hf,void 0);J.prototype.toString=function(){return"A point with values of x="+this.b+"; y="+this.c+"; z="+this.e+"; w="+this.z+"."};s("lanyard.geom.Point.prototype.toString",J.prototype.toString,void 0);function lc(a,b,c,d,e,f){this.Ea=a;this.gb=b;this.Ma=c;this.Na=d;this.Ka=e;this.Oa=f}s("lanyard.geom.Frustum",lc,void 0);function mc(a){return a.Ea}lc.prototype.zb=function(a){var b=a.wc();a=-a.Ha();if(this.gb.H(b)<=a)return m;if(this.Ma.H(b)<=a)return m;if(this.Na.H(b)<=a)return m;if(this.Oa.H(b)<=a)return m;if(this.Ka.H(b)<=a)return m;if(this.Ea.H(b)<=a)return m;return j};
lc.prototype.contains=function(a){if(this.gb.H(a)<0)return m;if(this.Ma.H(a)<0)return m;if(this.Na.H(a)<0)return m;if(this.Oa.H(a)<0)return m;if(this.Ka.H(a)<0)return m;if(this.Ea.H(a)<0)return m;return j};lc.prototype.toString=function(){return"near: "+this.Ea.toString()+"... far: "+this.gb.toString()+"... left: "+this.Ma.toString()+"... right: "+this.Na.toString()+"... bottom: "+this.Ka.toString()+"... top: "+this.Oa.toString()};function L(a,b){this.jd=a;this.Xe=b}s("lanyard.geom.Intersection",L,void 0);L.prototype.toString=function(){var a=this.Xe?" is a tangent.":" not a tangent";return"Intersection Point: "+this.jd.toString()+a};function nc(a,b){this.qa=a;this.ja=b}s("lanyard.geom.Line",nc,void 0);function M(a,b){return J.prototype.Nb(b,a.ja,a.qa)}nc.prototype.oa=function(){return this.qa.H(this.ja)};nc.prototype.fa=function(a){a=this.qa.L(a);var b=this.ja.multiply(a.H(this.ja)/this.ja.oa()).oa();return Math.sqrt(a.oa()-b)};nc.prototype.toString=function(){return"Origin: "+this.qa.toString()+", Direction: "+this.ja.toString()};function N(a,b,c,d){this.P=new J(a,b,c,d)}function oc(a,b){if(b.oa()===0)i("geom.Plane.VectorIsZero");return new N(b.b,b.c,b.e,b.z)}function pc(a){return a.P.z}N.prototype.H=function(a){return this.P.b*a.b+this.P.c*a.c+this.P.e*a.e+this.P.z*a.z};N.prototype.toString=function(){return this.P.toString()};function O(a,b,c){this.B=a;this.C=b;this.gd=c}p=O.prototype;p.ZERO=new O(I.prototype.ZERO,I.prototype.ZERO,0);p.N=function(a,b,c){return new O(I.prototype.N(a),I.prototype.N(b),c)};p.g=function(a,b,c){return new O(I.prototype.g(a),I.prototype.g(b),c)};p.wf=function(a,b){return new O(a.B,a.C,b)};p.$=o("gd");p.add=function(a){var b=I.prototype.g(jc(I.prototype,this.B.add(a.B).d)),c=I.prototype.g(kc(I.prototype,this.C.add(a.C).d));return new O(b,c,this.$()+a.$())};
p.L=function(a){var b=I.prototype.g(jc(I.prototype,this.B.L(a.B).d)),c=I.prototype.g(kc(I.prototype,this.C.L(a.C).d));return new O(b,c,this.$()-a.$())};p.toString=function(){return"A position with a longitude of "+this.C+", a latitude of "+this.B+" and an elevation of "+this.gd};function qc(a,b,c,d){this.a=E("lanyard.globes.EllipsoidalGlobe");this.R=a;this.Cb=b;this.Ta=c;this.lc=J.prototype.ZERO;this.wa=d}s("lanyard.globes.EllipsoidalGlobe",qc,void 0);p=qc.prototype;p.Ha=o("R");p.wc=o("lc");p.xa=function(){return this};p.Dc=function(a){return a.zb(this)};
p.Cc=function(a){var b=this.R/this.Cb,c=b*b,d=a.ja.b,e=a.ja.c,f=a.ja.e,g=a.qa.b,h=a.qa.c,k=a.qa.e;b=d*d+c*e*e+1*f*f;d=2*(g*d+c*h*e+1*k*f);c=this.pb(b,d,g*g+c*h*h+1*k*k-this.R*this.R);if(c<0)return l;g=Math.sqrt(c);return c===0?[new L(M(a,(-d-g)/(2*b)),j)]:[new L(M(a,(-d-g)/(2*b)),m),new L(M(a,(-d+g)/(2*b)),m)]};p.pb=function(a,b,c){return b*b-4*a*c};p.$=function(a,b){return this.wa?this.wa.$(a,b):0};function rc(a,b){return P(a,b.B,b.C,b.$())}
function P(a,b,c,d){var e=b.cos();b=b.sin();b=a.R/Math.sqrt(1-a.Ta*b*b);return new J((b+d)*e*c.sin(),(b*(1-a.Ta)+d)*c.cos(),(b+d)*e*c.cos(),1)}
function sc(a,b){var c=1/(a.R*a.R),d=b.e,e=b.b,f=b.c,g=a.Ta,h=g*g,k=d*d+e*e,q=Math.sqrt(k),u=k*c;c=f*f*(1-g)*c;k=1/6*(u+c-h);u=h*u*c/(4*k*k*k);u=Math.pow(1+u+Math.sqrt(u*(2+u)),1/3);k=k*(1+u+1/u);h=Math.sqrt(k*k+h*c);c=g*(k+h-c)/(2*h);h=Math.sqrt(k+h+c*c)-c;c=h*q/(h+g);k=Math.sqrt(c*c+f*f);return O.prototype.N(2*Math.atan2(f,c+k),2*Math.atan2(e,d+q),(h+g-1)*k/h)}p.Vc=function(a){return tc(a.aa()).Vc(a)};function uc(){this.Cb=this.R=6378137;this.Ta=0;this.lc=J.prototype.ZERO;this.wa=l;qc.call(this,this.R,this.Cb,this.Ta,this.wa);this.a=E("lanyard.globes.Earth")}s("lanyard.globes.Earth",uc,void 0);x(uc,qc);uc.prototype.Ha=o("R");function vc(){this.Z=[]}vc.prototype.add=function(a){this.Z.push(a)};vc.prototype.length=function(){return this.Z?this.Z.length:0};vc.prototype.clear=function(){this.Z=[]};vc.prototype.xc=function(a,b,c){var d;for(d=0;d<this.Z.length;d+=1)if(this.Z[d].ia().contains(a,b)){var e=this.Z[d].xc(a,b,c);if(e)return e}return l};function Q(a){this.v=this.m=this.i=this.q=1;this.s=this.r=0;this.w=1;this.j=this.h=0;this.n=1;this.l=this.k=0;this.u=1;this.t=this.p=this.o=0;this.ka=j;if(a){this.q=a[0];this.h=a[1];this.k=a[2];this.o=a[3];this.r=a[4];this.i=a[5];this.l=a[6];this.p=a[7];this.s=a[8];this.j=a[9];this.m=a[10];this.t=a[11];this.w=a[12];this.n=a[13];this.u=a[14];this.v=a[15];this.ka=m}}s("lanyard.geom.MatrixFour",Q,void 0);
Q.prototype.toString=function(){var a=this.Va(),b="MatrixFour : \n[ ",c;for(c=0;c<a.length;c++){b+=a[c]+", ";if(c==3||c==7||c==11||c==14)b+="\n"}b+=" ]";return b};s("lanyard.geom.MatrixFour.prototype.toString",Q.prototype.toString,void 0);Q.prototype.Va=function(){var a=[];a[0]=this.q;a[1]=this.h;a[2]=this.k;a[3]=this.o;a[4]=this.r;a[5]=this.i;a[6]=this.l;a[7]=this.p;a[8]=this.s;a[9]=this.j;a[10]=this.m;a[11]=this.t;a[12]=this.w;a[13]=this.n;a[14]=this.u;a[15]=this.v;return a};
s("lanyard.geom.MatrixFour.prototype.getEntries",Q.prototype.Va,void 0);Q.prototype.Jg=function(){this.q=1;this.h=this.w=this.s=this.r=0;this.i=1;this.l=this.k=this.n=this.j=0;this.m=1;this.t=this.p=this.o=this.u=0;this.v=1;this.ka=j};s("lanyard.geom.MatrixFour.prototype.setToIdentity",Q.prototype.Jg,void 0);Q.prototype.ag=o("ka");s("lanyard.geom.MatrixFour.prototype.isOrthonormal",Q.prototype.ag,void 0);Q.prototype.Qc=n("ka");s("lanyard.geom.MatrixFour.prototype.setOrthonormal",Q.prototype.Qc,void 0);
function wc(a,b){var c=b.cos(),d=b.sin(),e=a.r*-d+a.s*c,f=a.i*c+a.j*d,g=a.i*-d+a.j*c,h=a.l*c+a.m*d,k=a.l*-d+a.m*c,q=a.p*c+a.t*d,u=a.p*-d+a.t*c;a.r=a.r*c+a.s*d;a.s=e;a.i=f;a.j=g;a.l=h;a.m=k;a.p=q;a.t=u;return a}Q.prototype.translate=function(a,b,c){this.w=this.q*a+this.r*b+this.s*c+this.w;this.n=this.h*a+this.i*b+this.j*c+this.n;this.u=this.k*a+this.l*b+this.m*c+this.u;this.v=this.o*a+this.p*b+this.t*c+this.v;return this};Q.prototype.ue=function(a){return this.translate(a.b,a.c,a.e)};
s("lanyard.geom.MatrixFour.prototype.translatePoint",Q.prototype.ue,void 0);Q.prototype.add=function(a){this.q+=a.q;this.r+=a.r;this.s+=a.s;this.w+=a.w;this.h+=a.h;this.i+=a.i;this.j+=a.j;this.n+=a.n;this.k+=a.k;this.l+=a.l;this.m+=a.m;this.u+=a.u;this.o+=a.o;this.p+=a.p;this.t+=a.t;this.v+=a.v;this.ka=this.ka||a.ka;return this};
Q.prototype.multiply=function(a){var b=this.q*a.r+this.r*a.i+this.s*a.l+this.w*a.p,c=this.q*a.s+this.r*a.j+this.s*a.m+this.w*a.t,d=this.q*a.w+this.r*a.n+this.s*a.u+this.w*a.v,e=this.h*a.q+this.i*a.h+this.j*a.k+this.n*a.o,f=this.h*a.r+this.i*a.i+this.j*a.l+this.n*a.p,g=this.h*a.s+this.i*a.j+this.j*a.m+this.n*a.t,h=this.h*a.w+this.i*a.n+this.j*a.u+this.n*a.v,k=this.k*a.q+this.l*a.h+this.m*a.k+this.u*a.o,q=this.k*a.r+this.l*a.i+this.m*a.l+this.u*a.p,u=this.k*a.s+this.l*a.j+this.m*a.m+this.u*a.t,v=this.k*
a.w+this.l*a.n+this.m*a.u+this.u*a.v,w=this.o*a.q+this.p*a.h+this.t*a.k+this.v*a.o,z=this.o*a.r+this.p*a.i+this.t*a.l+this.v*a.p,ra=this.o*a.s+this.p*a.j+this.t*a.m+this.v*a.t,U=this.o*a.w+this.p*a.n+this.t*a.u+this.v*a.v;this.q=this.q*a.q+this.r*a.h+this.s*a.k+this.w*a.o;this.r=b;this.s=c;this.w=d;this.h=e;this.i=f;this.j=g;this.n=h;this.k=k;this.l=q;this.m=u;this.u=v;this.o=w;this.p=z;this.t=ra;this.v=U;this.$f=this.$f||a.ka;return this};
function xc(a){var b;if(a.ka){b=new Q(l);b.q=a.q;b.r=a.h;b.s=a.k;b.h=a.r;b.i=a.i;b.j=a.l;b.k=a.s;b.l=a.j;b.m=a.m;b.w=-(b.q*a.w+b.r*a.n+b.s*a.u);b.n=-(b.h*a.w+b.i*a.n+b.j*a.u);b.u=-(b.k*a.w+b.l*a.n+b.m*a.u);b=b}else{b=a.q*(a.i*a.m*a.v+a.j*a.u*a.p+a.n*a.l*a.t-a.n*a.m*a.p-a.i*a.u*a.t-a.j*a.l*a.v)-a.r*(a.h*a.m*a.v+a.j*a.u*a.o+a.n*a.k*a.t-a.n*a.m*a.o-a.h*a.u*a.t-a.j*a.k*a.v)+a.s*(a.h*a.l*a.v+a.i*a.u*a.o+a.n*a.k*a.p-a.n*a.l*a.o-a.h*a.u*a.p-a.i*a.k*a.v)-a.w*(a.h*a.l*a.t+a.i*a.m*a.o+a.j*a.k*a.p-a.j*a.l*a.o-
a.h*a.m*a.p-a.i*a.k*a.t);if(b===0)b=l;else{b=1/b;var c=new Q(l),d=a.m*a.v-a.u*a.t,e=a.u*a.p-a.l*a.v,f=a.l*a.t-a.m*a.p,g=a.j*a.v-a.n*a.t,h=a.n*a.p-a.i*a.v,k=a.j*a.u-a.n*a.m,q=a.i*a.m-a.j*a.l,u=a.u*a.o-a.k*a.v,v=a.k*a.t-a.m*a.o,w=a.n*a.o-a.h*a.v,z=a.n*a.k-a.h*a.u,ra=a.l*a.v-a.u*a.p,U=a.k*a.p-a.l*a.o,K=a.h*a.p-a.i*a.o,Ka=a.h*a.l-a.i*a.k,sa=a.m*a.o-a.k*a.t;c.q=b*a.i*d+a.j*e+a.n*f;c.r=-b*a.r*d+a.s*e+a.w*f;c.s=b*a.r*g+a.s*(a.n*a.p-a.i*a.v)+a.w*h;c.w=-b*a.r*k+a.s*(a.n*a.l-a.i*a.u)+a.w*q;c.h=-b*a.h*d+a.j*
u+a.n*v;c.i=b*a.q*d+a.s*u+a.w*v;c.j=-b*a.q*g+a.s*w+a.w*(a.h*a.t-a.j*a.o);c.n=-b*a.q*k+a.s*z+a.w*(a.h*a.m-a.j*a.k);c.k=b*a.h*ra+a.i*u+a.n*U;c.l=-b*a.q*ra+a.r*u+a.w*U;c.m=-b*a.q*(a.i*a.v-a.n*a.p)+a.r*w+a.w*K;c.u=b*a.q*(a.i*a.u-a.n*a.l)+a.r*z+a.w*Ka;c.o=-b*a.h*f+a.i*sa+a.j*U;c.p=-b*a.q*f+a.r*sa+a.s*U;c.t=b*a.q*h+a.r*(a.j*a.o-a.h*a.t)+a.s*K;c.v=-b*a.q*q+a.r*(a.j*a.k-a.h*a.m)+a.s*Ka;b=c}}b=b;b.Qc(a.ka);return b}
Q.prototype.transform=function(a){return new J(this.q*a.b+this.r*a.c+this.s*a.e+this.w*a.z,this.h*a.b+this.i*a.c+this.j*a.e+this.n*a.z,this.k*a.b+this.l*a.c+this.m*a.e+this.u*a.z,this.o*a.b+this.p*a.c+this.t*a.e+this.v*a.z)};Q.prototype.Af=o("q");s("lanyard.geom.MatrixFour.prototype.get11",Q.prototype.Af,void 0);Q.prototype.tg=n("q");s("lanyard.geom.MatrixFour.prototype.set11",Q.prototype.tg,void 0);Q.prototype.Ff=o("i");s("lanyard.geom.MatrixFour.prototype.get22",Q.prototype.Ff,void 0);
Q.prototype.yg=n("i");s("lanyard.geom.MatrixFour.prototype.set22",Q.prototype.yg,void 0);Q.prototype.Kf=o("m");s("lanyard.geom.MatrixFour.prototype.get33",Q.prototype.Kf,void 0);Q.prototype.Dg=n("m");s("lanyard.geom.MatrixFour.prototype.set33",Q.prototype.Dg,void 0);Q.prototype.Pf=o("v");s("lanyard.geom.MatrixFour.prototype.get44",Q.prototype.Pf,void 0);Q.prototype.Ig=n("v");s("lanyard.geom.MatrixFour.prototype.set44",Q.prototype.Ig,void 0);Q.prototype.Bf=o("r");
s("lanyard.geom.MatrixFour.prototype.get12",Q.prototype.Bf,void 0);Q.prototype.ug=n("r");s("lanyard.geom.MatrixFour.prototype.set12",Q.prototype.ug,void 0);Q.prototype.Cf=o("s");s("lanyard.geom.MatrixFour.prototype.get13",Q.prototype.Cf,void 0);Q.prototype.vg=n("s");s("lanyard.geom.MatrixFour.prototype.set13",Q.prototype.vg,void 0);Q.prototype.Df=o("w");s("lanyard.geom.MatrixFour.prototype.get14",Q.prototype.Df,void 0);Q.prototype.wg=n("w");
s("lanyard.geom.MatrixFour.prototype.set14",Q.prototype.wg,void 0);Q.prototype.Ef=o("h");s("lanyard.geom.MatrixFour.prototype.get21",Q.prototype.Ef,void 0);Q.prototype.xg=n("h");s("lanyard.geom.MatrixFour.prototype.set21",Q.prototype.xg,void 0);Q.prototype.Gf=o("j");s("lanyard.geom.MatrixFour.prototype.get23",Q.prototype.Gf,void 0);Q.prototype.zg=n("j");s("lanyard.geom.MatrixFour.prototype.set23",Q.prototype.zg,void 0);Q.prototype.Hf=o("n");
s("lanyard.geom.MatrixFour.prototype.get24",Q.prototype.Hf,void 0);Q.prototype.Ag=n("n");s("lanyard.geom.MatrixFour.prototype.set24",Q.prototype.Ag,void 0);Q.prototype.If=o("k");s("lanyard.geom.MatrixFour.prototype.get31",Q.prototype.If,void 0);Q.prototype.Bg=n("k");s("lanyard.geom.MatrixFour.prototype.set31",Q.prototype.Bg,void 0);Q.prototype.Jf=o("l");s("lanyard.geom.MatrixFour.prototype.get32",Q.prototype.Jf,void 0);Q.prototype.Cg=n("l");
s("lanyard.geom.MatrixFour.prototype.set32",Q.prototype.Cg,void 0);Q.prototype.Lf=o("u");s("lanyard.geom.MatrixFour.prototype.get34",Q.prototype.Lf,void 0);Q.prototype.Eg=n("u");s("lanyard.geom.MatrixFour.prototype.set34",Q.prototype.Eg,void 0);Q.prototype.Mf=o("o");s("lanyard.geom.MatrixFour.prototype.get41",Q.prototype.Mf,void 0);Q.prototype.Fg=n("o");s("lanyard.geom.MatrixFour.prototype.set41",Q.prototype.Fg,void 0);Q.prototype.Nf=o("p");
s("lanyard.geom.MatrixFour.prototype.get42",Q.prototype.Nf,void 0);Q.prototype.Gg=n("p");s("lanyard.geom.MatrixFour.prototype.set42",Q.prototype.Gg,void 0);Q.prototype.Of=o("t");s("lanyard.geom.MatrixFour.prototype.get43",Q.prototype.Of,void 0);Q.prototype.Hg=n("t");s("lanyard.geom.MatrixFour.prototype.set43",Q.prototype.Hg,void 0);function yc(a,b,c,d){this.c=this.b=b;this.ld=c;this.We=d}yc.prototype.yc=o("b");yc.prototype.zc=o("c");yc.prototype.Xa=o("We");function zc(a,b,c){this.na=a;this.Ja=b;this.jf=this.na.fa(this.Ja);this.Qa=c;this.md=this.Ja.L(this.na).normalize()}s("lanyard.geom.Cylinder",zc,void 0);p=zc.prototype;p.toString=function(){return this.Qa+", "+this.na.toString()+", "+this.Ja.toString()+", "+this.md.toString()};
p.Cc=function(a){var b=a.ja,c=a.qa,d=b.b*b.b+b.c*b.c;b=2*(c.b*b.b+c.c*b.c);c=zc.prototype.pb(d,b,c.b*c.b+c.c*c.c-this.Qa*this.Qa);if(c<0)return l;var e=Math.sqrt(c);if(c===0)return[new L(M(a,(-b-e)/(2*d)),j)];else{c=M(a,(-b-e)/(2*d));a=M(a,(-b+e)/(2*d));var f=e=b=d=m;if(c.e>=0&&c.e<=this.Xa()){d=j;e=c.e===0}if(a.e>=0&&a.e<=this.Xa()){b=j;f=a.e===0}var g=l;if(d&&b)g=[new L(c,e),new L(a,f)];else if(d)g=[new L(c,e)];else if(b)g=[new L(a,f)];return g}};p.pb=function(a,b,c){return b*b-4*a*c};
function Ac(a,b,c,d){var e=b.H(a.na)<=-c,f;f=d<1?a.na.add(a.Ja.L(a.na).multiply(d)):a.Ja;var g=b.H(f)<=-c;if(e&&g)return-1;if(e===g)return d;return(c+b.H(a.na))/(new J(b.P.b,b.P.c,b.P.e,1)).H(a.na.L(f))}function Bc(a,b){var c=(new J(b.P.b,b.P.c,b.P.e,1)).H(a.md);c=1-c*c;return c<=0?0:a.Qa*Math.sqrt(c)}
p.Dc=function(a){var b,c=Bc(this,a.Ea);b=Ac(this,a.Ea,c,1);if(b<0)return m;b=Ac(this,a.gb,c,b);if(b<0)return m;c=Bc(this,a.Ma);b=Ac(this,a.Ma,c,b);if(b<0)return m;c=Bc(this,a.Na);b=Ac(this,a.Na,c,b);if(b<0)return m;c=Bc(this,a.Oa);b=Ac(this,a.Oa,c,b);if(b<0)return m;c=Bc(this,a.Ka);b=Ac(this,a.Ka,c,b);return b>=0};p.wc=function(){var a=this.na,b=this.Ja;return new J(0.5*(a.b+b.b),0.5*(a.c+b.c),0.5*(a.e+b.e),1)};p.Ha=function(){var a=0.5*this.na.fa(this.Ja);return Math.sqrt(a*a+this.Qa*this.Qa)};
p.Xa=o("jf");p.ta=function(){};function R(a,b,c,d){this.b=a;this.c=b;this.e=c;this.z=d;this.hd=1.0E-4}p=R.prototype;p.toString=function(){return"("+this.b+", "+this.c+", "+this.e+", "+this.z+")"};function Cc(a,b,c,d){a=Math.cos(b*0.5);var e=Math.cos(c*0.5),f=Math.cos(d*0.5);b=Math.sin(b*0.5);c=Math.sin(c*0.5);d=Math.sin(d*0.5);return new R(b*e*f-a*c*d,a*c*f+b*e*d,a*e*d-b*c*f,a*e*f+b*c*d)}p.add=function(a,b){return new R(a.b+b.b,a.c+b.c,a.e+b.e,a.z+b.z)};p.L=function(a,b){return new R(a.b-b.b,a.c-b.c,a.e-b.e,a.z-b.z)};
p.multiply=function(a,b){return new R(a.b*b.z+a.c*b.e-a.e*b.c,a.c*b.z+a.e*b.b-a.b*b.e,a.e*b.z+a.b*b.c-a.c*b.b,-a.b*b.b-a.c*b.c-a.e*b.e)};p.abs=function(a){return Math.sqrt(a.b*a.b+a.c*a.c+a.e*a.e+a.z*a.z)};p.H=function(a,b){return a.b*b.b+a.c*b.c+a.e*b.e+a.z*b.z};p.normalize=function(){var a=this.length();return new R(this.b/a,this.c/a,this.e/a,this.z/a)};p.length=function(){return Math.sqrt(this.b*this.b+this.c*this.c+this.e*this.e+this.z*this.z)};
p.exp=function(a){var b,c=Math.sqrt(a.b*a.b+a.c*a.c+a.e*a.e);b=Math.abs(c)<this.hd?1:Math.sin(c)/c;return new R(a.b*b,a.c*b,a.e*b,Math.cos(c))};function S(a,b){this.a=E("lanyard.geom.LatLon");a||D(this.a,"Attempted to create a LatLon with invalid latitude.");b||D(this.a,"Attempted to create a LatLon with invalid longitude.");this.B=a;this.C=b}s("lanyard.geom.LatLon",S,void 0);S.prototype.N=function(a,b){return new S(I.prototype.N(a),I.prototype.N(b))};S.prototype.g=function(a,b){return new S(I.prototype.g(a),I.prototype.g(b))};
S.prototype.Dd=function(a,b,c){if(a<0)return b;else if(a>1)return c;var d;b=Cc(R.prototype,b.C.G,b.B.G,0);var e=Cc(R.prototype,c.C.G,c.B.G,0),f=b.b*e.b+b.c*e.c+b.e*e.e+b.z*e.z,g;if(f<0){f=-f;c=-e.b;d=-e.c;g=-e.e;e=-e.z}else{c=e.b;d=e.c;g=e.e;e=e.z}if(1-f>R.prototype.hd){var h=Math.acos(f),k=Math.sin(h);f=Math.sin((1-a)*h)/k;a=Math.sin(a*h)/k}else{f=1-a;a=a}d=new R(f*b.b+a*c,f*b.c+a*d,f*b.e+a*g,f*b.z+a*e);a=d.z;b=d.b;c=d.c;d=d.e;a=new J(Math.atan2(2*(c*d+a*b),a*a-b*b-c*c+d*d),Math.asin(-2*(b*d-a*c)),
Math.atan2(2*(b*c+a*d),a*a+b*b-c*c-d*d),1);if(isNaN(a.b)||isNaN(a.c))return l;return S.prototype.N(a.c,a.b)};S.prototype.toString=function(){return"("+this.B.toString()+", "+this.C.toString()+")"};function Dc(a,b){this.ed=a;this.Jb=b}s("lanyard.geom.Sphere",Dc,void 0);Dc.prototype.Le=new Dc(J.prototype.ZERO,1);s("lanyard.geom.Sphere.prototype.UNIT_SPHERE",Dc.prototype.Le,void 0);p=Dc.prototype;p.Ha=o("Jb");p.wc=o("ed");p.pb=function(a,b,c){return b*b-4*a*c};p.Cc=function(a){var b=a.ja.oa(),c=2*a.oa(),d=Dc.prototype.pb(b,c,a.qa.oa()-this.Jb*this.Jb);if(d<0)return l;var e=Math.sqrt(d);return d===0?[new L(M(a,(-c-e)/(2*b)),j)]:[new L(M(a,(-c-e)/(2*b)),m),new L(M(a,(-c+e)/(2*b)),m)]};p.Dc=function(a){return a.zb(this)};
p.ta=function(){};p.toString=function(){return"Sphere: center = "+this.ed.toString()+" radius = "+this.Jb};function T(a,b,c,d){this.D=a;this.I=b;this.F=c;this.J=d;this.fc=I.prototype.g(this.I.d-this.D.d);this.fd=I.prototype.g(this.J.d-this.F.d)}s("lanyard.geom.Sector",T,void 0);p=T.prototype;p.Je=new T(I.prototype.bc,I.prototype.dc,I.prototype.ac,I.prototype.cc);p.g=function(a,b,c,d){return new T(I.prototype.g(a),I.prototype.g(b),I.prototype.g(c),I.prototype.g(d))};p.N=function(a,b,c,d){return new T(I.prototype.N(a),I.prototype.N(b),I.prototype.N(c),I.prototype.N(d))};
function Ec(a){var b=I.prototype.g(0.5*(a.I.d+a.D.d));a=I.prototype.g(0.5*(a.J.d+a.F.d));return new S(b,a)}function Fc(a,b,c,d){a=Ec(d);var e=(b.wa?b.wa.rh():0)*c;c=P(b,a.B,a.C,e);var f=P(b,d.D,d.F,0);a=c.normalize();f=a.H(f);a=a.scale(f,f,f);f=P(b,d.I,d.F,e);var g=P(b,d.D,d.J,e),h=P(b,d.D,d.F,e);e=P(b,d.I,d.J,e);b=h.fa(g);d=g.fa(e);e=e.fa(f);f=f.fa(h);h=0.5*(b+d+e+f);return new zc(a,c,Math.sqrt((b*d+e*f)*(b*f+d*e)*(b*e+d*f))/(4*Math.sqrt((h-b)*(h-d)*(h-e)*(h-f))))}
p.contains=function(a,b){return a.d>=this.D.d&&a.d<=this.I.d&&b.d>=this.F.d&&b.d<=this.J.d};p.zb=function(a){if(!a)return m;if(a.J.d<this.F.d)return m;if(a.F.d>this.J.d)return m;if(a.I.d<this.D.d)return m;if(a.D.d>this.I.d)return m;return j};p.toString=function(){return"A Sector with angles: ("+this.D.toString()+", "+this.F.toString()+"), ("+this.I.toString()+", "+this.J.toString()+")"};
p.ga=function(a){if(this.D.ga(a.D)<0)return-1;if(this.D.ga(a.D)>0)return 1;if(this.F.ga(a.F)<0)return-1;if(this.F.ga(a.F)>0)return 1;if(this.I.ga(a.I)<0)return-1;if(this.I.ga(a.I)>0)return 1;if(this.J.ga(a.J)<0)return-1;if(this.J.ga(a.J)>0)return 1;return 0};function Gc(a,b,c,d,e,f){this.ea=a;this.ba=b;this.Qg=c;this.Mc=d;this.Bd=Hc(f,this.ea);this.qg=e}s("lanyard.globes.RenderInfo",Gc,void 0);function V(a,b,c,d){this.a=E("lanyard.globes.RectTile");this.Qb=this.Xb=this.Vb=l;this.lh=this.mh=0;this.hb=a;this.kb=b;this.va=c;this.ca=d;this.Se=Fc(T.prototype,a,1,this.ca);a=d.fc.G*a.Ha()/c;this.Ze=Math.log(a)/Math.LN10;this.M=l;this.lb={};this.ib={}}p=V.prototype;p.ia=o("ca");p.xa=o("Se");
p.split=function(a,b){var c=this.ca,d=I.prototype.kc(c.D,c.I,l),e=I.prototype.kc(c.F,c.J,l),f=[];f[0]=new T(c.D,d,c.F,e);f[1]=new T(c.D,d,e,c.J);f[2]=new T(d,c.I,c.F,e);f[3]=new T(d,c.I,e,c.J);c=[];c[0]=new V(this.hb,b.kb+1,this.va,f[0]);c[1]=new V(this.hb,b.kb+1,this.va,f[1]);c[2]=new V(this.hb,b.kb+1,this.va,f[2]);c[3]=new V(this.hb,b.kb+1,this.va,f[3]);return c};
p.ta=function(a){var b=Hc(this,this.M.ea),c=a.f;Ic(a.S(),a,this.M.Mc);if(this.Vb)c.bindBuffer(c.ARRAY_BUFFER,this.Vb);else{this.Vb=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.Vb);c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.M.ba),c.STATIC_DRAW)}c.enableVertexAttribArray(a.V.getAttribLocation("aVertexPosition"));c.vertexAttribPointer(a.V.getAttribLocation("aVertexPosition"),3,c.FLOAT,m,0,0);if(this.Xb)c.bindBuffer(c.ARRAY_BUFFER,this.Xb);else{this.Xb=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,
this.Xb);c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.M.Qg),c.STATIC_DRAW)}c.enableVertexAttribArray(a.V.getAttribLocation("aTextureCoord0"));c.vertexAttribPointer(a.V.getAttribLocation("aTextureCoord0"),2,c.FLOAT,m,0,0);if(this.Qb)c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Qb);else{this.Qb=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Qb);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),c.STATIC_DRAW)}c.drawElements(c.TRIANGLE_STRIP,this.M.Bd.length,c.UNSIGNED_SHORT,0);Jc(a.S(),
a);return this.M.Bd.length-2};p.xc=function(a,b,c){if(!this.ca.contains(a,b))return l;if(!this.M)return l;var d=this.ca.D.d,e=this.ca.F.d;b=(b.d-e)/(this.ca.J.d-e);a=(a.d-d)/(this.ca.I.d-d);d=a*this.va;e=b*this.va;var f=this.M.ea,g=e/f,h=this.M.ea,k=d/h;b=V.prototype.Dd(d,e,(b-g)/((e+1)/f-g),(a-k)/((d+1)/h-k),this.M);b=b.add(this.M.Mc);if(c!==0){b=b;a=this.hb;d=b;d=d.L(a.lc);a=(new J(d.b/(a.R*a.R),d.c/(a.Cb*a.Cb),d.e/(a.R*a.R),1)).normalize();b=b=J.prototype.Nb(c,a,b)}return b};
p.Dd=function(a,b,c,d,e){a++;b++;var f=e.ea+3,g=a*f+b;g*=3;a=new J(e.ba[g],e.ba[g+1],e.ba[g+2],1);b=new J(e.ba[g+3],e.ba[g+4],e.ba[g+5],1);g+=f*3;f=new J(this.M.ba[g+3],this.M.ba[g+4],this.M.ba[g+5],1);e=new J(e.ba[g],e.ba[g+1],e.ba[g+2],1);g=c+d;if(g===1)d=new J(e.b*d+b.b*c,e.c*d+b.c*c,e.e*d+b.e*c,1);else if(g>1){c=e.L(f).multiply(1-c);d=b.L(f).multiply(1-d);d=f.add(c).add(d)}else{c=b.L(a).multiply(c);d=e.L(a).multiply(d);d=a.add(c).add(d)}return d};
p.toString=function(){return"level "+this.kb+", density "+this.va+", sector "+this.ca};
function Kc(a,b){if(b<1)b=1;if(a&&a.lb&&a.lb.ea)return a.lb.ea;var c=[],d=1/b,e=2*(b+3),f;for(f=0;f<b;f+=1){var g=f*d;c[e++]=0;c[e++]=g;var h;for(h=0;h<b;h+=1){c[e++]=h*d;c[e++]=g}c[e++]=0.999999;c[e++]=g;c[e++]=0.999999;c[e++]=g}c[e++]=0;c[e++]=0.999999;for(f=0;f<b;f+=1){c[e++]=f*d;c[e++]=0.999999}c[e++]=0.999999;c[e++]=0.999999;c[e++]=0.999999;c[e++]=0.999999;d=e-2*(b+3);for(f=0;f<b+3;f+=1){c[e++]=c[d++];c[e++]=c[d++]}e=0;d=2*(b+3);for(f=0;f<b+3;f+=1){c[e++]=c[d++];c[e++]=c[d++]}if(a.lb)a.lb.ea=
c;return c}function Hc(a,b){if(b<1)b=1;if(a.ib&&a.ib.ea)return a.ib.ea;var c=b+2,d=[],e=0,f;for(f=0;f<c;f+=1){d.push(e);if(f>0){d.push(++e);d.push(e)}if(f%2===0){d.push(++e);var g;for(g=0;g<c;g+=1){e+=c;d.push(e);d.push(++e)}}else{d.push(--e);for(g=0;g<c;g++){e-=c;d.push(e);d.push(--e)}}}if(a.ib)a.ib.ea=d;return d};function Lc(a){this.a=E("lanyard.globes.EllipsoidRectangularTessellator");for(var b=[],c=I.prototype.bc,d=0;d<5;d+=1){var e=c.jc(36);if(e.d+1>90)e=I.prototype.dc;for(var f=I.prototype.ac,g=0;g<10;g+=1){var h=f.jc(36);if(h.d+1>180)h=I.prototype.cc;f=new V(a,0,Lc.prototype.ze,new T(c,e,f,h));b.push(f);f=h}c=e}this.pe=b;this.fg=12;this.ob=new vc;this.qd=l;this.Lb=0;this.ua=l;this.ea=24}p=Lc.prototype;p.ze=24;p.Ae=1.3;p.ia=o("ua");
p.Vc=function(a){a||D(this.a,"Attempted to tessellate without a valid draw context.");this.ob.clear();this.Lb=0;this.ua=l;var b=a.S();b.X||D(b.a,"Attempted to compute a model-view coordinate frustum without a valid state matrix.");if(!b.Ob&&b.X){var c=b.Wa();if(c){var d=b.X,e=new Q(l);e.q=d.q;e.r=d.h;e.s=d.k;e.w=d.o;e.h=d.r;e.i=d.i;e.j=d.l;e.n=d.p;e.k=d.s;e.l=d.j;e.m=d.m;e.u=d.t;e.o=d.w;e.p=d.n;e.t=d.u;e.v=d.v;e.Qc(d.ka);d=oc(N.prototype,e.transform(c.Ea.P));var f=oc(N.prototype,e.transform(c.gb.P)),
g=oc(N.prototype,e.transform(c.Ma.P)),h=oc(N.prototype,e.transform(c.Na.P)),k=oc(N.prototype,e.transform(c.Ka.P));c=oc(N.prototype,e.transform(c.Oa.P));b.Ob=new lc(d,f,g,h,k,c)}else D(b.a,"Frustum for conversion to model coordinates was invalid.")}this.qd=b.Ob;for(b=0;b<this.pe.length;b+=1)Mc(this,a,this.pe[b]);a.Zc=this.ia();for(b=0;b<this.ob.length();b+=1){d=this.ob.Z[b];if(!(d.M&&d.M.qg>=0)){e=c=d;d=d.va;f=[];var q=a.U(),u=e.ca.D.G;g=e.ca.I.G;h=(g-u)/d;k=e.ca.F.G;var v=e.ca.J.G,w=(v-k)/d;u=u;var z=
(q.wa?q.wa.sh():0)*a.ya(),ra=q.R,U=q.Ta,K=Ec(e.ca);q=rc(q,new O(K.B,K.C,0));K=void 0;for(K=0;K<=d+2;K+=1){var Ka=Math.cos(u),sa=Math.sin(u),Tb=ra/Math.sqrt(1-U*sa*sa),mb=k,ia;for(ia=0;ia<=d+2;ia+=1){var nb=0;if(K===0||K>=d+2||ia===0||ia>=d+2)nb-=z>=0?z:-z;f=f.concat([(Tb+nb)*Ka*Math.sin(mb)-q.b,(Tb*(1-U)+nb)*sa-q.c,(Tb+nb)*Ka*Math.cos(mb)-q.e]);if(ia>d)mb=v;else if(ia!==0)mb+=w}if(K>d)u=g;else if(K!==0)u+=h}e=new Gc(d,f,Kc(e,d),q,0,e);c.M=e}}return this.ob};
function Mc(a,b,c){if(c.xa().Dc(a.qd)){var d;if(d=a.Lb<a.fg){if(!c||!c.ia())a.a.error("Attempted to perform a split check on an invalid tile.");var e=c.ia(),f=b.U();d=[];var g=e.D,h=e.I,k=e.F;e=e.J;d[0]=P(f,g,k,f.$(g,k));d[1]=P(f,g,e,f.$(g,e));d[2]=P(f,h,e,f.$(h,e));d[3]=P(f,h,k,f.$(h,k));h=c.ia();f=b.U();g=0.5*(h.F.d+h.J.d);h=I.prototype.g(0.5*(h.D.d+h.I.d));g=I.prototype.g(g);k=P(f,h,g,f.$(h,g));e=b.S();h=Nc(e).fa(d[0]);f=Nc(e).fa(d[1]);g=Nc(e).fa(d[2]);d=Nc(e).fa(d[3]);k=Nc(e).fa(k);h=h;if(f<h)h=
f;if(g<h)h=g;if(d<h)h=d;if(k<h)h=k;d=!(c.Ze<=Math.log(h)/Math.log(10)-Lc.prototype.Ae)}if(d){++a.Lb;c=c.split(b,c);for(d=1;d<c.length;d+=1)Mc(a,b,c[d]);--a.Lb}else{b=c.ia();if(d=a.ua){f=b.D;g=b.I;h=b.F;k=b.J;if(d.D.d<b.D.d)f=d.D;if(d.I.d>b.I.d)g=d.I;if(d.F.d<b.F.d)h=d.F;if(d.J.d>b.J.d)k=d.J;b=new T(f,g,h,k)}else b=b;a.ua=b;a.ob.add(c)}}}p.toString=function(){var a=Kc(V.prototype,5),b=Hc(V.prototype,5),c="",d;for(d=0;d<b.length;d+=1){var e=b[d];c+=e+": "+a[2*e]+", "+a[2*e+1]}return c};function Oc(){this.la=new uc;this.Wc=l;this.Fc=[];this.he=this.ie=this.Tc=m;this.Fc=[]}Oc.prototype.U=o("la");Oc.prototype.wb=o("Fc");function tc(a){if(!a.Wc&&a.la)a.Wc=new Lc(a.la);return a.Wc}Oc.prototype.xa=function(){var a=this.wb();if(a){var b;for(b=0;b<a.length;b+=1){var c=a[b];if(typeof c.xa==="function")if(c=c.xa())return c}}if(a=this.U())if(a=a.xa())return a;return l};function Pc(a,b){this.Ue=a;this.$e=b}s("lanyard.geom.ViewFrustum",Pc,void 0);Pc.prototype.vf=function(a,b,c,d,e){var f=e-d;a=1/a.Uc();b=c/b;c=Math.sqrt(a*a+1);var g=Math.sqrt(a*a+b*b);return new Pc(new lc(new N(0,0,-1,0-d),new N(0,0,1,e),new N(a/c,0,0-1/c,0),new N(0-a/c,0,0-1/c,0),new N(0,a/g,0-b/g,0),new N(0,0-a/g,0-b/g,0)),new Q([a,0,0,0,0,a/b,0,0,0,0,0-(e+d)/f,-1,0,0,0-2*e*d/f,0]))};Pc.prototype.Wa=o("Ue");Pc.prototype.zd=o("$e");function Qc(){}
Qc.prototype.Yb=function(a,b,c,d,e,f,g){a=[a,b,c,1];b=[];for(c=0;c<4;c+=1)for(var h=0;h<4;h+=1)b[c*4+h]=d[c*4+0]*e[0+h]+d[c*4+1]*e[4+h]+d[c*4+2]*e[8+h]+d[c*4+3]*e[12+h];d=[];d[0]=b[5]*b[10]*b[15]-b[5]*b[11]*b[14]-b[9]*b[6]*b[15]+b[9]*b[7]*b[14]+b[13]*b[6]*b[11]-b[13]*b[7]*b[10];d[4]=-b[4]*b[10]*b[15]+b[4]*b[11]*b[14]+b[8]*b[6]*b[15]-b[8]*b[7]*b[14]-b[12]*b[6]*b[11]+b[12]*b[7]*b[10];d[8]=b[4]*b[9]*b[15]-b[4]*b[11]*b[13]-b[8]*b[5]*b[15]+b[8]*b[7]*b[13]+b[12]*b[5]*b[11]-b[12]*b[7]*b[9];d[12]=-b[4]*b[9]*
b[14]+b[4]*b[10]*b[13]+b[8]*b[5]*b[14]-b[8]*b[6]*b[13]-b[12]*b[5]*b[10]+b[12]*b[6]*b[9];d[1]=-b[1]*b[10]*b[15]+b[1]*b[11]*b[14]+b[9]*b[2]*b[15]-b[9]*b[3]*b[14]-b[13]*b[2]*b[11]+b[13]*b[3]*b[10];d[5]=b[0]*b[10]*b[15]-b[0]*b[11]*b[14]-b[8]*b[2]*b[15]+b[8]*b[3]*b[14]+b[12]*b[2]*b[11]-b[12]*b[3]*b[10];d[9]=-b[0]*b[9]*b[15]+b[0]*b[11]*b[13]+b[8]*b[1]*b[15]-b[8]*b[3]*b[13]-b[12]*b[1]*b[11]+b[12]*b[3]*b[9];d[13]=b[0]*b[9]*b[14]-b[0]*b[10]*b[13]-b[8]*b[1]*b[14]+b[8]*b[2]*b[13]+b[12]*b[1]*b[10]-b[12]*b[2]*
b[9];d[2]=b[1]*b[6]*b[15]-b[1]*b[7]*b[14]-b[5]*b[2]*b[15]+b[5]*b[3]*b[14]+b[13]*b[2]*b[7]-b[13]*b[3]*b[6];d[6]=-b[0]*b[6]*b[15]+b[0]*b[7]*b[14]+b[4]*b[2]*b[15]-b[4]*b[3]*b[14]-b[12]*b[2]*b[7]+b[12]*b[3]*b[6];d[10]=b[0]*b[5]*b[15]-b[0]*b[7]*b[13]-b[4]*b[1]*b[15]+b[4]*b[3]*b[13]+b[12]*b[1]*b[7]-b[12]*b[3]*b[5];d[14]=-b[0]*b[5]*b[14]+b[0]*b[6]*b[13]+b[4]*b[1]*b[14]-b[4]*b[2]*b[13]-b[12]*b[1]*b[6]+b[12]*b[2]*b[5];d[3]=-b[1]*b[6]*b[11]+b[1]*b[7]*b[10]+b[5]*b[2]*b[11]-b[5]*b[3]*b[10]-b[9]*b[2]*b[7]+b[9]*
b[3]*b[6];d[7]=b[0]*b[6]*b[11]-b[0]*b[7]*b[10]-b[4]*b[2]*b[11]+b[4]*b[3]*b[10]+b[8]*b[2]*b[7]-b[8]*b[3]*b[6];d[11]=-b[0]*b[5]*b[11]+b[0]*b[7]*b[9]+b[4]*b[1]*b[11]-b[4]*b[3]*b[9]-b[8]*b[1]*b[7]+b[8]*b[3]*b[5];d[15]=b[0]*b[5]*b[10]-b[0]*b[6]*b[9]-b[4]*b[1]*b[10]+b[4]*b[2]*b[9]+b[8]*b[1]*b[6]-b[8]*b[2]*b[5];e=b[0]*d[0]+b[1]*d[4]+b[2]*d[8]+b[3]*d[12];if(e===0)d=m;else{e=1/e;for(c=0;c<16;c+=1)b[c]=d[c]*e;d=j}if(!d)return m;a[0]=(a[0]-f[0])/f[2];a[1]=(a[1]-f[1])/f[3];a[0]=a[0]*2-1;a[1]=a[1]*2-1;a[2]=a[2]*
2-1;f=[];for(d=0;d<4;d+=1)f[d]=a[0]*b[0+d]+a[1]*b[4+d]+a[2]*b[8+d]+a[3]*b[12+d];if(f[3]===0)return m;f[0]/=f[3];f[1]/=f[3];f[2]/=f[3];g[0]=f[0];g[1]=f[1];g[2]=f[2];return j};function Rc(){this.sa=[]}Rc.prototype.Wd=function(){if(!this.sa||this.sa.length<1)return l;return this.sa[this.sa.length-1]};Rc.prototype.pop=function(){return this.sa?this.sa.pop():l};Rc.prototype.push=function(a){if(this.sa)this.sa.push(a);else this.sa=[a]};function Sc(){this.a=E("lanyard.BasicOrbitView");this.eh=0;this.fh=180*(new Date).getTimezoneOffset()/432E5;this.Ie=6E6;this.He=0;this.Fe=+Infinity;this.Ce=j;this.Ge=this.gh=this.dh=0;this.Ee=90;this.Be=j;this.De=45;this.viewport=this.Wb=this.X=l;this.xd=I.prototype.g(this.De);this.la=l;this.$b=-1;this.Ob=this.forward=this.Tg=this.Mb=l;this.Yf=this.mg=-1;this.vh=[];this.Fh=[];this.tb=I.prototype.g(0);this.ub=I.prototype.g(180*(new Date).getTimezoneOffset()/432E5);this.Ua=this.Ie;this.da=I.prototype.g(0);
this.pitch=I.prototype.g(0);this.altitude=0;this.Hc=this.He;this.Gc=this.Fe;this.qh=this.Ce;this.Od=I.prototype.g(this.Ge);this.Nd=I.prototype.g(this.Ee);this.ph=this.Be;this.db=l;this.mb=0;this.Gd=m;this.Pd=new Rc}
function Tc(a,b,c,d,e,f,g){a=new Q(l);a.translate(0,0,-e);wc(a,g.multiply(-1));e=f.cos();f=f.sin();g=a.q*-f+a.r*e;var h=a.h*e+a.i*f,k=a.h*-f+a.i*e,q=a.k*e+a.l*f,u=a.k*-f+a.l*e,v=a.o*e+a.p*f,w=a.o*-f+a.p*e;a.q=a.q*e+a.r*f;a.r=g;a.h=h;a.i=k;a.k=q;a.l=u;a.o=v;a.p=w;a.translate(0,0,-d);wc(a,b);c=c.multiply(-1);b=c.cos();c=c.sin();d=a.q*c+a.s*b;e=a.h*b+a.j*-c;f=a.h*c+a.j*b;g=a.k*b+a.m*-c;h=a.k*c+a.m*b;k=a.o*b+a.t*-c;q=a.o*c+a.t*b;a.q=a.q*b+a.s*-c;a.s=d;a.h=e;a.j=f;a.k=g;a.m=h;a.o=k;a.t=q;return a}p=Sc.prototype;
p.Wa=function(){if(!this.db){D(this.a,"Attempted to get a null frustum from the view.");return l}return this.db.Wa()};p.Pb=function(){return new O(this.tb,this.ub,0)};function Uc(a,b){var c=[a.Od,a.Nd];if(b.ga(c[0])<0)a.pitch=c[0];else if(b.ga(c[1])>0)a.pitch=c[1];a.pitch=b;return a.pitch}function Vc(a,b){var c=b,d=[Math.max(a.Hc,a.mb),a.Gc];if(c<d[0])c=d[0];else if(c>d[1])c=d[1];return c}
p.Yb=function(a){a||D(this.a,"Attempted to unproject an invalid window point.");if(!this.X||!this.Wb||!this.viewport)return l;var b=this.Wb.Va(),c=this.X.Va(),d=[];return Qc.prototype.Yb(a.b,a.c,a.e,c,b,[this.viewport.b,this.viewport.c,this.viewport.ld,this.viewport.Xa()],d)?new J(d[0],d[1],d[2],0):l};
function Wc(a,b,c){if(a.viewport){var d=a.viewport.Xa()-c-1;c=a.Yb(new J(b,d,0,0));b=a.Yb(new J(b,d,1,0));b=!c||!b?l:new nc(c,b.L(c).normalize())}else b=l;if(!b)return l;if(!a.la)return l;a=a.la;b=a.Cc(b);a=b===l?l:sc(a,b[0].jd);return a}function Jc(a,b){a.X=a.Pd.pop();Xc(b,"uMVMatrix",a.X);return a.X}function Nc(a){if(!a.Mb&&a.X){var b=xc(a.X);if(b)a.Mb=b.transform(new J(0,0,0,1))}return a.Mb}p.zd=o("Wb");
p.apply=function(a){this.la=a.U();this.$b=a.ya();this.Ob=this.forward=this.Tg=this.Mb=l;this.Yf=this.mg=-1;if(!this.Gd){var b=a.U();this.Hc=this.mb=1;this.Gc=b?6*b.Ha():+Infinity;if(b)this.Ua=Vc(this,3*b.Ha());this.Gd=j}if(b=a.U()){var c=rc(b,new O(this.tb,this.ub,0)),d=Tc(this,this.tb,this.ub,c.length(),this.Ua,this.da,this.pitch),e=xc(d).transform(new J(0,0,0,1)),f=sc(b,e),g;g=f.B;f=f.C;var h=l,k=a.Da;if(k)h=k.xc(g,f,0);if(!h)if(k=a.U())h=rc(k,new O(g,f,a.ya()*k.$(g,f)));g=h;if(g){g=e.length()-
this.mb-g.length();if(g<0){this.a.log(C,"Distance to surface was less than 0.",void 0);f=e.normalize();g=J.prototype.Nb(e.length()-g,f,J.prototype.ZERO);e=e.L(c);g=g.L(c);e=e.H(g)/(e.length()*g.length());if(e>=-1&&e<=1){this.pitch=Uc(this,this.pitch.L(I.prototype.N(Math.acos(e))));this.Ua=Vc(this,g.length());d=Tc(Sc.prototype,this.tb,this.ub,c.length(),this.Ua,this.da,this.pitch)}}}e=xc(d).transform(new J(0,0,0,1));f=sc(b,e);this.altitude=e.length()-P(b,f.B,f.C,0).length();b=d}else{D(this.a,"The globe was null when computing the model-view matrix.");
b=l}g=xc(b).transform(new J(0,0,0,1));if(c=this.viewport)if(d=this.xd){e=a.U();f=a.ya();if(!e||!g)e=-1;else{h=sc(e,g);f=rc(e,new O(h.B,h.C,f*e.$(h.B,h.C)));g=g.length()-f.length();e=Math.sqrt(g*(2*e.R+g))}c=new Pc.prototype.vf(d,c.ld,c.Xa(),0.1,e*2)}else{D(this.a,"We don't know anything about the field of view.");c=l}else{D(this.a,"We don't know anything about the viewport.");c=l}(this.db=c)||D(this.a,"We don't have a view frustum to generate the projection matrix.");d=this.db;c=this.viewport;e=this.xd;
if(!c||!e||!d||!d.Wa()||!mc(d.Wa()))c=1;else{d=Math.abs(pc(mc(d.Wa())));if(d===0)d=1;e=d*e.Uc();c=c.height*e/c.width;c=1+Math.sqrt(e*e+c*c+d*d)}this.mb=c;b=b;c=this.db.zd();Xc(a,"uMVMatrix",b);Xc(a,"uPMatrix",c);this.X=b;this.Wb=c};function Ic(a,b,c){a.X||D(a.a,"Attempted to push the reference center without a valid model-view.");a.Pd.push(new Q(a.X.Va()));a.X=a.X.ue(c);Xc(b,"uMVMatrix",a.X)};function Yc(a){this.a=E("lanyard.render.GLSL");a||D(this.a,"Attempted to create a program object without a valid GL context.");this.f=a;this.vc=this.$c="";this.Ca=a.createProgram()}Yc.prototype.getAttribLocation=function(a){return this.f.getAttribLocation(this.Ca,a)};Yc.prototype.getUniformLocation=function(a){var b=this.f.getUniformLocation(this.Ca,a);b||D(this.a,"The specified uniform was not found in the shader ("+a+").");return b};
function Zc(a,b,c){if(c)a.f.getProgramParameter(b,a.f.LINK_STATUS)||D(a.a,"Linking of a program failed. "+a.f.getProgramInfoLog(b));else a.f.getShaderParameter(b,a.f.COMPILE_STATUS)||D(a.a,"Compilation of a shader failed. "+a.f.getShaderInfoLog(b))};function $c(a){this.a=E("lanyard.util.Texture");a||D(this.a,"Creation of a texture was attempted without a valid draw context.");this.kf=a;(this.f=a.f)||D(this.a,"Creation of a texture was attempted without a valid gl context.");this.me=this.f.createTexture()}$c.prototype.Pa=function(){this.f.bindTexture(this.f.TEXTURE_2D,this.me)};
function ad(a,b){var c=b.getContext("2d"),d=new Image;d.onload=function(){c.drawImage(d,0,0);var e=a.f;e.bindTexture(e.TEXTURE_2D,this.me);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,j);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,d);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.bindTexture(e.TEXTURE_2D,l);a.f.generateMipmap(a.f.TEXTURE_2D);a.a.log(C,"Render event is being fired off.",void 0);a.kf.A.display()}}
function bd(a,b,c){a.f.texParameteri(a.f.TEXTURE_2D,b,c)};function cd(a){this.yh=this.ra=l;this.Ah=j;this.f=a;this.transform={ad:0,cd:0,bd:0,dd:0};this.de=this.ee=this.Rc=this.Sc=0;this.a=E("lanyard.render.SurfaceTileRenderer")}cd.prototype.ye=2;function dd(a,b,c,d,e){this.af=a;this.Ve=b;this.Qe=c;this.Pe=d;this.ih=e;this.a=E("lanyard.util.Color")}dd.prototype.we=new dd(0,0,0,1,"000000FF");dd.prototype.xe=new dd(0,0,0,0,"00000000");function ed(a){this.hh=a;this.gc=[]}ed.prototype.Wd=function(){return this.gc[0]};ed.prototype.clear=function(){this.gc=[]};function fd(a){this.a=E("lanyard.BasicDrawContext");this.la=this.Bb=this.view=l;(this.A=a)||D(this.a,"Attempted to create a draw context without a valid lanyard canvas.");this.$b=1;this.Da=this.Zc=l;this.Sg=0;this.clearColor=dd.prototype.we;this.kh=m;this.Vd=-1;this.Jc=new ed(function(b,c){var d=b.Rf(),e=c.Rf();return d>e?-1:d===e?0:1});(this.f=a.La.getContext("experimental-webgl"))||D(this.a,"The canvas specified does not seem to support WebGL.");this.Pg=new cd(this.f);this.V=l;this.Hb="shader-vs";
this.vb="shader-fs"}
function gd(a){if(!a.V&&a.Hb&&a.vb){a.V=new Yc(a.f);var b=a.V,c=t(a.Hb)?document.getElementById(a.Hb):a.Hb;if(c){b.$c=c.innerHTML;if(c.type!=="x-shader/x-vertex")D(b.a,"Attempted to update a vertex shader with an incorrect mime type.");else{c=b.f.createShader(b.f.VERTEX_SHADER);b.$c||D(b.a,"The location of a vertex shader was not specified.");b.f.shaderSource(c,b.$c);b.f.compileShader(c);Zc(b,c,m);b.f.attachShader(b.Ca,c)}}b=a.V;if(c=t(a.vb)?document.getElementById(a.vb):a.vb){b.vc=c.innerHTML;if(c.type!==
"x-shader/x-fragment")D(b.a,"Attempted to update a fragment shader with an incorrect mime type.");else{c=b.f.createShader(b.f.FRAGMENT_SHADER);b.vc||D(b.a,"The location of a fragment shader was not specified.");b.f.shaderSource(c,b.vc);b.f.compileShader(c);Zc(b,c,m);b.f.attachShader(b.Ca,c)}}b=a.V;b.f.linkProgram(b.Ca);b.f.validateProgram(b.Ca);Zc(b,b.Ca,j);a=a.V;a.f.useProgram(a.Ca)}}p=fd.prototype;p.Eb=function(a){if(a){this.Bb=a;if(a=this.Bb.U())this.la=a}};p.aa=o("Bb");p.wb=function(){return this.Bb.wb()};
p.U=function(){return this.la!==l?this.la:this.Bb.U()};p.Fb=n("view");p.S=o("view");p.ya=o("$b");p.ae=n("$b");function Xc(a,b,c){a.f.uniformMatrix4fv(a.V.getUniformLocation(b),m,new Float32Array(c.Va()))};function hd(a,b){this.b=a;this.c=b}hd.prototype.yc=o("b");hd.prototype.zc=o("c");hd.prototype.translate=function(a,b){this.b+=a;this.c+=b};hd.prototype.toString=function(){return"A string with coordinates of: x = "+this.b+", y = "+this.c+"."};function id(){this.a=E("lanyard.BasicFrameController")};function jd(a){this.a=E("lanyard.BasicSceneController");a||D(this.a,"Attempted to create a scene controller without a valid lanyard canvas.");this.Kb=this.hc=l;this.Te=new id;this.ic=1;this.pa=new fd(a)}p=jd.prototype;p.aa=o("hc");p.S=o("Kb");p.Eb=n("hc");p.Fb=n("Kb");p.ae=n("ic");p.ya=o("ic");function kd(a){this.Y=l;this.La=a;this.jh=l;this.a=E("lanyard.LanyardCanvas")}p=kd.prototype;p.Eb=function(a){if(!this.Y)this.Y=new jd(this);this.Y?this.Y.Eb(a):D(this.a,"Attempted to set a model without a valid scene controller.")};p.aa=function(){return this.Y?this.Y.aa():l};
p.Fb=function(a){this.La||D(this.a,"Attempted to set the view without a valid canvas element.");a||D(this.a,"Attempted to set an invalid view.");if(!this.Y)this.Y=new jd(this);var b=this.La;a.viewport=new yc(0,0,b.width,b.height);this.Y?this.Y.Fb(a):D(this.a,"Tried to set a view without a scene controller existing.")};p.S=function(){if(!this.Y)this.Y=new jd(this);this.Y||D(this.a,"Attempted to get the view from an invalid scene controller.");return this.Y.S()};
p.display=function(){var a=this.Y;a||this.a.log(C,"The scene controller was null when a repaint was attempted.",void 0);var b=a.pa;b.A||D(b.a,"Attempt to initialize a draw context without a valid lanyard canvas.");b.f.viewport(0,0,b.A.La.width,b.A.La.height);b.Zc=l;b.Da&&b.Da.clear();b.Da=l;b.Jc.clear();b.Sg=0;if(b.Vd<1)b.Vd=b.f.getParameter(b.f.MAX_TEXTURE_IMAGE_UNITS);a.pa.Eb(a.hc);a.pa.Fb(a.Kb);a.pa.ae(a.ic);gd(a.pa);a.pa.A||a.a.log(C,"The scene controller has a null lanyard canvas.",void 0);var c=
a.Te;c||a.a.log(C,"The frame controller did not exist when the scene controller tried to use it.",void 0);b=a.pa;b.Hb="shader-vs";b.vb="shader-fs";b.V=l;gd(b);b.f.clearDepth(1);b.f.enable(b.f.DEPTH_TEST);b.f.enable(b.f.CULL_FACE);b.f.depthFunc(b.f.LEQUAL);Xc(b,"uMVMatrix",new Q(l));Xc(b,"uPMatrix",new Q(l));a.Kb.apply(a.pa);b=a.pa;var d=dd.prototype.xe,e=b.f;e.clearColor(d.af,d.Ve,d.Qe,d.Pe);e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);if(b.S())if(b.aa())if(b.wb()){b.S().apply(b);if(tc(b.aa())){d=
tc(b.aa()).Vc(b);b.Da=d}else D(c.a,"No tessellator was available.");d=b.wb();for(e=0;e<d.length;e+=1){var f=d[e];f&&f.ta(b)}for(;b.Jc.Wd();)b.Jc.gc.splice(0,1).ta(b);if(b.Da&&b.aa().ie||b.aa().Tc||b.aa().he){c.a.log(C,"Creating diagnostic displays.",void 0);c=b.aa();d=b.Da;for(e=0;e<d.Z.length;e+=1){if(c.Tc||c.ie){f=d.Z[e];var g=b,h=c.Tc,k=Hc(f,f.M.ea);Ic(g.S(),g,f.M.Mc);var q=g.f;if(h){h=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,h);q.bufferData(q.ARRAY_BUFFER,new Float32Array(f.M.ba),q.STATIC_DRAW);
q.enableVertexAttribArray(g.V.getAttribLocation("aVertexPosition"));q.vertexAttribPointer(g.V.getAttribLocation("aVertexPosition"),3,q.FLOAT,m,0,0);h=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,h);q.bufferData(q.ELEMENT_ARRAY_BUFFER,new Float32Array(k),q.STATIC_DRAW);q.drawElements(q.TRIANGLE_STRIP,f.M.ba.length/3,q.UNSIGNED_SHORT,0)}Jc(g.S(),g)}if(c.he){f=b;d.Z[e].xa().ta(f)}}}}else D(c.a,"The layers were null when attempting to draw.");else D(c.a,"The model was null when attempting to draw.");
else D(c.a,"The view was null when attempting to draw.");a.frame+=1};function ld(a){a.Cd=new md;a.Cd.Oc(a)};function nd(a,b,c){this.a=E("lanyard.demo.StatusBar");this.sf=l;this.Hd=a;this.Jd=b;this.ud=c}s("lanyard.demo.StatusBar",nd,void 0);nd.prototype.Oc=function(a){a||D(this.a,"Attempted to use an invalid event source.");var b=a.Cd;this||D(b.a,"Attempted to add an invalid position listener.");this.bg=j;b.qb.push(this);this.sf=a};
nd.prototype.Sd=function(a){if(a=a.Pb()){this.Hd.innerHTML=a.B.d.toFixed(5);this.Jd.innerHTML=a.C.d.toFixed(5);this.ud.innerHTML=Math.round(a.$())}else{this.Hd.innerHTML="Off globe";this.Jd.innerHTML="Off globe";this.ud.innerHTML="Off globe"}};var od;!F||Mb("9");var pd=F&&!Mb("8");function W(a,b){this.type=a;this.currentTarget=this.target=b}x(W,ac);W.prototype.ha=function(){delete this.type;delete this.target;delete this.currentTarget};W.prototype.ab=m;W.prototype.Db=j;W.prototype.preventDefault=function(){this.Db=m};function qd(a,b){a&&this.Ya(a,b)}x(qd,W);p=qd.prototype;p.target=l;p.relatedTarget=l;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.ng=m;p.rb=l;
p.Ya=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Ab)try{d=d.nodeName&&d}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ng=vb?a.metaKey:a.ctrlKey;this.le=a.le?a.le:l;this.rb=a;delete this.Db;delete this.ab};
p.preventDefault=function(){qd.cb.preventDefault.call(this);var a=this.rb;if(a.preventDefault)a.preventDefault();else{a.returnValue=m;if(pd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};p.ha=function(){qd.cb.ha.call(this);this.relatedTarget=this.currentTarget=this.target=this.rb=l};function rd(){}var sd=0;p=rd.prototype;p.key=0;p.bb=m;p.nd=m;p.Ya=function(a,b,c,d,e,f){if(ea(a))this.Fd=j;else if(a&&a.handleEvent&&ea(a.handleEvent))this.Fd=m;else i(Error("Invalid listener argument"));this.Ab=a;this.Yd=b;this.src=c;this.type=d;this.capture=!!e;this.Ac=f;this.nd=m;this.key=++sd;this.bb=m};p.handleEvent=function(a){if(this.Fd)return this.Ab.call(this.Ac||this.src,a);return this.Ab.handleEvent.call(this.Ab,a)};var td;var ud=(td="ScriptEngine"in r&&r.ScriptEngine()=="JScript")?r.ScriptEngineMajorVersion()+"."+r.ScriptEngineMinorVersion()+"."+r.ScriptEngineBuildVersion():"0";var vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd;
(function(){function a(){return{T:0,ma:0}}function b(){return[]}function c(){function w(z){return g.call(w.src,w.key,z)}return w}function d(){return new rd}function e(){return new qd}var f=td&&!(za(ud,"5.7")>=0),g;Ad=function(w){g=w};if(f){vd=function(){return bc(h)};wd=function(w){cc(h,w)};xd=function(){return bc(k)};yd=function(w){cc(k,w)};zd=function(){return bc(q)};Bd=function(){cc(q,c())};Cd=function(){return bc(u)};Dd=function(w){cc(u,w)};Ed=function(){return bc(v)};Fd=function(w){cc(v,w)};
var h=new H(0,600);h.Fa=a;var k=new H(0,600);k.Fa=b;var q=new H(0,600);q.Fa=c;var u=new H(0,600);u.Fa=d;var v=new H(0,600);v.Fa=e}else{vd=a;wd=ba;xd=b;yd=ba;zd=c;Bd=ba;Cd=d;Dd=ba;Ed=e;Fd=ba}})();var Gd={},X={},Y={},Hd={};
function Z(a,b,c,d,e){if(b)if(ca(b)=="array"){for(var f=0;f<b.length;f++)Z(a,b[f],c,d,e);return l}else{d=!!d;var g=X;b in g||(g[b]=vd());g=g[b];if(!(d in g)){g[d]=vd();g.T++}g=g[d];var h=ga(a),k;g.ma++;if(g[h]){k=g[h];for(f=0;f<k.length;f++){g=k[f];if(g.Ab==c&&g.Ac==e){if(g.bb)break;return k[f].key}}}else{k=g[h]=xd();g.T++}f=zd();f.src=a;g=Cd();g.Ya(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Gd[c]=g;Y[h]||(Y[h]=xd());Y[h].push(g);if(a.addEventListener){if(a==r||!a.rd)a.addEventListener(b,f,d)}else a.attachEvent(Id(b),
f);return c}else i(Error("Invalid event type"))}function Jd(a,b,c,d,e){if(ca(b)=="array"){for(var f=0;f<b.length;f++)Jd(a,b[f],c,d,e);return l}d=!!d;a:{f=X;if(b in f){f=f[b];if(d in f){f=f[d];a=ga(a);if(f[a]){a=f[a];break a}}}a=l}if(!a)return m;for(f=0;f<a.length;f++)if(a[f].Ab==c&&a[f].capture==d&&a[f].Ac==e)return Kd(a[f].key);return m}
function Kd(a){if(!Gd[a])return m;var b=Gd[a];if(b.bb)return m;var c=b.src,d=b.type,e=b.Yd,f=b.capture;if(c.removeEventListener){if(c==r||!c.rd)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Id(d),e);c=ga(c);e=X[d][f][c];if(Y[c]){var g=Y[c],h=Ja(g,b);if(h>=0){Ha(g.length!=l);y.splice.call(g,h,1)}g.length==0&&delete Y[c]}b.bb=j;e.Ud=j;Ld(d,f,c,e);delete Gd[a];return j}
function Ld(a,b,c,d){if(!d.Tb)if(d.Ud){for(var e=0,f=0;e<d.length;e++)if(d[e].bb){var g=d[e].Yd;g.src=l;Bd(g);Dd(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Ud=m;if(f==0){yd(d);delete X[a][b][c];X[a][b].T--;if(X[a][b].T==0){wd(X[a][b]);delete X[a][b];X[a].T--}if(X[a].T==0){wd(X[a]);delete X[a]}}}}
function Md(a,b,c){var d=0,e=a==l,f=b==l,g=c==l;c=!!c;if(e)Pa(Y,function(k){for(var q=k.length-1;q>=0;q--){var u=k[q];if((f||b==u.type)&&(g||c==u.capture)){Kd(u.key);d++}}});else{a=ga(a);if(Y[a]){a=Y[a];for(e=a.length-1;e>=0;e--){var h=a[e];if((f||b==h.type)&&(g||c==h.capture)){Kd(h.key);d++}}}}return d}function Id(a){if(a in Hd)return Hd[a];return Hd[a]="on"+a}
function Nd(a,b,c,d,e){var f=1;b=ga(b);if(a[b]){a.ma--;a=a[b];if(a.Tb)a.Tb++;else a.Tb=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];if(k&&!k.bb)f&=Od(k,e)!==m}}finally{a.Tb--;Ld(c,d,b,a)}}return Boolean(f)}function Od(a,b){var c=a.handleEvent(b);a.nd&&Kd(a.key);return c}
Ad(function(a,b){if(!Gd[a])return j;var c=Gd[a],d=c.type,e=X;if(!(d in e))return j;e=e[d];var f,g;if(od===undefined)od=F&&!r.addEventListener;if(od){f=b||aa("window.event");var h=j in e,k=m in e;if(h){if(f.keyCode<0||f.returnValue=="marked_closure")return j;a:{var q=m;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(u){q=j}if(q||f.returnValue!="marked_closure")f.returnValue="marked_closure"}}q=Ed();q.Ya(f,this);f=j;try{if(h){for(var v=xd(),w=q.currentTarget;w;w=w.parentNode)v.push(w);g=e[j];g.ma=g.T;
for(var z=v.length-1;!q.ab&&z>=0&&g.ma;z--){q.currentTarget=v[z];f&=Nd(g,v[z],d,j,q)}if(k){g=e[m];g.ma=g.T;for(z=0;!q.ab&&z<v.length&&g.ma;z++){q.currentTarget=v[z];f&=Nd(g,v[z],d,m,q)}}}else f=Od(c,q)}finally{if(v){v.length=0;yd(v)}q.Ra();Fd(q)}return f}d=new qd(b,this);try{f=Od(c,d)}finally{d.Ra()}return f});new H(0,100);function Pd(){}x(Pd,ac);p=Pd.prototype;p.rd=j;p.Lc=l;p.addEventListener=function(a,b,c,d){Z(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){Jd(this,a,b,c,d)};
p.dispatchEvent=function(a){a=a;if(t(a))a=new W(a,this);else if(a instanceof W)a.target=a.target||this;else{var b=a;a=new W(a.type,this);Ra(a,b)}b=1;var c,d=a.type,e=X;if(d in e){e=e[d];d=j in e;var f;if(d){c=[];for(f=this;f;f=f.Lc)c.push(f);f=e[j];f.ma=f.T;for(var g=c.length-1;!a.ab&&g>=0&&f.ma;g--){a.currentTarget=c[g];b&=Nd(f,c[g],a.type,j,a)&&a.Db!=m}}if(m in e){f=e[m];f.ma=f.T;if(d)for(g=0;!a.ab&&g<c.length&&f.ma;g++){a.currentTarget=c[g];b&=Nd(f,c[g],a.type,m,a)&&a.Db!=m}else for(c=this;!a.ab&&
c&&f.ma;c=c.Lc){a.currentTarget=c;b&=Nd(f,c,a.type,m,a)&&a.Db!=m}}a=Boolean(b)}else a=j;return a};p.ha=function(){Pd.cb.ha.call(this);Md(this);this.Lc=l};function Qd(a,b,c,d,e){if(!F&&!(G&&Mb("525")))return j;if(vb&&e)return Rd(a);if(e&&!d)return m;if(!c&&(b==17||b==18))return m;if(F&&d&&b==a)return m;switch(a){case 13:return j;case 27:return!G}return Rd(a)}
function Rd(a){if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=65&&a<=90)return j;if(G&&a==0)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return m}};function Sd(a,b){if(a){this.Sb&&this.detach();this.O=a;this.Rb=Z(this.O,"keypress",this,b);this.Ec=Z(this.O,"keydown",this.Wf,b,this);this.Sb=Z(this.O,"keyup",this.Xf,b,this)}}x(Sd,Pd);p=Sd.prototype;p.O=l;p.Rb=l;p.Ec=l;p.Sb=l;p.Aa=-1;p.za=-1;
var Td={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Ud={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Vd={61:187,
59:186},Wd=F||G&&Mb("525");p=Sd.prototype;p.Wf=function(a){if(G&&(this.Aa==17&&!a.ctrlKey||this.Aa==18&&!a.altKey))this.za=this.Aa=-1;if(Wd&&!Qd(a.keyCode,this.Aa,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.za=Ab&&a.keyCode in Vd?Vd[a.keyCode]:a.keyCode};p.Xf=function(){this.za=this.Aa=-1};
p.handleEvent=function(a){var b=a.rb,c,d;if(F&&a.type=="keypress"){c=this.za;d=c!=13&&c!=27?b.keyCode:0}else if(G&&a.type=="keypress"){c=this.za;d=b.charCode>=0&&b.charCode<63232&&Rd(c)?b.charCode:0}else if(zb){c=this.za;d=Rd(c)?b.keyCode:0}else{c=b.keyCode||this.za;d=b.charCode||0;if(vb&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Td)e=Td[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in Ud)e=Ud[f];a=e==this.Aa;this.Aa=e;b=new Xd(e,d,a,b);try{this.dispatchEvent(b)}finally{b.Ra()}};
p.detach=function(){if(this.Rb){Kd(this.Rb);Kd(this.Ec);Kd(this.Sb);this.Sb=this.Ec=this.Rb=l}this.O=l;this.za=this.Aa=-1};p.ha=function(){Sd.cb.ha.call(this);this.detach()};function Xd(a,b,c,d){d&&this.Ya(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}x(Xd,qd);function Yd(a){this.O=a;this.Id=Z(this.O,Ab?"DOMMouseScroll":"mousewheel",this)}x(Yd,Pd);
Yd.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.rb;if(a.type=="mousewheel"){c=1;if(F||G&&(Db||Mb("532.0")))c=40;d=-a.wheelDelta/c;if(a.wheelDeltaX!==undefined){b=-a.wheelDeltaX/c;c=-a.wheelDeltaY/c}else c=d}else{d=a.detail;if(d>100)d=3;else if(d<-100)d=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)b=d;else c=d}if(typeof this.Ld=="number")b=Math.min(Math.max(b,-this.Ld),this.Ld);if(typeof this.Md=="number")c=Math.min(Math.max(c,-this.Md),this.Md);b=new Zd(d,a,b,c);try{this.dispatchEvent(b)}finally{b.Ra()}};
Yd.prototype.ha=function(){Yd.cb.ha.call(this);Kd(this.Id);delete this.Id};function Zd(a,b,c,d){b&&this.Ya(b,void 0);this.type="mousewheel";this.detail=a;this.oh=c;this.mf=d}x(Zd,qd);function $d(a,b,c,d){this.a=E("lanyard.dom.PositionEvent");this.source=a;this.xh=b;this.Xd=c;this.position=d}$d.prototype.Pb=o("position");$d.prototype.toString=function(){return"A position event: "+this.Xd?this.Xd.toString():"null --\> "+this.position?this.position.toString():"null"};function ae(){this.zoom=this.pitch=this.da=this.Za=l};function md(){this.a=E("lanyard.dom.InputHandler");this.qb=[];this.Q=this.A=l;this.Ia=new hd(0,0);this.Ic=0;this.Qd=[0,0,0,0];this.Bh=j;this.Yg=1.0E-5;this.Xg=0.2;this.Wg=1.0E-9;this.Zg=0.6;this.Eh=0.1;this.ve=0.25;this.Ug=1.0E-4;this.Vg=0.3;this.Dh=0.1;this.$g=0.05;this.ah=0.0010;this.bh=0.1}
md.prototype.Oc=function(a){a||D(this.a,"Attempted to use an invalid object as an event source.");a.S()||D(this.a,"Attempted to set an event source without a valid view.");(this.Q=a.La)||D(this.a,"Attempted to use an input source without a valid dom node.");this.A=a;a=new Sd(this.Q);Z(a,"key",this.cg,m,this);var b=new Yd(this.Q);Z(b,"mousewheel",this.Rd,m,this);Z(window,"mousedown",function(c){++this.Qd[c.button];++this.Ic},m,this);Z(window,"mouseup",function(c){--this.Qd[c.button];--this.Ic},m,this);
Z(this.Q,"mousemove",this.jg,m,this);Z(this.Q,"unload",function(){Jd(b,"mousewheel",this.Rd)})};md.prototype.cg=function(a){if(this.A){var b=this.A.S();if(b){a.preventDefault();var c=b.da.sin(),d=b.da.cos(),e=0,f=0;if(a.keyCode===37){e=c;f=-d}else if(a.keyCode===39){e=-c;f=d}else if(a.keyCode===38){e=d;f=c}else if(a.keyCode===40){e=-d;f=-c}if(e!==0||f!==0)if(a=this.A.aa().U()){e=be(this,b,a,10*e,10*f,m);ce(this,b,de(this,b,e.B,e.C))}}}};
md.prototype.jg=function(a){if(this.A)if(a){var b=this.A.S();if(b){if(this.Ic)if(this.A)if(a){a.preventDefault();var c=this.A.S();if(c)if(this.A.aa()){var d=new hd(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-this.Q.offsetLeft-this.Ia.b,a.clientY+document.body.scrollTop+document.documentElement.scrollTop-this.Q.offsetTop-this.Ia.c);if(a.altKey){var e=1;if(this.Q)if(a.clientY+document.body.scrollTop+document.documentElement.scrollTop-this.Q.offsetTop<this.Q.height/2)e=-1;
e=I.prototype.g(e*d.b*this.ve*1);var f;f=this.K&&this.K.da?this.K.da.d:c.da.d;f+=e.d;if(f<0)f+=360;else if(f>360)f-=360;e=I.prototype.g(f);f=I.prototype.g(d.c*this.ve*1);d=this.K&&this.K.pitch?this.K.pitch.d:c.pitch.d;d+=f.d;f=[c.Od,c.Nd];d=I.prototype.g(d<f[0].d?f[0].d:d>f[1].d?f[1].d:d);!e&&!d&&D(this.a,"Attempted to set the view angle without a specified angle.");this.K=this.K=new ae;this.K.da=e;this.K.pitch=d;ee(this,c,this.K,this.Vg,this.Ug,m)}else{e=l;f=Wc(c,this.Ia.b,this.Ia.c);var g=Wc(c,
a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-this.Q.offsetLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop-this.Q.offsetTop);if(f&&g)e=new S(f.B.L(g.B),f.C.L(g.C));else if(f=this.A.aa().U()){var h=c.da.sin(),k=c.da.cos();g=k*d.c+h*d.b;d=h*d.c-k*d.b;if(g!==0||d!==0)e=be(this,c,f,g,d,m)}else D(this.a,"Attempted to perform a drag event without a valid globe.");e?ce(this,c,de(this,c,e.B,e.C)):D(this.a,"A failure occured in the drag event result.")}}else D(this.a,
"Attempted to handle a drag event without a valid model.");else D(this.a,"Attempted to handle a drag event without a valid view.")}else D(this.a,"Attempted to handle a drag event without a valid event.");else D(this.a,"Attempted to handle a drag event without a valid canvas.");if(c=this.A.aa())if(c.U()){b=new $d(this.A,a,Wc(b,this.Ia.b,this.Ia.c),Wc(b,a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-this.Q.offsetLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop-
this.Q.offsetTop));for(c=0;c<this.qb.length;c+=1)this.qb[c].Sd&&this.qb[c].bg&&this.qb[c].Sd(b);this.Ia=new hd(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft-this.Q.offsetLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop-this.Q.offsetTop)}}}};function ce(a,b,c){c||D(a.a,"Attempted to set the view to an invalid latlon.");a.K=new ae;a.K.Za=c;ee(a,b,a.K,a.Zg,a.Wg,m)}
function be(a,b,c,d,e,f){b=Nc(b);if(!b){D(a.a,"Attempted to compute a latlon change without a valid eye.");return l}c=b.length()/c.R-1;c=c<0?0:c>1?1:c;a=((1-c)*a.Yg+c*a.Xg)*(f?0.25:1);return S.prototype.g(d*a,e*a)}function de(a,b,c,d){var e;if(a.K&&a.K.Za){e=a.K.Za.B.d;a=a.K.Za.C.d}else{e=b.Pb().B.d;a=b.Pb().C.d}e+=c.d;a+=d.d;if(e<-90)e=-90;else if(e>90)e=90;if(a<-180)a+=360;else if(a>180)a-=360;return S.prototype.g(e,a)}
md.prototype.Rd=function(a){if(this.A)if(a){a.preventDefault();var b=this.A.S();b?fe(this,b,ge(this,b,function(c){if(c<0)return-1;if(c>0)return 1;return 0}(a.mf)*this.$g*1)):D(this.a,"Attempted to handle a mouse wheel event without a valid view.")}else D(this.a,"Attempted to handle an invalid mouse wheel event.");else D(this.a,"A mouse wheel event was thrown away due to a missing event source.")};
function ge(a,b,c){a=a.K&&a.K.zoom?Math.log(a.K.zoom):Math.log(b.Ua);a+=c;b=[Math.max(b.Hc,b.mb),b.Gc];return Math.exp(a)<b[0]?b[0]:Math.exp(a)>b[1]?b[1]:Math.exp(a)}function fe(a,b,c){a.K=new ae;a.K.zoom=c;ee(a,b,a.K,a.bh,a.ah,m)}
function ee(a,b,c){b||D(a.a,"Attempted to set properties on a null view.");if(c.Za){var d=c.Za;a=d.B.d;if(a<-90)a=-90;else if(a>90)a=90;d=d.C.d;if(d<-180)d+=360;else if(d>180)d-=360;a=S.prototype.g(a,d);b.tb=a.B;b.ub=a.C}if(c.da){a=c.da.d;if(a<0)a+=360;else if(a>360)a-=360;a=I.prototype.g(a);b.da=a}if(c.pitch)b.pitch=Uc(b,c.pitch);if(c.zoom)b.Ua=Vc(b,c.zoom)};function he(){this.a=E("lanyard.layers.AbstractLayer");this.enabled=j;this.opacity=1;this.ig=Number.MIN_VALUE;this.eg=Number.MAX_VALUE;this.oc="Untitled Layer"}s("lanyard.layers.AbstractLayer",he,void 0);he.prototype.getName=o("oc");he.prototype.toString=o("oc");he.prototype.ta=function(a){if(this.enabled){var b;b=a.S().altitude;if(b>=this.ig&&b<=this.eg){(b=this.Nc?this.Nc:this.$d)||this.a.log(C,"Active renderable array is not correct.",void 0);for(var c in b)b.hasOwnProperty(c)&&b[c].ta(a)}}};function ie(a){he.call(this);this.a=E("lanyard.layers.RenderableLayer");this.$d=[];this.Nc=l;this.nh=a}x(ie,he);ie.prototype.toString=function(){return"A generic renderable layer."};function je(a,b,c){this.a=E("lanyard.render.SurfaceImage");this.uc=l;this.wd=Number.MIN_VALUE;this.opacity=1;this.Xc=l;this.Ad=this.Zf=m;this.yb=a;this.ua=b;this.zh=new O.prototype.wf(Ec(b),0);this.th=c;this.yb||D(this.a,"The image source is null.");this.ua||D(this.a,"The sector is null.")}p=je.prototype;p.ia=o("ua");p.xa=function(a){a||D(this.a,"The draw context is null.");if(!this.uc||this.wd!==a.ya()){this.uc=Fc(T.prototype,a.U(),a.ya(),this.ua);this.wd=a.ya()}return this.uc};
function ke(a,b){b||D(a.a,"The draw context was null.");var c=b.f,d=new $c(b),e=new Image;e.onload=function(){d.Pa();d.f.pixelStorei(d.f.UNPACK_FLIP_Y_WEBGL,1);d.f.texImage2D(d.f.TEXTURE_2D,0,d.f.RGBA,d.f.RGBA,d.f.UNSIGNED_BYTE,e);bd(d,c.TEXTURE_MIN_FILTER,c.LINEAR);bd(d,c.TEXTURE_MAG_FILTER,c.LINEAR);bd(d,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);bd(d,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);d.f.generateMipmap(d.f.TEXTURE_2D);a.Zf=j;a.Xc=d};e.onerror=function(){a.a.log(gb,"An image failed to load from: "+a.yb,
void 0);a.Ad=j};e.onabort=function(){a.a.log(gb,"An image load was aborted: "+a.yb,void 0);a.Ad=j};e.src=a.yb;return d}p.Pa=function(a){a||D(this.a,"The draw context is null.");var b=this.Xc;if(!b)if(b=ke(this,a))return j;if(b){b.Pa();return j}return m};
p.ta=function(a){a||D(this.a,"The draw context is null.");if(this.ua.zb(a.Zc)){var b=a.f;b.enable(b.CULL_FACE);b=a.Pg;if(this){var c=[this],d=a.f;if(!b.ra){var e=cd.prototype.ye,f=document.createElement("canvas");f.width=f.height=e;for(var g=f.getContext("2d"),h=g.createImageData(e,e),k=0;k<e;k+=1)for(var q=0;q<e;q+=1){var u=(q*e+k)*4;h.data[u+0]=255;h.data[u+1]=255;h.data[u+2]=255;h.data[u+3]=255}g.putImageData(h,0,0);b.ra=new $c(a);ad(b.ra,f);b.ra.Pa();bd(b.ra,b.f.TEXTURE_MAG_FILTER,b.f.NEAREST);
bd(b.ra,b.f.TEXTURE_MIN_FILTER,b.f.NEAREST);bd(b.ra,b.f.TEXTURE_WRAP_S,b.f.CLAMP_TO_EDGE);bd(b.ra,b.f.TEXTURE_WRAP_T,b.f.CLAMP_TO_EDGE)}d.enable(d.DEPTH_TEST);d.depthFunc(d.LEQUAL);d.activeTexture(d.TEXTURE0);e=a.Da;for(f=0;f<e.Z.length;f+=1){g=e.Z[f];h=c;k=[];q=void 0;for(q=0;q<h.length;q+=1)h[q].ia().zb(g.ia())&&k.push(h[q]);if(g=k){h=b;k=e.Z[f].ia();h.Sc=k.fd.G;h.Rc=k.fc.G;h.ee=k.F.G;h.de=k.D.G;for(h=0;h<g.length;h+=1){d.activeTexture(d.TEXTURE0);if(g[h].Pa(a)){d.activeTexture(d.TEXTURE0);d.uniform1i(a.V.getUniformLocation("uSamplerTileImage"),
0);k=g[h];(q=a)||D(k.a,"The draw context was null.");k.Xc||ke(k,q);k=b;q=b.transform;var v=g[h].ia();u=v.fd.G;var w=v.fc.G,z=v.F.G;v=v.D.G;q.cd=w>0?k.Rc/w:1;q.ad=u>0?k.Sc/u:1;q.dd=-(v-k.de)/k.Rc;q.bd=-(z-k.ee)/k.Sc;k=new Q([b.transform.ad,0,0,0,0,b.transform.cd,0,0,0,0,1,0,0,0,0,1]);k.translate(b.transform.bd,b.transform.dd,0);Xc(a,"uTextureMatrix",k);d.activeTexture(d.TEXTURE1);b.ra.Pa();d.uniform1i(a.V.getUniformLocation("uSamplerAlphaMask"),1);e.Z[f].ta(a)}}}}d.activeTexture(d.TEXTURE0)}else b.a.log(C,
"Attempted to render a null tile.",void 0)}else this.a.log(C,"The surface image does not intersect with a visible sector.",void 0)};p.toString=function(){return"A SurfaceImage with a path of: "+this.yb};function le(){ie.call(this,l);this.a=E("lanyard.layers.earth.BMNGOneImage");this.oc="The Blue Marble, single image";var a=new je("images/bmng.world.topo.512.256.gif",T.prototype.Je,this);a||D(this.a,"Renderable is null.");this.Nc&&D(this.a,"Layer is already using a custom iterable.");this.$d.push(a)}x(le,ie);le.prototype.toString=function(){return"A BMNGOneImage object."};function $(a,b,c){this.kd=a;this.Ye=b;this.Re=c;this.a=E("lanyard.demo.BasicDemo");this.A=l;this.jb=[]}s("lanyard.demo.BasicDemo",$,void 0);
$.prototype.rg=function(){this.be();this.ce();this.kd||D(this.a,"A valid canvas element was not found.");var a=new Oc;a.Fc=this.jb;this.A=new kd(this.kd);this.A.Eb(a);this.A.Fb(new Sc);ld(this.A);var b=this;if(window.requestAnimationFrame){this.a.log(C,"Using animation frame requests for rendering.",void 0);window.addEventListener("BeforePaint",function(){b.A.display();window.requestAnimationFrame()},m);window.requestAnimationFrame()}else{this.a.log(C,"Using setTimeout for rendering.",void 0);(function c(){window.setTimeout(function(){b.A.display();
c()},10)})()}};s("lanyard.demo.BasicDemo.prototype.run",$.prototype.rg,void 0);$.prototype.be=function(){qb().Pc(jb);var a=new $b(this.Re);if(j!=a.Ed){var b=qb(),c=a.pg;if(!b.xb)b.xb=[];b.xb.push(c);a.Ed=j}};s("lanyard.demo.BasicDemo.prototype.setupEventLog",$.prototype.be,void 0);$.prototype.df=function(a){this.A||D(this.a,"A LanyardCanvas must exist before a status bar is added.");a||D(this.a,"Attempted to attach an invalid status bar.");a.Oc(this.A)};
s("lanyard.demo.BasicDemo.prototype.addStatusBar",$.prototype.df,void 0);$.prototype.ce=function(){this.jb.push(new le);var a;for(a=0;a<this.jb.length;a+=1){var b="Adding layer with name = "+this.jb[a].toString();this.a.log(C,b,void 0);this.Ye.appendChild(Ub("p",{style:"background-color:#EEE"},this.jb[a].getName()))}};s("lanyard.demo.BasicDemo.prototype.setupLayerList",$.prototype.ce,void 0);

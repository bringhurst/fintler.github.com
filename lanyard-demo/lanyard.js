function i(a){throw a;}var j=true,l=null,m=false;function n(a){return function(b){this[a]=b}}function o(a){return function(){return this[a]}}var p,r=this;function s(a,b,c){a=a.split(".");c=c||r;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}function aa(a,b){for(var c=a.split("."),d=b||r,e;e=c.shift();)if(d[e])d=d[e];else return l;return d}function ba(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function da(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function t(a){return typeof a=="string"}function ea(a){return ca(a)=="function"}function fa(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function ga(a){return a[ha]||(a[ha]=++ja)}var ha="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0;
function ka(a,b){var c=b||r;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}var la=Date.now||function(){return+new Date};function x(a,b){function c(){}c.prototype=b.prototype;a.bb=b.prototype;a.prototype=new c};function ma(){this.Wd=la()}var na=new ma;ma.prototype.set=n("Wd");ma.prototype.reset=function(){this.set(la())};ma.prototype.get=o("Wd");function oa(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function pa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function qa(a,b){if(b)return a.replace(ta,"&amp;").replace(ua,"&lt;").replace(va,"&gt;").replace(wa,"&quot;");else{if(!xa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(ta,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(ua,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(va,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(wa,"&quot;");return a}}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,xa=/[&<>\"]/;function ya(a,b){return pa(a.replace(/  /g," &#160;"),b)}
function za(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var h=d[g]||"",k=e[g]||"",q=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var v=q.exec(h)||["","",""],w=u.exec(k)||["","",""];if(v[0].length==0&&w[0].length==0)break;c=Aa(v[1].length==0?0:parseInt(v[1],10),w[1].length==0?0:parseInt(w[1],10))||Aa(v[2].length==0,w[2].length==0)||Aa(v[2],w[2])}while(c==
0)}return c}function Aa(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function Ba(a){this.mg=a||"";this.Lg=na}Ba.prototype.ce=j;Ba.prototype.Jg=j;Ba.prototype.Ig=j;Ba.prototype.de=m;function Ca(a){if(a<10)return"0"+a;return String(a)}function Da(a,b){var c=(a.le-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Ea(a){Ba.call(this,a)}x(Ea,Ba);Ea.prototype.de=j;function Fa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}x(Fa,Error);Fa.prototype.name="CustomError";function Ga(a,b){b.unshift(a);Fa.call(this,oa.apply(l,b));b.shift();this.sh=a}x(Ga,Fa);Ga.prototype.name="AssertionError";function Ha(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}i(new Ga(""+d,e||[]))}return a}function Ia(a){i(new Ga("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var y=Array.prototype,Ja=y.indexOf?function(a,b,c){Ha(a.length!=l);return y.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(t(a)){if(!t(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},La=y.forEach?function(a,b,c){Ha(a.length!=l);y.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Ma(){return y.concat.apply(y,arguments)}
function Na(a){if(ca(a)=="array")return Ma(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Oa(a,b,c){Ha(a.length!=l);return arguments.length<=2?y.slice.call(a,b):y.slice.call(a,b,c)};function Pa(a,b,c){for(var d in a)b.call(c,a[d],d,a)}var Qa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function Ra(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Qa.length;e++){b=Qa[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var Sa="StopIteration"in r?r.StopIteration:Error("StopIteration");function Ta(){}Ta.prototype.next=function(){i(Sa)};Ta.prototype.ec=function(){return this};function Ua(a){if(a instanceof Ta)return a;if(typeof a.ec=="function")return a.ec(m);if(da(a)){var b=0,c=new Ta;c.next=function(){for(;;){if(b>=a.length)i(Sa);if(b in a)return a[b++];else b++}};return c}i(Error("Not implemented"))}
function Va(a,b,c){if(da(a))try{La(a,b,c)}catch(d){if(d!==Sa)i(d)}else{a=Ua(a);try{for(;;)b.call(c,a.next(),undefined,a)}catch(e){if(e!==Sa)i(e)}}};function Wa(a){this.Aa={};this.U=[];var b=arguments.length;if(b>1){if(b%2)i(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){var d;if(a instanceof Wa){c=Xa(a);Ya(a);d=[];for(b=0;b<a.U.length;b++)d.push(a.Aa[a.U[b]]);d=d}else{b=[];var e=0;for(c in a)b[e++]=c;c=b;b=[];e=0;for(d in a)b[e++]=a[d];d=b}for(b=0;b<c.length;b++)this.set(c[b],d[b])}}p=Wa.prototype;p.R=0;p.Zb=0;function Xa(a){Ya(a);return a.U.concat()}
p.clear=function(){this.Aa={};this.Zb=this.R=this.U.length=0};function Ya(a){if(a.R!=a.U.length){for(var b=0,c=0;b<a.U.length;){var d=a.U[b];if(Object.prototype.hasOwnProperty.call(a.Aa,d))a.U[c++]=d;b++}a.U.length=c}if(a.R!=a.U.length){var e={};for(c=b=0;b<a.U.length;){d=a.U[b];if(!Object.prototype.hasOwnProperty.call(e,d)){a.U[c++]=d;e[d]=1}b++}a.U.length=c}}p.get=function(a,b){if(Object.prototype.hasOwnProperty.call(this.Aa,a))return this.Aa[a];return b};
p.set=function(a,b){if(!Object.prototype.hasOwnProperty.call(this.Aa,a)){this.R++;this.U.push(a);this.Zb++}this.Aa[a]=b};p.ec=function(a){Ya(this);var b=0,c=this.U,d=this.Aa,e=this.Zb,f=this,g=new Ta;g.next=function(){for(;;){if(e!=f.Zb)i(Error("The map has changed since the iterator was created"));if(b>=c.length)i(Sa);var h=c[b++];return a?h:d[h]}};return g};function Za(a){return $a(a||arguments.callee.caller,[])}
function $a(a,b){var c=[];if(Ja(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(ab(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=ab(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push($a(a.caller,
b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ab(a){a=String(a);if(!bb[a]){var b=/function ([^\(]+)/.exec(a);bb[a]=b?b[1]:"[Anonymous]"}return bb[a]}var bb={};function cb(a,b,c,d,e){this.reset(a,b,c,d,e)}cb.prototype.qg=0;cb.prototype.uc=l;cb.prototype.tc=l;var db=0;cb.prototype.reset=function(a,b,c,d,e){this.qg=typeof e=="number"?e:db++;this.le=d||la();this.Za=a;this.ig=b;this.$f=c;delete this.uc;delete this.tc};cb.prototype.Qc=n("Za");function A(a){this.Qd=a}A.prototype.Ub=l;A.prototype.Za=l;A.prototype.nc=l;A.prototype.wb=l;function B(a,b){this.name=a;this.value=b}B.prototype.toString=o("name");var eb=new B("SHOUT",1200),fb=new B("SEVERE",1E3),gb=new B("WARNING",900),hb=new B("INFO",800),ib=new B("CONFIG",700),jb=new B("FINE",500),kb=new B("ALL",0);A.prototype.getName=o("Qd");A.prototype.Qc=n("Za");function lb(a){if(a.Za)return a.Za;if(a.Ub)return lb(a.Ub);Ia("Root logger has no level set.");return l}
A.prototype.log=function(a,b,c){if(a.value>=lb(this).value){a=this.Of(a,b,c);for(b=this;b;){c=b;var d=a;if(c.wb)for(var e=0,f=void 0;f=c.wb[e];e++)f(d);b=b.Ub}}};
A.prototype.Of=function(a,b,c){var d=new cb(a,String(b),this.Qd);if(c){d.uc=c;var e;var f=arguments.callee.caller;try{var g,h=aa("window.location.href");g=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.qh||"Not available",fileName:c.fileName||c.filename||c.sourceURL||h,stack:c.stack||"Not available"}:c;e="Message: "+qa(g.message)+'\nUrl: <a href="view-source:'+
g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+qa(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+qa(Za(f)+"-> ")}catch(k){e="Exception trying to expose exception! You win, we lose. "+k}d.tc=e}return d};function C(a,b,c){a.log(fb,b,c)}function D(a,b,c){a.log(jb,b,c)}var ob={},pb=l;function qb(){if(!pb){pb=new A("");ob[""]=pb;pb.Qc(ib)}}function rb(){qb();return pb}
function E(a){qb();var b;if(!(b=ob[a])){b=new A(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=E(a.substr(0,c));if(!c.nc)c.nc={};c.nc[d]=b;b.Ub=c;b=ob[a]=b}return b};var sb,tb,ub,vb,wb;function xb(){return r.navigator?r.navigator.userAgent:l}vb=ub=tb=sb=m;var yb;if(yb=xb()){var zb=r.navigator;sb=yb.indexOf("Opera")==0;tb=!sb&&yb.indexOf("MSIE")!=-1;ub=!sb&&yb.indexOf("WebKit")!=-1;vb=!sb&&!ub&&zb.product=="Gecko"}var Ab=sb,F=tb,Bb=vb,G=ub,Cb,Db=r.navigator;Cb=Db&&Db.platform||"";wb=Cb.indexOf("Mac")!=-1;var Eb=Cb.indexOf("Win")!=-1,Fb;
a:{var Gb="",Hb;if(Ab&&r.opera){var Ib=r.opera.version;Gb=typeof Ib=="function"?Ib():Ib}else{if(Bb)Hb=/rv\:([^\);]+)(\)|;)/;else if(F)Hb=/MSIE\s+([^\);]+)(\)|;)/;else if(G)Hb=/WebKit\/(\S+)/;if(Hb){var Jb=Hb.exec(xb());Gb=Jb?Jb[1]:""}}if(F){var Kb,Lb=r.document;Kb=Lb?Lb.documentMode:undefined;if(Kb>parseFloat(Gb)){Fb=String(Kb);break a}}Fb=Gb}var Mb={};function Nb(a){return Mb[a]||(Mb[a]=za(Fb,a)>=0)};var Ob,Pb=!F||Nb("9");F&&Nb("9");function Qb(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Oa(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(Ja(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};function Rb(a,b,c,d){a=d||a;var e=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!G||document.compatMode=="CSS1Compat"||Nb("528"))&&(e||c))return a.querySelectorAll(e+(c?"."+c:""));if(c&&a.getElementsByClassName){b=a.getElementsByClassName(c);if(e){a={};for(var f=d=0,g;g=b[f];f++)if(e==g.nodeName)a[d++]=g;a.length=d;return a}else return b}b=a.getElementsByTagName(e||"*");if(c){a={};for(f=d=0;g=b[f];f++){e=g.className;var h;if(h=typeof e.split=="function"){e=e.split(/\s+/);h=
Ja(e,c)>=0}if(h)a[d++]=g}a.length=d;return a}else return b}function Sb(a,b){Pa(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Ub)a.setAttribute(Ub[d],c);else a[d]=c})}var Ub={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};function Vb(){return Wb(document,arguments)}
function Wb(a,b){var c=b[0],d=b[1];if(!Pb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',qa(d.name),'"');if(d.type){c.push(' type="',qa(d.type),'"');var e={};Ra(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(t(d))c.className=d;else ca(d)=="array"?Qb.apply(l,[c].concat(d)):Sb(c,d);b.length>2&&Xb(a,c,b,2);return c}
function Xb(a,b,c,d){function e(g){if(g)b.appendChild(t(g)?a.createTextNode(g):g)}for(d=d;d<c.length;d++){var f=c[d];da(f)&&!(fa(f)&&f.nodeType>0)?La(Yb(f)?Na(f):f,e):e(f)}}function Yb(a){if(a&&typeof a.length=="number")if(fa(a))return typeof a.item=="function"||typeof a.item=="string";else if(ea(a))return typeof a.item=="function";return m}function Zb(a){this.Ra=a||r.document||document}p=Zb.prototype;p.pd=function(){return Wb(this.Ra,arguments)};p.createElement=function(a){return this.Ra.createElement(a)};
p.createTextNode=function(a){return this.Ra.createTextNode(a)};p.appendChild=function(a,b){a.appendChild(b)};p.contains=function(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function $b(a,b){if(F)a.cssText=b;else a[G?"innerText":"innerHTML"]=b};function ac(a){this.ng=ka(this.Ye,this);this.yd=new Ea;this.Ed=this.yd.ce=m;this.N=a;this.nf=this.N.ownerDocument||this.N.document;a=(a=this.N)?new Zb(a.nodeType==9?a:a.ownerDocument||a.document):Ob||(Ob=new Zb);var b=l;if(F){b=a.Ra.createStyleSheet();$b(b,".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}")}else{var c=
Rb(a.Ra,"head",void 0,void 0)[0];if(!c){b=Rb(a.Ra,"body",void 0,void 0)[0];c=a.pd("head");b.parentNode.insertBefore(c,b)}b=a.pd("style");$b(b,".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}");a.appendChild(c,b)}this.N.className+=" logdiv"}
ac.prototype.Ye=function(a){var b=this.N.scrollHeight-this.N.scrollTop-this.N.clientHeight<=100,c=this.nf.createElement("div");c.className="logmsg";var d=this.yd,e;switch(a.Za.value){case eb.value:e="dbg-sh";break;case fb.value:e="dbg-sev";break;case gb.value:e="dbg-w";break;case hb.value:e="dbg-i";break;default:e="dbg-f"}var f=[];f.push(d.mg," ");if(d.ce){var g=new Date(a.le);f.push("[",Ca(g.getFullYear()-2E3)+Ca(g.getMonth()+1)+Ca(g.getDate())+" "+Ca(g.getHours())+":"+Ca(g.getMinutes())+":"+Ca(g.getSeconds())+
"."+Ca(Math.floor(g.getMilliseconds()/10)),"] ")}d.Jg&&f.push("[",ya(Da(a,d.Lg.get())),"s] ");d.Ig&&f.push("[",qa(a.$f),"] ");f.push('<span class="',e,'">',pa(ya(qa(a.ig))));if(d.de&&a.uc)f.push("<br>",pa(ya(a.tc||"")));f.push("</span><br>");c.innerHTML=f.join("");this.N.appendChild(c);if(b)this.N.scrollTop=this.N.scrollHeight};ac.prototype.clear=function(){this.N.innerHTML=""};function bc(){}bc.prototype.td=m;bc.prototype.Qa=function(){if(!this.td){this.td=j;this.ea()}};bc.prototype.ea=function(){};function H(a,b){this.Kd=b;this.Fa=[];if(a>this.Kd)i(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Fa.push(this.mb())}x(H,bc);p=H.prototype;p.Ea=l;p.sd=l;function cc(a){if(a.Fa.length)return a.Fa.pop();return a.mb()}function dc(a,b){a.Fa.length<a.Kd?a.Fa.push(b):a.qc(b)}p.mb=function(){return this.Ea?this.Ea():{}};p.qc=function(a){if(this.sd)this.sd(a);else if(fa(a))if(ea(a.Qa))a.Qa();else for(var b in a)delete a[b]};
p.ea=function(){H.bb.ea.call(this);for(var a=this.Fa;a.length;)this.qc(a.pop());delete this.Fa};function ec(){this.rb=[];this.Lc=new Wa;this.oe=this.pe=this.qe=this.ge=0;this.Gb=new Wa;this.od=this.ne=0;this.jg=1;this.rc=new H(0,4E3);this.rc.mb=function(){return new fc};this.he=new H(0,50);this.he.mb=function(){return new gc};var a=this;this.Cc=new H(0,2E3);this.Cc.mb=function(){return String(a.jg++)};this.Cc.qc=function(){};this.gf=3}function gc(){this.Zc=this.ke=this.oc=0}
gc.prototype.toString=function(){var a=[];a.push(this.type," ",this.oc," (",Math.round(this.ke*10)/10," ms)");this.Zc&&a.push(" [VarAlloc = ",this.Zc,"]");return a.join("")};function fc(){}function hc(a,b,c,d){var e=[];c==-1?e.push("    "):e.push(ic(a.vd-c));e.push(" ",jc(a.vd-b));if(a.sc==0)e.push(" Start        ");else if(a.sc==1){e.push(" Done ");e.push(ic(a.yh-a.startTime)," ms ")}else e.push(" Comment      ");e.push(d,a);a.Pg>0&&e.push("[VarAlloc ",a.Pg,"] ");return e.join("")}
fc.prototype.toString=function(){return this.type==l?this.af:"["+this.type+"] "+this.af};ec.prototype.reset=function(a){this.gf=a;for(a=0;a<this.rb.length;a++){var b=this.rc.id;b&&dc(this.Cc,b);dc(this.rc,this.rb[a])}this.rb.length=0;this.Lc.clear();this.ge=la();this.od=this.ne=this.oe=this.pe=this.qe=0;b=Xa(this.Gb);for(a=0;a<b.length;a++){var c=this.Gb.get(b[a]);c.oc=0;c.ke=0;c.Zc=0;dc(this.he,c)}this.Gb.clear()};
ec.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.rb.length;d++){var e=this.rb[d];e.sc==1&&c.pop();a.push(" ",hc(e,this.ge,b,c.join("")));b=e.vd;a.push("\n");e.sc==0&&c.push("|  ")}if(this.Lc.R!=0){var f=la();a.push(" Unstopped timers:\n");Va(this.Lc,function(g){a.push("  ",g," (",f-g.startTime," ms, started at ",jc(g.startTime),")\n")})}b=Xa(this.Gb);for(d=0;d<b.length;d++){c=this.Gb.get(b[d]);c.oc>1&&a.push(" TOTAL ",c,"\n")}a.push("Total tracers created ",this.ne,"\n","Total comments created ",
this.od,"\n","Overhead start: ",this.qe," ms\n","Overhead end: ",this.pe," ms\n","Overhead comment: ",this.oe," ms\n");return a.join("")};function ic(a){a=Math.round(a);var b="";if(a<1E3)b=" ";if(a<100)b="  ";if(a<10)b="   ";return b+a}function jc(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new ec;function I(a,b){this.a=E("lanyard.geom.Angle");isNaN(a)&&C(this.a,"Attempted to create an angle with invalid degrees.");isNaN(b)&&C(this.a,"Attempted to create an angle with invalid radians.");this.e=a;this.G=b}s("lanyard.geom.Angle",I,void 0);I.prototype.Ib=Math.PI/180;s("lanyard.geom.Angle.prototype.DEGREES_TO_RADIANS",I.prototype.Ib,void 0);I.prototype.eb=180/Math.PI;s("lanyard.geom.Angle.prototype.RADIANS_TO_DEGREES",I.prototype.eb,void 0);I.prototype.db=Math.PI/2;
s("lanyard.geom.Angle.prototype.PIOver2",I.prototype.db,void 0);I.prototype.j=function(a){return new I(a,I.prototype.Ib*a)};s("lanyard.geom.Angle.prototype.fromDegrees",I.prototype.j,void 0);I.prototype.M=function(a){return new I(I.prototype.eb*a,a)};s("lanyard.geom.Angle.prototype.fromRadians",I.prototype.M,void 0);I.prototype.Mf=o("e");s("lanyard.geom.Angle.prototype.getDegrees",I.prototype.Mf,void 0);I.prototype.Pf=o("G");s("lanyard.geom.Angle.prototype.getRadians",I.prototype.Pf,void 0);
I.prototype.ZERO=I.prototype.j(0);s("lanyard.geom.Angle.prototype.ZERO",I.prototype.ZERO,void 0);I.prototype.dc=I.prototype.j(90);s("lanyard.geom.Angle.prototype.POS90",I.prototype.dc,void 0);I.prototype.bc=I.prototype.j(-90);s("lanyard.geom.Angle.prototype.NEG90",I.prototype.bc,void 0);I.prototype.cc=I.prototype.j(180);s("lanyard.geom.Angle.prototype.POS180",I.prototype.cc,void 0);I.prototype.ac=I.prototype.j(-180);s("lanyard.geom.Angle.prototype.NEG180",I.prototype.ac,void 0);I.prototype.Ge=I.prototype.j(360);
s("lanyard.geom.Angle.prototype.POS360",I.prototype.Ge,void 0);I.prototype.pf=function(a){a=a<-90?-90:a>90?90:a;return new I(a,I.prototype.Ib*a)};s("lanyard.geom.Angle.prototype.fromDegreesLatitude",I.prototype.pf,void 0);I.prototype.tf=function(a){a=a<I.prototype.db?-I.prototype.db:a>I.prototype.db?I.prototype.db:a;var b=I.prototype.eb*a;b=b<-90?-90:b>90?90:b;return new I(b,a)};s("lanyard.geom.Angle.prototype.fromRadiansLatitude",I.prototype.tf,void 0);
I.prototype.qf=function(a){a=a<-180?-180:a>180?180:a;var b=I.prototype.Ib*a;b=b<-Math.PI?-Math.PI:b>Math.PI?Math.PI:b;return new I(a,b)};s("lanyard.geom.Angle.prototype.fromDegreesLongitude",I.prototype.qf,void 0);I.prototype.uf=function(a){a=a<-Math.PI?-Math.PI:a>Math.PI?Math.PI:a;var b=I.prototype.eb*a;b=b<-180?-180:b>180?180:b;return new I(b,a)};s("lanyard.geom.Angle.prototype.fromRadiansLongitude",I.prototype.uf,void 0);
I.prototype.vf=function(a,b){var c=Math.atan2(b,a);return new I(I.prototype.eb*c,c)};s("lanyard.geom.Angle.prototype.fromXY",I.prototype.vf,void 0);I.prototype.add=function(a){return I.prototype.j(this.e+a.e)};s("lanyard.geom.Angle.prototype.add",I.prototype.add,void 0);I.prototype.K=function(a){return I.prototype.j(this.e-a.e)};s("lanyard.geom.Angle.prototype.subtract",I.prototype.K,void 0);I.prototype.multiply=function(a){return I.prototype.j(this.e*a)};
s("lanyard.geom.Angle.prototype.multiply",I.prototype.multiply,void 0);I.prototype.kf=function(a){return this.e/a.e};s("lanyard.geom.Angle.prototype.divideByAngle",I.prototype.kf,void 0);I.prototype.lf=function(a){return I.prototype.j(this.e/a)};s("lanyard.geom.Angle.prototype.divideByDegrees",I.prototype.lf,void 0);I.prototype.Ze=function(a){return I.prototype.M(this.G+a)};s("lanyard.geom.Angle.prototype.addRadians",I.prototype.Ze,void 0);I.prototype.kc=function(a){return I.prototype.j(this.e+a)};
s("lanyard.geom.Angle.prototype.addDegrees",I.prototype.kc,void 0);I.prototype.Mg=function(a){return I.prototype.M(this.G-a)};s("lanyard.geom.Angle.prototype.subtractRadians",I.prototype.Mg,void 0);I.prototype.sin=function(){return Math.sin(this.G)};s("lanyard.geom.Angle.prototype.sin",I.prototype.sin,void 0);I.prototype.Kg=function(){return Math.sin(0.5*this.G)};s("lanyard.geom.Angle.prototype.sinHalfAngle",I.prototype.Kg,void 0);I.prototype.asin=function(a){return I.prototype.M(Math.asin(a))};
s("lanyard.geom.Angle.prototype.asin",I.prototype.asin,void 0);I.prototype.cos=function(){return Math.cos(this.G)};s("lanyard.geom.Angle.prototype.cos",I.prototype.cos,void 0);I.prototype.cf=function(){return Math.cos(0.5*this.G)};s("lanyard.geom.Angle.prototype.cosHalfAngle",I.prototype.cf,void 0);I.prototype.acos=function(a){return I.prototype.M(Math.acos(a))};s("lanyard.geom.Angle.prototype.acos",I.prototype.acos,void 0);I.prototype.Vc=function(){return Math.tan(0.5*this.G)};
s("lanyard.geom.Angle.prototype.tanHalfAngle",I.prototype.Vc,void 0);I.prototype.atan=function(a){return I.prototype.M(Math.atan(a))};s("lanyard.geom.Angle.prototype.atan",I.prototype.atan,void 0);I.prototype.dg=function(a,b){return I.prototype.j(0.5*(a.e+b.e))};s("lanyard.geom.Angle.prototype.midAngle",I.prototype.dg,void 0);I.prototype.lc=function(a,b,c){return c?I.prototype.j((a.e+b.e+c.e)/3):I.prototype.j(0.5*(a.e+b.e))};s("lanyard.geom.Angle.prototype.average",I.prototype.lc,void 0);
I.prototype.da=function(a){if(this.e<a.e)return-1;if(this.e>a.e)return 1;return 0};s("lanyard.geom.Angle.prototype.compareTo",I.prototype.da,void 0);function kc(a,b){var c=b%180;return c>90?180-c:c<-90?-180-c:c}function lc(a,b){var c=b%360;return c>180?c-360:c<-180?360+c:c}I.prototype.toString=function(){return"This Angle equals "+this.e+" ("+this.G+" radians)."};s("lanyard.geom.Angle.prototype.toString",I.prototype.toString,void 0);function J(a,b,c,d){this.b=a;this.c=b;this.d=c;this.z=d?d:1}s("lanyard.geom.Point",J,void 0);J.prototype.ZERO=new J(0,0,0,1);s("lanyard.geom.Point.prototype.ZERO",J.prototype.ZERO,void 0);J.prototype.Ie=new J(1,0,0,1);s("lanyard.geom.Point.prototype.UNIT_X",J.prototype.Ie,void 0);J.prototype.Je=new J(0,1,0,1);s("lanyard.geom.Point.prototype.UNIT_Y",J.prototype.Je,void 0);J.prototype.Ke=new J(0,0,1,1);s("lanyard.geom.Point.prototype.UNIT_Z",J.prototype.Ke,void 0);J.prototype.Qf=o("z");
s("lanyard.geom.Point.prototype.getW",J.prototype.Qf,void 0);J.prototype.zc=o("b");s("lanyard.geom.Point.prototype.getX",J.prototype.zc,void 0);J.prototype.Ac=o("c");s("lanyard.geom.Point.prototype.getY",J.prototype.Ac,void 0);J.prototype.Rf=o("d");s("lanyard.geom.Point.prototype.getZ",J.prototype.Rf,void 0);J.prototype.translate=function(a){return new J(a.q*this.b+a.g*this.c+a.k*this.d+a.o,a.r*this.b+a.h*this.c+a.l*this.d+a.p,a.s*this.b+a.i*this.c+a.m*this.d+a.t,1)};
s("lanyard.geom.Point.prototype.translate",J.prototype.translate,void 0);J.prototype.add=function(a){return new J(this.b+a.b,this.c+a.c,this.d+a.d,1)};s("lanyard.geom.Point.prototype.add",J.prototype.add,void 0);J.prototype.K=function(a){return new J(this.b-a.b,this.c-a.c,this.d-a.d,1)};s("lanyard.geom.Point.prototype.subtract",J.prototype.K,void 0);J.prototype.multiply=function(a){return new J(this.b*a,this.c*a,this.d*a,1)};s("lanyard.geom.Point.prototype.multiply",J.prototype.multiply,void 0);
J.prototype.scale=function(a,b,c){return this.z?new J(this.b*a,this.c*b,this.d*c,this.z):new J(this.b*a,this.c*b,this.d*c,1)};s("lanyard.geom.Point.prototype.scale",J.prototype.scale,void 0);J.prototype.length=function(){return Math.sqrt(this.na())};s("lanyard.geom.Point.prototype.length",J.prototype.length,void 0);J.prototype.normalize=function(){var a=1/this.length();return this.scale(a,a,a)};s("lanyard.geom.Point.prototype.normalize",J.prototype.normalize,void 0);
J.prototype.H=function(a){return this.b*a.b+this.c*a.c+this.d*a.d};s("lanyard.geom.Point.prototype.dot",J.prototype.H,void 0);J.prototype.na=function(){return this.b*this.b+this.c*this.c+this.d*this.d};s("lanyard.geom.Point.prototype.selfDot",J.prototype.na,void 0);J.prototype.mf=function(a){return this.b*a.b+this.c*a.c+this.d*a.d+this.z*this.z};s("lanyard.geom.Point.prototype.dot4",J.prototype.mf,void 0);
J.prototype.ca=function(a){var b=this.b-a.b,c=this.c-a.c;a=this.d-a.d;return Math.sqrt(b*b+c*c+a*a)};s("lanyard.geom.Point.prototype.distanceTo",J.prototype.ca,void 0);J.prototype.jf=function(a){var b=this.b-a.b,c=this.c-a.c;a=this.d-a.d;return b*b+c*c+a*a};s("lanyard.geom.Point.prototype.distanceToSquared",J.prototype.jf,void 0);J.prototype.eg=function(a,b){return new J(0.5*(a.b+b.b),0.5*(a.c+b.c),0.5*(a.d+b.d),1)};s("lanyard.geom.Point.prototype.midPoint",J.prototype.eg,void 0);
J.prototype.Nb=function(a,b,c){return new J(a*b.b+c.b,a*b.c+c.c,a*b.d+c.d,1)};s("lanyard.geom.Point.prototype.fromOriginAndDirection",J.prototype.Nb,void 0);J.prototype.bf=function(a){if(a.length===0)return[J.prototype.ZERO,J.prototype.ZERO];for(var b=a[0].b,c=a[0].c,d=a[0].d,e=b,f=c,g=d,h=0;h<a.length;h+=1){var k=a[h].b;if(k>e)e=k;else if(k<b)b=k;k=a[h].c;if(k>f)f=k;else if(k<c)c=k;k=a[h].d;if(k>g)g=k;else if(k<d)d=k}return[new J(b,c,d,1),new J(e,f,g,1)]};
s("lanyard.geom.Point.prototype.composeExtrema",J.prototype.bf,void 0);J.prototype.df=function(a){return new J(this.c*a.d-this.d*a.c,this.d*a.b-this.b*a.d,this.b*a.c-this.c*a.b,1)};s("lanyard.geom.Point.prototype.cross",J.prototype.df,void 0);J.prototype.toString=function(){return"A point with values of x="+this.b+"; y="+this.c+"; z="+this.d+"; w="+this.z+"."};s("lanyard.geom.Point.prototype.toString",J.prototype.toString,void 0);function mc(a,b,c,d,e,f){this.Da=a;this.fb=b;this.La=c;this.Ma=d;this.Ja=e;this.Na=f}s("lanyard.geom.Frustum",mc,void 0);function nc(a){return a.Da}mc.prototype.yb=function(a){var b=a.xc();a=-a.Ga();if(this.fb.H(b)<=a)return m;if(this.La.H(b)<=a)return m;if(this.Ma.H(b)<=a)return m;if(this.Na.H(b)<=a)return m;if(this.Ja.H(b)<=a)return m;if(this.Da.H(b)<=a)return m;return j};
mc.prototype.contains=function(a){if(this.fb.H(a)<0)return m;if(this.La.H(a)<0)return m;if(this.Ma.H(a)<0)return m;if(this.Na.H(a)<0)return m;if(this.Ja.H(a)<0)return m;if(this.Da.H(a)<0)return m;return j};mc.prototype.toString=function(){return"near: "+this.Da.toString()+"... far: "+this.fb.toString()+"... left: "+this.La.toString()+"... right: "+this.Ma.toString()+"... bottom: "+this.Ja.toString()+"... top: "+this.Na.toString()};function K(a,b){this.hc=a;this.Te=b}s("lanyard.geom.Intersection",K,void 0);K.prototype.toString=function(){var a=this.Te?" is a tangent.":" not a tangent";return"Intersection Point: "+this.hc.toString()+a};function oc(a,b){this.pa=a;this.ha=b}s("lanyard.geom.Line",oc,void 0);function M(a,b){return J.prototype.Nb(b,a.ha,a.pa)}oc.prototype.na=function(){return this.pa.H(this.ha)};oc.prototype.ca=function(a){a=this.pa.K(a);var b=this.ha.multiply(a.H(this.ha)/this.ha.na()).na();return Math.sqrt(a.na()-b)};oc.prototype.toString=function(){return"Origin: "+this.pa.toString()+", Direction: "+this.ha.toString()};function N(a,b,c,d){this.O=new J(a,b,c,d)}function pc(a,b){if(b.na()===0)i("geom.Plane.VectorIsZero");return new N(b.b,b.c,b.d,b.z)}function qc(a){return a.O.z}N.prototype.H=function(a){return this.O.b*a.b+this.O.c*a.c+this.O.d*a.d+this.O.z*a.z};N.prototype.toString=function(){return this.O.toString()};function O(a,b,c){this.B=a;this.C=b;this.hd=c}p=O.prototype;p.ZERO=new O(I.prototype.ZERO,I.prototype.ZERO,0);p.M=function(a,b,c){return new O(I.prototype.M(a),I.prototype.M(b),c)};p.j=function(a,b,c){return new O(I.prototype.j(a),I.prototype.j(b),c)};p.sf=function(a,b){return new O(a.B,a.C,b)};p.Y=o("hd");p.add=function(a){var b=I.prototype.j(kc(I.prototype,this.B.add(a.B).e)),c=I.prototype.j(lc(I.prototype,this.C.add(a.C).e));return new O(b,c,this.Y()+a.Y())};
p.K=function(a){var b=I.prototype.j(kc(I.prototype,this.B.K(a.B).e)),c=I.prototype.j(lc(I.prototype,this.C.K(a.C).e));return new O(b,c,this.Y()-a.Y())};p.toString=function(){return"A position with a longitude of "+this.C+", a latitude of "+this.B+" and an elevation of "+this.hd};function rc(a,b,c,d){this.a=E("lanyard.globes.EllipsoidalGlobe");this.P=a;this.Cb=b;this.Sa=c;this.mc=J.prototype.ZERO;this.va=d}s("lanyard.globes.EllipsoidalGlobe",rc,void 0);p=rc.prototype;p.Ga=o("P");p.xc=o("mc");p.wa=function(){return this};p.Ec=function(a){return a.yb(this)};
p.Dc=function(a){var b=this.P/this.Cb,c=b*b,d=a.ha.b,e=a.ha.c,f=a.ha.d,g=a.pa.b,h=a.pa.c,k=a.pa.d;b=d*d+c*e*e+1*f*f;d=2*(g*d+c*h*e+1*k*f);c=this.ob(b,d,g*g+c*h*h+1*k*k-this.P*this.P);if(c<0)return l;g=Math.sqrt(c);return c===0?[new K(M(a,(-d-g)/(2*b)),j)]:[new K(M(a,(-d-g)/(2*b)),m),new K(M(a,(-d+g)/(2*b)),m)]};p.ob=function(a,b,c){return b*b-4*a*c};p.Y=function(a,b){return this.va?this.va.Y(a,b):0};function sc(a,b){return P(a,b.B,b.C,b.Y())}
function P(a,b,c,d){var e=b.cos();b=b.sin();b=a.P/Math.sqrt(1-a.Sa*b*b);return new J((b+d)*e*c.sin(),(b*(1-a.Sa)+d)*c.cos(),(b+d)*e*c.cos(),1)}
function tc(a,b){var c=1/(a.P*a.P),d=b.d,e=b.b,f=b.c,g=a.Sa,h=g*g,k=d*d+e*e,q=Math.sqrt(k),u=k*c;c=f*f*(1-g)*c;k=1/6*(u+c-h);u=h*u*c/(4*k*k*k);u=Math.pow(1+u+Math.sqrt(u*(2+u)),1/3);k=k*(1+u+1/u);h=Math.sqrt(k*k+h*c);c=g*(k+h-c)/(2*h);h=Math.sqrt(k+h+c*c)-c;c=h*q/(h+g);k=Math.sqrt(c*c+f*f);return O.prototype.M(2*Math.atan2(f,c+k),2*Math.atan2(e,d+q),(h+g-1)*k/h)}p.Wc=function(a){return uc(a.Z()).Wc(a)};function vc(){this.Cb=this.P=6378137;this.Sa=0.00669437999013;this.mc=J.prototype.ZERO;this.va=l;rc.call(this,this.P,this.Cb,this.Sa,this.va);this.a=E("lanyard.globes.Earth")}s("lanyard.globes.Earth",vc,void 0);x(vc,rc);vc.prototype.Ga=o("P");function wc(){this.X=[]}wc.prototype.add=function(a){this.X.push(a)};wc.prototype.length=function(){return this.X?this.X.length:0};wc.prototype.clear=function(){this.X=[]};wc.prototype.yc=function(a,b,c){var d;for(d=0;d<this.X.length;d+=1)if(this.X[d].fa().contains(a,b)){var e=this.X[d].yc(a,b,c);if(e)return e}return l};function Q(a){this.v=this.m=this.h=this.q=1;this.s=this.r=0;this.w=1;this.i=this.g=0;this.n=1;this.l=this.k=0;this.u=1;this.t=this.p=this.o=0;this.ia=j;if(a){this.q=a[0];this.g=a[1];this.k=a[2];this.o=a[3];this.r=a[4];this.h=a[5];this.l=a[6];this.p=a[7];this.s=a[8];this.i=a[9];this.m=a[10];this.t=a[11];this.w=a[12];this.n=a[13];this.u=a[14];this.v=a[15];this.ia=m}}s("lanyard.geom.MatrixFour",Q,void 0);
Q.prototype.toString=function(){var a=this.Ua(),b="MatrixFour : \n[ ",c;for(c=0;c<a.length;c++){b+=a[c]+", ";if(c==3||c==7||c==11||c==14)b+="\n"}b+=" ]";return b};s("lanyard.geom.MatrixFour.prototype.toString",Q.prototype.toString,void 0);Q.prototype.Ua=function(){var a=[];a[0]=this.q;a[1]=this.g;a[2]=this.k;a[3]=this.o;a[4]=this.r;a[5]=this.h;a[6]=this.l;a[7]=this.p;a[8]=this.s;a[9]=this.i;a[10]=this.m;a[11]=this.t;a[12]=this.w;a[13]=this.n;a[14]=this.u;a[15]=this.v;return a};
s("lanyard.geom.MatrixFour.prototype.getEntries",Q.prototype.Ua,void 0);Q.prototype.Hg=function(){this.q=1;this.g=this.w=this.s=this.r=0;this.h=1;this.l=this.k=this.n=this.i=0;this.m=1;this.t=this.p=this.o=this.u=0;this.v=1;this.ia=j};s("lanyard.geom.MatrixFour.prototype.setToIdentity",Q.prototype.Hg,void 0);Q.prototype.Xf=o("ia");s("lanyard.geom.MatrixFour.prototype.isOrthonormal",Q.prototype.Xf,void 0);Q.prototype.Rc=n("ia");s("lanyard.geom.MatrixFour.prototype.setOrthonormal",Q.prototype.Rc,void 0);
function xc(a,b){var c=b.cos(),d=b.sin(),e=a.r*-d+a.s*c,f=a.h*c+a.i*d,g=a.h*-d+a.i*c,h=a.l*c+a.m*d,k=a.l*-d+a.m*c,q=a.p*c+a.t*d,u=a.p*-d+a.t*c;a.r=a.r*c+a.s*d;a.s=e;a.h=f;a.i=g;a.l=h;a.m=k;a.p=q;a.t=u;return a}Q.prototype.translate=function(a,b,c){this.w=this.q*a+this.r*b+this.s*c+this.w;this.n=this.g*a+this.h*b+this.i*c+this.n;this.u=this.k*a+this.l*b+this.m*c+this.u;this.v=this.o*a+this.p*b+this.t*c+this.v;return this};Q.prototype.re=function(a){return this.translate(a.b,a.c,a.d)};
s("lanyard.geom.MatrixFour.prototype.translatePoint",Q.prototype.re,void 0);Q.prototype.add=function(a){this.q+=a.q;this.r+=a.r;this.s+=a.s;this.w+=a.w;this.g+=a.g;this.h+=a.h;this.i+=a.i;this.n+=a.n;this.k+=a.k;this.l+=a.l;this.m+=a.m;this.u+=a.u;this.o+=a.o;this.p+=a.p;this.t+=a.t;this.v+=a.v;this.ia=this.ia||a.ia;return this};
Q.prototype.multiply=function(a){var b=this.q*a.r+this.r*a.h+this.s*a.l+this.w*a.p,c=this.q*a.s+this.r*a.i+this.s*a.m+this.w*a.t,d=this.q*a.w+this.r*a.n+this.s*a.u+this.w*a.v,e=this.g*a.q+this.h*a.g+this.i*a.k+this.n*a.o,f=this.g*a.r+this.h*a.h+this.i*a.l+this.n*a.p,g=this.g*a.s+this.h*a.i+this.i*a.m+this.n*a.t,h=this.g*a.w+this.h*a.n+this.i*a.u+this.n*a.v,k=this.k*a.q+this.l*a.g+this.m*a.k+this.u*a.o,q=this.k*a.r+this.l*a.h+this.m*a.l+this.u*a.p,u=this.k*a.s+this.l*a.i+this.m*a.m+this.u*a.t,v=this.k*
a.w+this.l*a.n+this.m*a.u+this.u*a.v,w=this.o*a.q+this.p*a.g+this.t*a.k+this.v*a.o,z=this.o*a.r+this.p*a.h+this.t*a.l+this.v*a.p,ra=this.o*a.s+this.p*a.i+this.t*a.m+this.v*a.t,U=this.o*a.w+this.p*a.n+this.t*a.u+this.v*a.v;this.q=this.q*a.q+this.r*a.g+this.s*a.k+this.w*a.o;this.r=b;this.s=c;this.w=d;this.g=e;this.h=f;this.i=g;this.n=h;this.k=k;this.l=q;this.m=u;this.u=v;this.o=w;this.p=z;this.t=ra;this.v=U;this.Wf=this.Wf||a.ia;return this};
function yc(a){var b;if(a.ia){b=new Q(l);b.q=a.q;b.r=a.g;b.s=a.k;b.g=a.r;b.h=a.h;b.i=a.l;b.k=a.s;b.l=a.i;b.m=a.m;b.w=-(b.q*a.w+b.r*a.n+b.s*a.u);b.n=-(b.g*a.w+b.h*a.n+b.i*a.u);b.u=-(b.k*a.w+b.l*a.n+b.m*a.u);b=b}else{b=a.q*(a.h*a.m*a.v+a.i*a.u*a.p+a.n*a.l*a.t-a.n*a.m*a.p-a.h*a.u*a.t-a.i*a.l*a.v)-a.r*(a.g*a.m*a.v+a.i*a.u*a.o+a.n*a.k*a.t-a.n*a.m*a.o-a.g*a.u*a.t-a.i*a.k*a.v)+a.s*(a.g*a.l*a.v+a.h*a.u*a.o+a.n*a.k*a.p-a.n*a.l*a.o-a.g*a.u*a.p-a.h*a.k*a.v)-a.w*(a.g*a.l*a.t+a.h*a.m*a.o+a.i*a.k*a.p-a.i*a.l*a.o-
a.g*a.m*a.p-a.h*a.k*a.t);if(b===0)b=l;else{b=1/b;var c=new Q(l),d=a.m*a.v-a.u*a.t,e=a.u*a.p-a.l*a.v,f=a.l*a.t-a.m*a.p,g=a.i*a.v-a.n*a.t,h=a.n*a.p-a.h*a.v,k=a.i*a.u-a.n*a.m,q=a.h*a.m-a.i*a.l,u=a.u*a.o-a.k*a.v,v=a.k*a.t-a.m*a.o,w=a.n*a.o-a.g*a.v,z=a.n*a.k-a.g*a.u,ra=a.l*a.v-a.u*a.p,U=a.k*a.p-a.l*a.o,L=a.g*a.p-a.h*a.o,Ka=a.g*a.l-a.h*a.k,sa=a.m*a.o-a.k*a.t;c.q=b*a.h*d+a.i*e+a.n*f;c.r=-b*a.r*d+a.s*e+a.w*f;c.s=b*a.r*g+a.s*(a.n*a.p-a.h*a.v)+a.w*h;c.w=-b*a.r*k+a.s*(a.n*a.l-a.h*a.u)+a.w*q;c.g=-b*a.g*d+a.i*
u+a.n*v;c.h=b*a.q*d+a.s*u+a.w*v;c.i=-b*a.q*g+a.s*w+a.w*(a.g*a.t-a.i*a.o);c.n=-b*a.q*k+a.s*z+a.w*(a.g*a.m-a.i*a.k);c.k=b*a.g*ra+a.h*u+a.n*U;c.l=-b*a.q*ra+a.r*u+a.w*U;c.m=-b*a.q*(a.h*a.v-a.n*a.p)+a.r*w+a.w*L;c.u=b*a.q*(a.h*a.u-a.n*a.l)+a.r*z+a.w*Ka;c.o=-b*a.g*f+a.h*sa+a.i*U;c.p=-b*a.q*f+a.r*sa+a.s*U;c.t=b*a.q*h+a.r*(a.i*a.o-a.g*a.t)+a.s*L;c.v=-b*a.q*q+a.r*(a.i*a.k-a.g*a.m)+a.s*Ka;b=c}}b=b;b.Rc(a.ia);return b}
Q.prototype.transform=function(a){return new J(this.q*a.b+this.r*a.c+this.s*a.d+this.w*a.z,this.g*a.b+this.h*a.c+this.i*a.d+this.n*a.z,this.k*a.b+this.l*a.c+this.m*a.d+this.u*a.z,this.o*a.b+this.p*a.c+this.t*a.d+this.v*a.z)};Q.prototype.wf=o("q");s("lanyard.geom.MatrixFour.prototype.get11",Q.prototype.wf,void 0);Q.prototype.rg=n("q");s("lanyard.geom.MatrixFour.prototype.set11",Q.prototype.rg,void 0);Q.prototype.Bf=o("h");s("lanyard.geom.MatrixFour.prototype.get22",Q.prototype.Bf,void 0);
Q.prototype.wg=n("h");s("lanyard.geom.MatrixFour.prototype.set22",Q.prototype.wg,void 0);Q.prototype.Gf=o("m");s("lanyard.geom.MatrixFour.prototype.get33",Q.prototype.Gf,void 0);Q.prototype.Bg=n("m");s("lanyard.geom.MatrixFour.prototype.set33",Q.prototype.Bg,void 0);Q.prototype.Lf=o("v");s("lanyard.geom.MatrixFour.prototype.get44",Q.prototype.Lf,void 0);Q.prototype.Gg=n("v");s("lanyard.geom.MatrixFour.prototype.set44",Q.prototype.Gg,void 0);Q.prototype.xf=o("r");
s("lanyard.geom.MatrixFour.prototype.get12",Q.prototype.xf,void 0);Q.prototype.sg=n("r");s("lanyard.geom.MatrixFour.prototype.set12",Q.prototype.sg,void 0);Q.prototype.yf=o("s");s("lanyard.geom.MatrixFour.prototype.get13",Q.prototype.yf,void 0);Q.prototype.tg=n("s");s("lanyard.geom.MatrixFour.prototype.set13",Q.prototype.tg,void 0);Q.prototype.zf=o("w");s("lanyard.geom.MatrixFour.prototype.get14",Q.prototype.zf,void 0);Q.prototype.ug=n("w");
s("lanyard.geom.MatrixFour.prototype.set14",Q.prototype.ug,void 0);Q.prototype.Af=o("g");s("lanyard.geom.MatrixFour.prototype.get21",Q.prototype.Af,void 0);Q.prototype.vg=n("g");s("lanyard.geom.MatrixFour.prototype.set21",Q.prototype.vg,void 0);Q.prototype.Cf=o("i");s("lanyard.geom.MatrixFour.prototype.get23",Q.prototype.Cf,void 0);Q.prototype.xg=n("i");s("lanyard.geom.MatrixFour.prototype.set23",Q.prototype.xg,void 0);Q.prototype.Df=o("n");
s("lanyard.geom.MatrixFour.prototype.get24",Q.prototype.Df,void 0);Q.prototype.yg=n("n");s("lanyard.geom.MatrixFour.prototype.set24",Q.prototype.yg,void 0);Q.prototype.Ef=o("k");s("lanyard.geom.MatrixFour.prototype.get31",Q.prototype.Ef,void 0);Q.prototype.zg=n("k");s("lanyard.geom.MatrixFour.prototype.set31",Q.prototype.zg,void 0);Q.prototype.Ff=o("l");s("lanyard.geom.MatrixFour.prototype.get32",Q.prototype.Ff,void 0);Q.prototype.Ag=n("l");
s("lanyard.geom.MatrixFour.prototype.set32",Q.prototype.Ag,void 0);Q.prototype.Hf=o("u");s("lanyard.geom.MatrixFour.prototype.get34",Q.prototype.Hf,void 0);Q.prototype.Cg=n("u");s("lanyard.geom.MatrixFour.prototype.set34",Q.prototype.Cg,void 0);Q.prototype.If=o("o");s("lanyard.geom.MatrixFour.prototype.get41",Q.prototype.If,void 0);Q.prototype.Dg=n("o");s("lanyard.geom.MatrixFour.prototype.set41",Q.prototype.Dg,void 0);Q.prototype.Jf=o("p");
s("lanyard.geom.MatrixFour.prototype.get42",Q.prototype.Jf,void 0);Q.prototype.Eg=n("p");s("lanyard.geom.MatrixFour.prototype.set42",Q.prototype.Eg,void 0);Q.prototype.Kf=o("t");s("lanyard.geom.MatrixFour.prototype.get43",Q.prototype.Kf,void 0);Q.prototype.Fg=n("t");s("lanyard.geom.MatrixFour.prototype.set43",Q.prototype.Fg,void 0);function zc(a,b,c,d){this.c=this.b=b;this.ld=c;this.Se=d}zc.prototype.zc=o("b");zc.prototype.Ac=o("c");zc.prototype.Wa=o("Se");function Ac(a,b,c){this.la=a;this.Ia=b;this.ef=this.la.ca(this.Ia);this.Pa=c;this.md=this.Ia.K(this.la).normalize()}s("lanyard.geom.Cylinder",Ac,void 0);p=Ac.prototype;p.toString=function(){return this.Pa+", "+this.la.toString()+", "+this.Ia.toString()+", "+this.md.toString()};
p.Dc=function(a){var b=a.ha,c=a.pa,d=b.b*b.b+b.c*b.c;b=2*(c.b*b.b+c.c*b.c);c=Ac.prototype.ob(d,b,c.b*c.b+c.c*c.c-this.Pa*this.Pa);if(c<0)return l;var e=Math.sqrt(c);if(c===0)return[new K(M(a,(-b-e)/(2*d)),j)];else{c=M(a,(-b-e)/(2*d));a=M(a,(-b+e)/(2*d));var f=e=b=d=m;if(c.d>=0&&c.d<=this.Wa()){d=j;e=c.d===0}if(a.d>=0&&a.d<=this.Wa()){b=j;f=a.d===0}var g=l;if(d&&b)g=[new K(c,e),new K(a,f)];else if(d)g=[new K(c,e)];else if(b)g=[new K(a,f)];return g}};p.ob=function(a,b,c){return b*b-4*a*c};
function Bc(a,b,c,d){var e=b.H(a.la)<=-c,f;f=d<1?a.la.add(a.Ia.K(a.la).multiply(d)):a.Ia;var g=b.H(f)<=-c;if(e&&g)return-1;if(e===g)return d;return(c+b.H(a.la))/(new J(b.O.b,b.O.c,b.O.d,1)).H(a.la.K(f))}function Cc(a,b){var c=(new J(b.O.b,b.O.c,b.O.d,1)).H(a.md);c=1-c*c;return c<=0?0:a.Pa*Math.sqrt(c)}
p.Ec=function(a){var b,c=Cc(this,a.Da);b=Bc(this,a.Da,c,1);if(b<0)return m;b=Bc(this,a.fb,c,b);if(b<0)return m;c=Cc(this,a.La);b=Bc(this,a.La,c,b);if(b<0)return m;c=Cc(this,a.Ma);b=Bc(this,a.Ma,c,b);if(b<0)return m;c=Cc(this,a.Na);b=Bc(this,a.Na,c,b);if(b<0)return m;c=Cc(this,a.Ja);b=Bc(this,a.Ja,c,b);return b>=0};p.xc=function(){var a=this.la,b=this.Ia;return new J(0.5*(a.b+b.b),0.5*(a.c+b.c),0.5*(a.d+b.d),1)};p.Ga=function(){var a=0.5*this.la.ca(this.Ia);return Math.sqrt(a*a+this.Pa*this.Pa)};
p.Wa=o("ef");p.sa=function(){};function R(a,b,c,d){this.b=a;this.c=b;this.d=c;this.z=d;this.jd=1.0E-4}p=R.prototype;p.toString=function(){return"("+this.b+", "+this.c+", "+this.d+", "+this.z+")"};function Dc(a,b,c,d){a=Math.cos(b*0.5);var e=Math.cos(c*0.5),f=Math.cos(d*0.5);b=Math.sin(b*0.5);c=Math.sin(c*0.5);d=Math.sin(d*0.5);return new R(b*e*f-a*c*d,a*c*f+b*e*d,a*e*d-b*c*f,a*e*f+b*c*d)}p.add=function(a,b){return new R(a.b+b.b,a.c+b.c,a.d+b.d,a.z+b.z)};p.K=function(a,b){return new R(a.b-b.b,a.c-b.c,a.d-b.d,a.z-b.z)};
p.multiply=function(a,b){return new R(a.b*b.z+a.c*b.d-a.d*b.c,a.c*b.z+a.d*b.b-a.b*b.d,a.d*b.z+a.b*b.c-a.c*b.b,-a.b*b.b-a.c*b.c-a.d*b.d)};p.abs=function(a){return Math.sqrt(a.b*a.b+a.c*a.c+a.d*a.d+a.z*a.z)};p.H=function(a,b){return a.b*b.b+a.c*b.c+a.d*b.d+a.z*b.z};p.normalize=function(){var a=this.length();return new R(this.b/a,this.c/a,this.d/a,this.z/a)};p.length=function(){return Math.sqrt(this.b*this.b+this.c*this.c+this.d*this.d+this.z*this.z)};
p.exp=function(a){var b,c=Math.sqrt(a.b*a.b+a.c*a.c+a.d*a.d);b=Math.abs(c)<this.jd?1:Math.sin(c)/c;return new R(a.b*b,a.c*b,a.d*b,Math.cos(c))};function S(a,b){this.a=E("lanyard.geom.LatLon");a||C(this.a,"Attempted to create a LatLon with invalid latitude.");b||C(this.a,"Attempted to create a LatLon with invalid longitude.");this.B=a;this.C=b}s("lanyard.geom.LatLon",S,void 0);S.prototype.M=function(a,b){return new S(I.prototype.M(a),I.prototype.M(b))};S.prototype.j=function(a,b){return new S(I.prototype.j(a),I.prototype.j(b))};
S.prototype.Dd=function(a,b,c){if(a<0)return b;else if(a>1)return c;var d;b=Dc(R.prototype,b.C.G,b.B.G,0);var e=Dc(R.prototype,c.C.G,c.B.G,0),f=b.b*e.b+b.c*e.c+b.d*e.d+b.z*e.z,g;if(f<0){f=-f;c=-e.b;d=-e.c;g=-e.d;e=-e.z}else{c=e.b;d=e.c;g=e.d;e=e.z}if(1-f>R.prototype.jd){var h=Math.acos(f),k=Math.sin(h);f=Math.sin((1-a)*h)/k;a=Math.sin(a*h)/k}else{f=1-a;a=a}d=new R(f*b.b+a*c,f*b.c+a*d,f*b.d+a*g,f*b.z+a*e);a=d.z;b=d.b;c=d.c;d=d.d;a=new J(Math.atan2(2*(c*d+a*b),a*a-b*b-c*c+d*d),Math.asin(-2*(b*d-a*c)),
Math.atan2(2*(b*c+a*d),a*a+b*b-c*c-d*d),1);if(isNaN(a.b)||isNaN(a.c))return l;return S.prototype.M(a.c,a.b)};S.prototype.toString=function(){return"("+this.B.toString()+", "+this.C.toString()+")"};function Ec(a,b){this.fd=a;this.Jb=b}s("lanyard.geom.Sphere",Ec,void 0);Ec.prototype.He=new Ec(J.prototype.ZERO,1);s("lanyard.geom.Sphere.prototype.UNIT_SPHERE",Ec.prototype.He,void 0);p=Ec.prototype;p.Ga=o("Jb");p.xc=o("fd");p.ob=function(a,b,c){return b*b-4*a*c};p.Dc=function(a){var b=a.ha.na(),c=2*a.na(),d=Ec.prototype.ob(b,c,a.pa.na()-this.Jb*this.Jb);if(d<0)return l;var e=Math.sqrt(d);return d===0?[new K(M(a,(-c-e)/(2*b)),j)]:[new K(M(a,(-c-e)/(2*b)),m),new K(M(a,(-c+e)/(2*b)),m)]};p.Ec=function(a){return a.yb(this)};
p.sa=function(){};p.toString=function(){return"Sphere: center = "+this.fd.toString()+" radius = "+this.Jb};function T(a,b,c,d){this.D=a;this.I=b;this.F=c;this.J=d;this.fc=I.prototype.j(this.I.e-this.D.e);this.gd=I.prototype.j(this.J.e-this.F.e)}s("lanyard.geom.Sector",T,void 0);p=T.prototype;p.Fe=new T(I.prototype.bc,I.prototype.dc,I.prototype.ac,I.prototype.cc);p.j=function(a,b,c,d){return new T(I.prototype.j(a),I.prototype.j(b),I.prototype.j(c),I.prototype.j(d))};p.M=function(a,b,c,d){return new T(I.prototype.M(a),I.prototype.M(b),I.prototype.M(c),I.prototype.M(d))};
function Fc(a){var b=I.prototype.j(0.5*(a.I.e+a.D.e));a=I.prototype.j(0.5*(a.J.e+a.F.e));return new S(b,a)}function Gc(a,b,c,d){a=Fc(d);var e=(b.va?b.va.nh():0)*c;c=P(b,a.B,a.C,e);var f=P(b,d.D,d.F,0);a=c.normalize();f=a.H(f);a=a.scale(f,f,f);f=P(b,d.I,d.F,e);var g=P(b,d.D,d.J,e),h=P(b,d.D,d.F,e);e=P(b,d.I,d.J,e);b=h.ca(g);d=g.ca(e);e=e.ca(f);f=f.ca(h);h=0.5*(b+d+e+f);return new Ac(a,c,Math.sqrt((b*d+e*f)*(b*f+d*e)*(b*e+d*f))/(4*Math.sqrt((h-b)*(h-d)*(h-e)*(h-f))))}
p.contains=function(a,b){return a.e>=this.D.e&&a.e<=this.I.e&&b.e>=this.F.e&&b.e<=this.J.e};p.yb=function(a){if(!a)return m;if(a.J.e<this.F.e)return m;if(a.F.e>this.J.e)return m;if(a.I.e<this.D.e)return m;if(a.D.e>this.I.e)return m;return j};p.toString=function(){return"A Sector with angles: ("+this.D.toString()+", "+this.F.toString()+"), ("+this.I.toString()+", "+this.J.toString()+")"};
p.da=function(a){if(this.D.da(a.D)<0)return-1;if(this.D.da(a.D)>0)return 1;if(this.F.da(a.F)<0)return-1;if(this.F.da(a.F)>0)return 1;if(this.I.da(a.I)<0)return-1;if(this.I.da(a.I)>0)return 1;if(this.J.da(a.J)<0)return-1;if(this.J.da(a.J)>0)return 1;return 0};function Hc(a,b,c,d,e,f){this.ba=a;this.$=b;this.Og=c;this.Nc=d;this.Bd=Ic(f,this.ba);this.og=e}s("lanyard.globes.RenderInfo",Hc,void 0);function V(a,b,c,d){this.a=E("lanyard.globes.RectTile");this.Qb=this.Xb=this.Vb=l;this.hh=this.ih=0;this.gb=a;this.jb=b;this.ua=c;this.aa=d;this.Oe=Gc(T.prototype,a,1,this.aa);a=d.fc.G*a.Ga()/c;this.Ve=Math.log(a)/Math.LN10;this.L=l;this.kb={};this.hb={}}p=V.prototype;p.fa=o("aa");p.wa=o("Oe");
p.split=function(a,b){var c=this.aa,d=I.prototype.lc(c.D,c.I,l),e=I.prototype.lc(c.F,c.J,l),f=[];f[0]=new T(c.D,d,c.F,e);f[1]=new T(c.D,d,e,c.J);f[2]=new T(d,c.I,c.F,e);f[3]=new T(d,c.I,e,c.J);c=[];c[0]=new V(this.gb,b.jb+1,this.ua,f[0]);c[1]=new V(this.gb,b.jb+1,this.ua,f[1]);c[2]=new V(this.gb,b.jb+1,this.ua,f[2]);c[3]=new V(this.gb,b.jb+1,this.ua,f[3]);return c};
p.sa=function(a){var b=Ic(this,this.L.ba),c=a.f;Jc(a.Q(),a,this.L.Nc);if(this.Vb)c.bindBuffer(c.ARRAY_BUFFER,this.Vb);else{this.Vb=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.Vb);c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.L.$),c.STATIC_DRAW)}c.enableVertexAttribArray(a.T.getAttribLocation("aVertexPosition"));c.vertexAttribPointer(a.T.getAttribLocation("aVertexPosition"),3,c.FLOAT,m,0,0);if(this.Xb)c.bindBuffer(c.ARRAY_BUFFER,this.Xb);else{this.Xb=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,
this.Xb);c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.L.Og),c.STATIC_DRAW)}c.enableVertexAttribArray(a.T.getAttribLocation("aTextureCoord0"));c.vertexAttribPointer(a.T.getAttribLocation("aTextureCoord0"),2,c.FLOAT,m,0,0);if(this.Qb)c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Qb);else{this.Qb=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Qb);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),c.STATIC_DRAW)}c.drawElements(c.TRIANGLE_STRIP,this.L.Bd.length,c.UNSIGNED_SHORT,0);Kc(a.Q(),
a);return this.L.Bd.length-2};p.yc=function(a,b,c){if(!this.aa.contains(a,b))return l;if(!this.L)return l;var d=this.aa.D.e,e=this.aa.F.e;b=(b.e-e)/(this.aa.J.e-e);a=(a.e-d)/(this.aa.I.e-d);d=a*this.ua;e=b*this.ua;var f=this.L.ba,g=e/f,h=this.L.ba,k=d/h;b=V.prototype.Dd(d,e,(b-g)/((e+1)/f-g),(a-k)/((d+1)/h-k),this.L);b=b.add(this.L.Nc);if(c!==0){b=b;a=this.gb;d=b;d=d.K(a.mc);a=(new J(d.b/(a.P*a.P),d.c/(a.Cb*a.Cb),d.d/(a.P*a.P),1)).normalize();b=b=J.prototype.Nb(c,a,b)}return b};
p.Dd=function(a,b,c,d,e){a++;b++;var f=e.ba+3,g=a*f+b;g*=3;a=new J(e.$[g],e.$[g+1],e.$[g+2],1);b=new J(e.$[g+3],e.$[g+4],e.$[g+5],1);g+=f*3;f=new J(this.L.$[g+3],this.L.$[g+4],this.L.$[g+5],1);e=new J(e.$[g],e.$[g+1],e.$[g+2],1);g=c+d;if(g===1)d=new J(e.b*d+b.b*c,e.c*d+b.c*c,e.d*d+b.d*c,1);else if(g>1){c=e.K(f).multiply(1-c);d=b.K(f).multiply(1-d);d=f.add(c).add(d)}else{c=b.K(a).multiply(c);d=e.K(a).multiply(d);d=a.add(c).add(d)}return d};
p.toString=function(){return"level "+this.jb+", density "+this.ua+", sector "+this.aa};
function Lc(a,b){if(b<1)b=1;if(a&&a.kb&&a.kb.ba)return a.kb.ba;var c=[],d=1/b,e=2*(b+3),f;for(f=0;f<b;f+=1){var g=f*d;c[e++]=0;c[e++]=g;var h;for(h=0;h<b;h+=1){c[e++]=h*d;c[e++]=g}c[e++]=0.999999;c[e++]=g;c[e++]=0.999999;c[e++]=g}c[e++]=0;c[e++]=0.999999;for(f=0;f<b;f+=1){c[e++]=f*d;c[e++]=0.999999}c[e++]=0.999999;c[e++]=0.999999;c[e++]=0.999999;c[e++]=0.999999;d=e-2*(b+3);for(f=0;f<b+3;f+=1){c[e++]=c[d++];c[e++]=c[d++]}e=0;d=2*(b+3);for(f=0;f<b+3;f+=1){c[e++]=c[d++];c[e++]=c[d++]}if(a.kb)a.kb.ba=
c;return c}function Ic(a,b){if(b<1)b=1;if(a.hb&&a.hb.ba)return a.hb.ba;var c=b+2,d=[],e=0,f;for(f=0;f<c;f+=1){d.push(e);if(f>0){d.push(++e);d.push(e)}if(f%2===0){d.push(++e);var g;for(g=0;g<c;g+=1){e+=c;d.push(e);d.push(++e)}}else{d.push(--e);for(g=0;g<c;g++){e-=c;d.push(e);d.push(--e)}}}if(a.hb)a.hb.ba=d;return d};function Mc(a){this.a=E("lanyard.globes.EllipsoidRectangularTessellator");for(var b=[],c=I.prototype.bc,d=0;d<5;d+=1){var e=c.kc(36);if(e.e+1>90)e=I.prototype.dc;for(var f=I.prototype.ac,g=0;g<10;g+=1){var h=f.kc(36);if(h.e+1>180)h=I.prototype.cc;f=new V(a,0,Mc.prototype.ve,new T(c,e,f,h));b.push(f);f=h}c=e}this.me=b;this.bg=12;this.nb=new wc;this.qd=l;this.Lb=0;this.ta=l;this.ba=24}p=Mc.prototype;p.ve=24;p.we=1.3;p.fa=o("ta");
p.Wc=function(a){a||C(this.a,"Attempted to tessellate without a valid draw context.");this.nb.clear();this.Lb=0;this.ta=l;var b=a.Q();b.V||C(b.a,"Attempted to compute a model-view coordinate frustum without a valid state matrix.");if(!b.Ob&&b.V){var c=b.Va();if(c){var d=b.V,e=new Q(l);e.q=d.q;e.r=d.g;e.s=d.k;e.w=d.o;e.g=d.r;e.h=d.h;e.i=d.l;e.n=d.p;e.k=d.s;e.l=d.i;e.m=d.m;e.u=d.t;e.o=d.w;e.p=d.n;e.t=d.u;e.v=d.v;e.Rc(d.ia);d=pc(N.prototype,e.transform(c.Da.O));var f=pc(N.prototype,e.transform(c.fb.O)),
g=pc(N.prototype,e.transform(c.La.O)),h=pc(N.prototype,e.transform(c.Ma.O)),k=pc(N.prototype,e.transform(c.Ja.O));c=pc(N.prototype,e.transform(c.Na.O));b.Ob=new mc(d,f,g,h,k,c)}else C(b.a,"Frustum for conversion to model coordinates was invalid.")}this.qd=b.Ob;for(b=0;b<this.me.length;b+=1)Nc(this,a,this.me[b]);a.$c=this.fa();for(b=0;b<this.nb.length();b+=1){d=this.nb.X[b];if(!(d.L&&d.L.og>=0)){e=c=d;d=d.ua;f=[];var q=a.S(),u=e.aa.D.G;g=e.aa.I.G;h=(g-u)/d;k=e.aa.F.G;var v=e.aa.J.G,w=(v-k)/d;u=u;var z=
(q.va?q.va.oh():0)*a.xa(),ra=q.P,U=q.Sa,L=Fc(e.aa);q=sc(q,new O(L.B,L.C,0));L=void 0;for(L=0;L<=d+2;L+=1){var Ka=Math.cos(u),sa=Math.sin(u),Tb=ra/Math.sqrt(1-U*sa*sa),mb=k,ia;for(ia=0;ia<=d+2;ia+=1){var nb=0;if(L===0||L>=d+2||ia===0||ia>=d+2)nb-=z>=0?z:-z;f=f.concat([(Tb+nb)*Ka*Math.sin(mb)-q.b,(Tb*(1-U)+nb)*sa-q.c,(Tb+nb)*Ka*Math.cos(mb)-q.d]);if(ia>d)mb=v;else if(ia!==0)mb+=w}if(L>d)u=g;else if(L!==0)u+=h}e=new Hc(d,f,Lc(e,d),q,0,e);c.L=e}}return this.nb};
function Nc(a,b,c){if(c.wa().Ec(a.qd)){var d;if(d=a.Lb<a.bg){if(!c||!c.fa())a.a.error("Attempted to perform a split check on an invalid tile.");var e=c.fa(),f=b.S();d=[];var g=e.D,h=e.I,k=e.F;e=e.J;d[0]=P(f,g,k,f.Y(g,k));d[1]=P(f,g,e,f.Y(g,e));d[2]=P(f,h,e,f.Y(h,e));d[3]=P(f,h,k,f.Y(h,k));h=c.fa();f=b.S();g=0.5*(h.F.e+h.J.e);h=I.prototype.j(0.5*(h.D.e+h.I.e));g=I.prototype.j(g);k=P(f,h,g,f.Y(h,g));e=b.Q();h=Oc(e).ca(d[0]);f=Oc(e).ca(d[1]);g=Oc(e).ca(d[2]);d=Oc(e).ca(d[3]);k=Oc(e).ca(k);h=h;if(f<h)h=
f;if(g<h)h=g;if(d<h)h=d;if(k<h)h=k;d=!(c.Ve<=Math.log(h)/Math.log(10)-Mc.prototype.we)}if(d){++a.Lb;c=c.split(b,c);for(d=1;d<c.length;d+=1)Nc(a,b,c[d]);--a.Lb}else{b=c.fa();if(d=a.ta){f=b.D;g=b.I;h=b.F;k=b.J;if(d.D.e<b.D.e)f=d.D;if(d.I.e>b.I.e)g=d.I;if(d.F.e<b.F.e)h=d.F;if(d.J.e>b.J.e)k=d.J;b=new T(f,g,h,k)}else b=b;a.ta=b;a.nb.add(c)}}}p.toString=function(){var a=Lc(V.prototype,5),b=Ic(V.prototype,5),c="",d;for(d=0;d<b.length;d+=1){var e=b[d];c+=e+": "+a[2*e]+", "+a[2*e+1]}return c};function Pc(){this.ja=new vc;this.Xc=l;this.Gc=[];this.ee=this.fe=this.Uc=m;this.Gc=[]}Pc.prototype.S=o("ja");Pc.prototype.vb=o("Gc");function uc(a){if(!a.Xc&&a.ja)a.Xc=new Mc(a.ja);return a.Xc}Pc.prototype.wa=function(){var a=this.vb();if(a){var b;for(b=0;b<a.length;b+=1){var c=a[b];if(typeof c.wa==="function")if(c=c.wa())return c}}if(a=this.S())if(a=a.wa())return a;return l};function Qc(a,b){this.Qe=a;this.We=b}s("lanyard.geom.ViewFrustum",Qc,void 0);Qc.prototype.rf=function(a,b,c,d,e){var f=e-d;a=1/a.Vc();b=c/b;c=Math.sqrt(a*a+1);var g=Math.sqrt(a*a+b*b);return new Qc(new mc(new N(0,0,-1,0-d),new N(0,0,1,e),new N(a/c,0,0-1/c,0),new N(0-a/c,0,0-1/c,0),new N(0,a/g,0-b/g,0),new N(0,0-a/g,0-b/g,0)),new Q([a,0,0,0,0,a/b,0,0,0,0,0-(e+d)/f,-1,0,0,0-2*e*d/f,0]))};Qc.prototype.Va=o("Qe");Qc.prototype.zd=o("We");function Rc(){}
Rc.prototype.Yb=function(a,b,c,d,e,f,g){a=[a,b,c,1];b=[];for(c=0;c<4;c+=1)for(var h=0;h<4;h+=1)b[c*4+h]=d[c*4+0]*e[0+h]+d[c*4+1]*e[4+h]+d[c*4+2]*e[8+h]+d[c*4+3]*e[12+h];d=[];d[0]=b[5]*b[10]*b[15]-b[5]*b[11]*b[14]-b[9]*b[6]*b[15]+b[9]*b[7]*b[14]+b[13]*b[6]*b[11]-b[13]*b[7]*b[10];d[4]=-b[4]*b[10]*b[15]+b[4]*b[11]*b[14]+b[8]*b[6]*b[15]-b[8]*b[7]*b[14]-b[12]*b[6]*b[11]+b[12]*b[7]*b[10];d[8]=b[4]*b[9]*b[15]-b[4]*b[11]*b[13]-b[8]*b[5]*b[15]+b[8]*b[7]*b[13]+b[12]*b[5]*b[11]-b[12]*b[7]*b[9];d[12]=-b[4]*b[9]*
b[14]+b[4]*b[10]*b[13]+b[8]*b[5]*b[14]-b[8]*b[6]*b[13]-b[12]*b[5]*b[10]+b[12]*b[6]*b[9];d[1]=-b[1]*b[10]*b[15]+b[1]*b[11]*b[14]+b[9]*b[2]*b[15]-b[9]*b[3]*b[14]-b[13]*b[2]*b[11]+b[13]*b[3]*b[10];d[5]=b[0]*b[10]*b[15]-b[0]*b[11]*b[14]-b[8]*b[2]*b[15]+b[8]*b[3]*b[14]+b[12]*b[2]*b[11]-b[12]*b[3]*b[10];d[9]=-b[0]*b[9]*b[15]+b[0]*b[11]*b[13]+b[8]*b[1]*b[15]-b[8]*b[3]*b[13]-b[12]*b[1]*b[11]+b[12]*b[3]*b[9];d[13]=b[0]*b[9]*b[14]-b[0]*b[10]*b[13]-b[8]*b[1]*b[14]+b[8]*b[2]*b[13]+b[12]*b[1]*b[10]-b[12]*b[2]*
b[9];d[2]=b[1]*b[6]*b[15]-b[1]*b[7]*b[14]-b[5]*b[2]*b[15]+b[5]*b[3]*b[14]+b[13]*b[2]*b[7]-b[13]*b[3]*b[6];d[6]=-b[0]*b[6]*b[15]+b[0]*b[7]*b[14]+b[4]*b[2]*b[15]-b[4]*b[3]*b[14]-b[12]*b[2]*b[7]+b[12]*b[3]*b[6];d[10]=b[0]*b[5]*b[15]-b[0]*b[7]*b[13]-b[4]*b[1]*b[15]+b[4]*b[3]*b[13]+b[12]*b[1]*b[7]-b[12]*b[3]*b[5];d[14]=-b[0]*b[5]*b[14]+b[0]*b[6]*b[13]+b[4]*b[1]*b[14]-b[4]*b[2]*b[13]-b[12]*b[1]*b[6]+b[12]*b[2]*b[5];d[3]=-b[1]*b[6]*b[11]+b[1]*b[7]*b[10]+b[5]*b[2]*b[11]-b[5]*b[3]*b[10]-b[9]*b[2]*b[7]+b[9]*
b[3]*b[6];d[7]=b[0]*b[6]*b[11]-b[0]*b[7]*b[10]-b[4]*b[2]*b[11]+b[4]*b[3]*b[10]+b[8]*b[2]*b[7]-b[8]*b[3]*b[6];d[11]=-b[0]*b[5]*b[11]+b[0]*b[7]*b[9]+b[4]*b[1]*b[11]-b[4]*b[3]*b[9]-b[8]*b[1]*b[7]+b[8]*b[3]*b[5];d[15]=b[0]*b[5]*b[10]-b[0]*b[6]*b[9]-b[4]*b[1]*b[10]+b[4]*b[2]*b[9]+b[8]*b[1]*b[6]-b[8]*b[2]*b[5];e=b[0]*d[0]+b[1]*d[4]+b[2]*d[8]+b[3]*d[12];if(e===0)d=m;else{e=1/e;for(c=0;c<16;c+=1)b[c]=d[c]*e;d=j}if(!d)return m;a[0]=(a[0]-f[0])/f[2];a[1]=(a[1]-f[1])/f[3];a[0]=a[0]*2-1;a[1]=a[1]*2-1;a[2]=a[2]*
2-1;f=[];for(d=0;d<4;d+=1)f[d]=a[0]*b[0+d]+a[1]*b[4+d]+a[2]*b[8+d]+a[3]*b[12+d];if(f[3]===0)return m;f[0]/=f[3];f[1]/=f[3];f[2]/=f[3];g[0]=f[0];g[1]=f[1];g[2]=f[2];return j};function Sc(){this.ra=[]}Sc.prototype.Td=function(){if(!this.ra||this.ra.length<1)return l;return this.ra[this.ra.length-1]};Sc.prototype.pop=function(){return this.ra?this.ra.pop():l};Sc.prototype.push=function(a){if(this.ra)this.ra.push(a);else this.ra=[a]};function Tc(){this.a=E("lanyard.BasicOrbitView");this.$g=0;this.ah=180*(new Date).getTimezoneOffset()/432E5;this.Ee=6E6;this.De=0;this.Be=+Infinity;this.ye=j;this.Ce=this.bh=this.Zg=0;this.Ae=90;this.xe=j;this.ze=45;this.viewport=this.Wb=this.V=l;this.xd=I.prototype.j(this.ze);this.ja=l;this.$b=-1;this.Ob=this.forward=this.Rg=this.Mb=l;this.Uf=this.kg=-1;this.rh=[];this.Eh=[];this.sb=I.prototype.j(0);this.tb=I.prototype.j(180*(new Date).getTimezoneOffset()/432E5);this.Ta=this.Ee;this.ma=I.prototype.j(0);
this.pitch=I.prototype.j(0);this.altitude=0;this.Ic=this.De;this.Hc=this.Be;this.mh=this.ye;this.gg=I.prototype.j(this.Ce);this.cg=I.prototype.j(this.Ae);this.lh=this.xe;this.cb=l;this.lb=0;this.Gd=m;this.Nd=new Sc}
function Uc(a,b,c,d,e,f,g){a=new Q(l);a.translate(0,0,-e);xc(a,g.multiply(-1));e=f.cos();f=f.sin();g=a.q*-f+a.r*e;var h=a.g*e+a.h*f,k=a.g*-f+a.h*e,q=a.k*e+a.l*f,u=a.k*-f+a.l*e,v=a.o*e+a.p*f,w=a.o*-f+a.p*e;a.q=a.q*e+a.r*f;a.r=g;a.g=h;a.h=k;a.k=q;a.l=u;a.o=v;a.p=w;a.translate(0,0,-d);xc(a,b);c=c.multiply(-1);b=c.cos();c=c.sin();d=a.q*c+a.s*b;e=a.g*b+a.i*-c;f=a.g*c+a.i*b;g=a.k*b+a.m*-c;h=a.k*c+a.m*b;k=a.o*b+a.t*-c;q=a.o*c+a.t*b;a.q=a.q*b+a.s*-c;a.s=d;a.g=e;a.i=f;a.k=g;a.m=h;a.o=k;a.t=q;return a}p=Tc.prototype;
p.Va=function(){if(!this.cb){C(this.a,"Attempted to get a null frustum from the view.");return l}return this.cb.Va()};p.Pb=function(){return new O(this.sb,this.tb,0)};function Vc(a,b){var c=[a.gg,a.cg];if(b.da(c[0])<0)a.pitch=c[0];else if(b.da(c[1])>0)a.pitch=c[1];a.pitch=b;return a.pitch}function Wc(a,b){var c=b,d=[Math.max(a.Ic,a.lb),a.Hc];if(c<d[0])c=d[0];else if(c>d[1])c=d[1];return c}
p.Yb=function(a){a||C(this.a,"Attempted to unproject an invalid window point.");if(!this.V||!this.Wb||!this.viewport)return l;var b=this.Wb.Ua(),c=this.V.Ua(),d=[3];return Rc.prototype.Yb(a.b,a.c,a.d,c,b,[this.viewport.b,this.viewport.c,this.viewport.ld,this.viewport.Wa()],d)?new J(d[0],d[1],d[2],0):l};
function Xc(a,b,c){if(a.viewport){var d=a.viewport.Wa()-c-1;c=a.Yb(new J(b,d,0,0));b=a.Yb(new J(b,d,1,0));b=!c||!b?l:new oc(c,b.K(c).normalize())}else b=l;if(!b)return l;if(!a.ja)return l;a=a.ja;b=a.Dc(b);if(b===l)a=l;else{D(a.a,"Intersection point: "+b[0].hc.toString());a=tc(a,b[0].hc)}return a}function Kc(a,b){a.V=a.Nd.pop();Yc(b,"uMVMatrix",a.V);return a.V}function Oc(a){if(!a.Mb&&a.V){var b=yc(a.V);if(b)a.Mb=b.transform(new J(0,0,0,1))}return a.Mb}p.zd=o("Wb");
p.apply=function(a){this.ja=a.S();this.$b=a.xa();this.Ob=this.forward=this.Rg=this.Mb=l;this.Uf=this.kg=-1;if(!this.Gd){var b=a.S();this.Ic=this.lb=1;this.Hc=b?6*b.Ga():+Infinity;if(b)this.Ta=Wc(this,3*b.Ga());this.Gd=j}if(b=a.S()){var c=sc(b,new O(this.sb,this.tb,0)),d=Uc(this,this.sb,this.tb,c.length(),this.Ta,this.ma,this.pitch),e=yc(d).transform(new J(0,0,0,1)),f=tc(b,e),g;g=f.B;f=f.C;var h=l,k=a.Ca;if(k)h=k.yc(g,f,0);if(!h)if(k=a.S())h=sc(k,new O(g,f,a.xa()*k.Y(g,f)));g=h;if(g){g=e.length()-
this.lb-g.length();if(g<0){D(this.a,"Distance to surface was less than 0.");f=e.normalize();g=J.prototype.Nb(e.length()-g,f,J.prototype.ZERO);e=e.K(c);g=g.K(c);e=e.H(g)/(e.length()*g.length());if(e>=-1&&e<=1){this.pitch=Vc(this,this.pitch.K(I.prototype.M(Math.acos(e))));this.Ta=Wc(this,g.length());d=Uc(Tc.prototype,this.sb,this.tb,c.length(),this.Ta,this.ma,this.pitch)}}}e=yc(d).transform(new J(0,0,0,1));f=tc(b,e);this.altitude=e.length()-P(b,f.B,f.C,0).length();b=d}else{C(this.a,"The globe was null when computing the model-view matrix.");
b=l}g=yc(b).transform(new J(0,0,0,1));if(c=this.viewport)if(d=this.xd){e=a.S();f=a.xa();if(!e||!g)e=-1;else{h=tc(e,g);f=sc(e,new O(h.B,h.C,f*e.Y(h.B,h.C)));g=g.length()-f.length();e=Math.sqrt(g*(2*e.P+g))}c=new Qc.prototype.rf(d,c.ld,c.Wa(),0.1,e*2)}else{C(this.a,"We don't know anything about the field of view.");c=l}else{C(this.a,"We don't know anything about the viewport.");c=l}(this.cb=c)||C(this.a,"We don't have a view frustum to generate the projection matrix.");d=this.cb;c=this.viewport;e=this.xd;
if(!c||!e||!d||!d.Va()||!nc(d.Va()))c=1;else{d=Math.abs(qc(nc(d.Va())));if(d===0)d=1;e=d*e.Vc();c=c.height*e/c.width;c=1+Math.sqrt(e*e+c*c+d*d)}this.lb=c;b=b;c=this.cb.zd();Yc(a,"uMVMatrix",b);Yc(a,"uPMatrix",c);this.V=b;this.Wb=c};function Jc(a,b,c){a.V||C(a.a,"Attempted to push the reference center without a valid model-view.");a.Nd.push(new Q(a.V.Ua()));a.V=a.V.re(c);Yc(b,"uMVMatrix",a.V)};function Zc(a){this.a=E("lanyard.render.GLSL");a||C(this.a,"Attempted to create a program object without a valid GL context.");this.f=a;this.wc=this.ad="";this.Ba=a.createProgram()}Zc.prototype.getAttribLocation=function(a){return this.f.getAttribLocation(this.Ba,a)};Zc.prototype.getUniformLocation=function(a){var b=this.f.getUniformLocation(this.Ba,a);b||C(this.a,"The specified uniform was not found in the shader ("+a+").");return b};
function $c(a,b,c){if(c)a.f.getProgramParameter(b,a.f.LINK_STATUS)||C(a.a,"Linking of a program failed. "+a.f.getProgramInfoLog(b));else a.f.getShaderParameter(b,a.f.COMPILE_STATUS)||C(a.a,"Compilation of a shader failed. "+a.f.getShaderInfoLog(b))};function ad(a){this.a=E("lanyard.util.Texture");a||C(this.a,"Creation of a texture was attempted without a valid draw context.");this.ff=a;(this.f=a.f)||C(this.a,"Creation of a texture was attempted without a valid gl context.");this.je=this.f.createTexture()}ad.prototype.Oa=function(){this.f.bindTexture(this.f.TEXTURE_2D,this.je)};
function bd(a,b){var c=b.getContext("2d"),d=new Image;d.onload=function(){c.drawImage(d,0,0);var e=a.f;e.bindTexture(e.TEXTURE_2D,this.je);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,j);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,d);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.bindTexture(e.TEXTURE_2D,l);a.f.generateMipmap(a.f.TEXTURE_2D);D(a.a,"Render event is being fired off.");a.ff.A.display()}}
function cd(a,b,c){a.f.texParameteri(a.f.TEXTURE_2D,b,c)};function dd(a){this.uh=this.qa=l;this.wh=j;this.f=a;this.transform={bd:0,dd:0,cd:0,ed:0};this.ae=this.be=this.Sc=this.Tc=0;this.a=E("lanyard.render.SurfaceTileRenderer")}dd.prototype.ue=2;function ed(a,b,c,d,e){this.Xe=a;this.Re=b;this.Me=c;this.Le=d;this.eh=e;this.a=E("lanyard.util.Color")}ed.prototype.se=new ed(0,0,0,1,"000000FF");ed.prototype.te=new ed(0,0,0,0,"00000000");function fd(a){this.dh=a;this.gc=[]}fd.prototype.Td=function(){return this.gc[0]};fd.prototype.clear=function(){this.gc=[]};function gd(a){this.a=E("lanyard.BasicDrawContext");this.ja=this.Ab=this.view=l;(this.A=a)||C(this.a,"Attempted to create a draw context without a valid lanyard canvas.");this.$b=1;this.Ca=this.$c=l;this.Qg=0;this.clearColor=ed.prototype.se;this.gh=m;this.Sd=-1;this.Kc=new fd(function(b,c){var d=b.Nf(),e=c.Nf();return d>e?-1:d===e?0:1});(this.f=a.Ka.getContext("experimental-webgl"))||C(this.a,"The canvas specified does not seem to support WebGL.");this.Ng=new dd(this.f);this.T=l;this.Hb="shader-vs";
this.ub="shader-fs"}
function hd(a){if(!a.T&&a.Hb&&a.ub){a.T=new Zc(a.f);var b=a.T,c=t(a.Hb)?document.getElementById(a.Hb):a.Hb;if(c){b.ad=c.innerHTML;if(c.type!=="x-shader/x-vertex")C(b.a,"Attempted to update a vertex shader with an incorrect mime type.");else{c=b.f.createShader(b.f.VERTEX_SHADER);b.ad||C(b.a,"The location of a vertex shader was not specified.");b.f.shaderSource(c,b.ad);b.f.compileShader(c);$c(b,c,m);b.f.attachShader(b.Ba,c)}}b=a.T;if(c=t(a.ub)?document.getElementById(a.ub):a.ub){b.wc=c.innerHTML;if(c.type!==
"x-shader/x-fragment")C(b.a,"Attempted to update a fragment shader with an incorrect mime type.");else{c=b.f.createShader(b.f.FRAGMENT_SHADER);b.wc||C(b.a,"The location of a fragment shader was not specified.");b.f.shaderSource(c,b.wc);b.f.compileShader(c);$c(b,c,m);b.f.attachShader(b.Ba,c)}}b=a.T;b.f.linkProgram(b.Ba);b.f.validateProgram(b.Ba);$c(b,b.Ba,j);a=a.T;a.f.useProgram(a.Ba)}}p=gd.prototype;p.Eb=function(a){if(a){this.Ab=a;if(a=this.Ab.S())this.ja=a}};p.Z=o("Ab");p.vb=function(){return this.Ab.vb()};
p.S=function(){return this.ja!==l?this.ja:this.Ab.S()};p.Fb=n("view");p.Q=o("view");p.xa=o("$b");p.Yd=n("$b");function Yc(a,b,c){a.f.uniformMatrix4fv(a.T.getUniformLocation(b),m,new Float32Array(c.Ua()))};function id(a,b){this.b=a;this.c=b}id.prototype.zc=o("b");id.prototype.Ac=o("c");id.prototype.translate=function(a,b){this.b+=a;this.c+=b};id.prototype.toString=function(){return"A string with coordinates of: x = "+this.b+", y = "+this.c+"."};function jd(){this.a=E("lanyard.BasicFrameController")};function kd(a){this.a=E("lanyard.BasicSceneController");a||C(this.a,"Attempted to create a scene controller without a valid lanyard canvas.");this.Kb=this.ic=l;this.Pe=new jd;this.jc=1;this.oa=new gd(a)}p=kd.prototype;p.Z=o("ic");p.Q=o("Kb");p.Eb=n("ic");p.Fb=n("Kb");p.Yd=n("jc");p.xa=o("jc");function ld(a){this.W=l;this.Ka=a;this.fh=l;this.a=E("lanyard.LanyardCanvas")}p=ld.prototype;p.Eb=function(a){if(!this.W)this.W=new kd(this);this.W?this.W.Eb(a):C(this.a,"Attempted to set a model without a valid scene controller.")};p.Z=function(){return this.W?this.W.Z():l};
p.Fb=function(a){this.Ka||C(this.a,"Attempted to set the view without a valid canvas element.");a||C(this.a,"Attempted to set an invalid view.");if(!this.W)this.W=new kd(this);var b=this.Ka;a.viewport=new zc(0,0,b.width,b.height);this.W?this.W.Fb(a):C(this.a,"Tried to set a view without a scene controller existing.")};p.Q=function(){if(!this.W)this.W=new kd(this);this.W||C(this.a,"Attempted to get the view from an invalid scene controller.");return this.W.Q()};
p.display=function(){var a=this.W;a||D(this.a,"The scene controller was null when a repaint was attempted.");var b=a.oa;b.A||C(b.a,"Attempt to initialize a draw context without a valid lanyard canvas.");b.f.viewport(0,0,b.A.Ka.width,b.A.Ka.height);b.$c=l;b.Ca&&b.Ca.clear();b.Ca=l;b.Kc.clear();b.Qg=0;if(b.Sd<1)b.Sd=b.f.getParameter(b.f.MAX_TEXTURE_IMAGE_UNITS);a.oa.Eb(a.ic);a.oa.Fb(a.Kb);a.oa.Yd(a.jc);hd(a.oa);a.oa.A||D(a.a,"The scene controller has a null lanyard canvas.");var c=a.Pe;c||D(a.a,"The frame controller did not exist when the scene controller tried to use it.");
b=a.oa;b.Hb="shader-vs";b.ub="shader-fs";b.T=l;hd(b);b.f.clearDepth(1);b.f.enable(b.f.DEPTH_TEST);b.f.enable(b.f.CULL_FACE);b.f.depthFunc(b.f.LEQUAL);Yc(b,"uMVMatrix",new Q(l));Yc(b,"uPMatrix",new Q(l));a.Kb.apply(a.oa);b=a.oa;var d=ed.prototype.te,e=b.f;e.clearColor(d.Xe,d.Re,d.Me,d.Le);e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);if(b.Q())if(b.Z())if(b.vb()){b.Q().apply(b);if(uc(b.Z())){d=uc(b.Z()).Wc(b);b.Ca=d}else C(c.a,"No tessellator was available.");d=b.vb();for(e=0;e<d.length;e+=1){var f=
d[e];f&&f.sa(b)}for(;b.Kc.Td();)b.Kc.gc.splice(0,1).sa(b);if(b.Ca&&b.Z().fe||b.Z().Uc||b.Z().ee){D(c.a,"Creating diagnostic displays.");c=b.Z();d=b.Ca;for(e=0;e<d.X.length;e+=1){if(c.Uc||c.fe){f=d.X[e];var g=b,h=c.Uc,k=Ic(f,f.L.ba);Jc(g.Q(),g,f.L.Nc);var q=g.f;if(h){h=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,h);q.bufferData(q.ARRAY_BUFFER,new Float32Array(f.L.$),q.STATIC_DRAW);q.enableVertexAttribArray(g.T.getAttribLocation("aVertexPosition"));q.vertexAttribPointer(g.T.getAttribLocation("aVertexPosition"),
3,q.FLOAT,m,0,0);h=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,h);q.bufferData(q.ELEMENT_ARRAY_BUFFER,new Float32Array(k),q.STATIC_DRAW);q.drawElements(q.TRIANGLE_STRIP,f.L.$.length/3,q.UNSIGNED_SHORT,0)}Kc(g.Q(),g)}if(c.ee){f=b;d.X[e].wa().sa(f)}}}}else C(c.a,"The layers were null when attempting to draw.");else C(c.a,"The model was null when attempting to draw.");else C(c.a,"The view was null when attempting to draw.");a.frame+=1};function md(a){a.Cd=new nd;a.Cd.Pc(a)};function od(a,b,c){this.a=E("lanyard.demo.StatusBar");this.of=l;this.Hd=a;this.Jd=b;this.ud=c}s("lanyard.demo.StatusBar",od,void 0);od.prototype.Pc=function(a){a||C(this.a,"Attempted to use an invalid event source.");var b=a.Cd;this||C(b.a,"Attempted to add an invalid position listener.");this.Yf=j;b.pb.push(this);this.of=a};
od.prototype.Pd=function(a){if(a=a.Pb()){this.Hd.innerHTML=a.B.e;this.Jd.innerHTML=a.C.e;this.ud.innerHTML=a.Y()}else{this.Hd.innerHTML="Off globe";this.Jd.innerHTML="Off globe";this.ud.innerHTML="Off globe"}};var pd;!F||Nb("9");var qd=F&&!Nb("8");function W(a,b){this.type=a;this.currentTarget=this.target=b}x(W,bc);W.prototype.ea=function(){delete this.type;delete this.target;delete this.currentTarget};W.prototype.$a=m;W.prototype.Db=j;W.prototype.preventDefault=function(){this.Db=m};function rd(a,b){a&&this.Xa(a,b)}x(rd,W);p=rd.prototype;p.target=l;p.relatedTarget=l;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.lg=m;p.qb=l;
p.Xa=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Bb)try{d=d.nodeName&&d}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.lg=wb?a.metaKey:a.ctrlKey;this.ie=a.ie?a.ie:l;this.qb=a;delete this.Db;delete this.$a};
p.preventDefault=function(){rd.bb.preventDefault.call(this);var a=this.qb;if(a.preventDefault)a.preventDefault();else{a.returnValue=m;if(qd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};p.ea=function(){rd.bb.ea.call(this);this.relatedTarget=this.currentTarget=this.target=this.qb=l};function sd(){}var td=0;p=sd.prototype;p.key=0;p.ab=m;p.nd=m;p.Xa=function(a,b,c,d,e,f){if(ea(a))this.Fd=j;else if(a&&a.handleEvent&&ea(a.handleEvent))this.Fd=m;else i(Error("Invalid listener argument"));this.zb=a;this.Vd=b;this.src=c;this.type=d;this.capture=!!e;this.Bc=f;this.nd=m;this.key=++td;this.ab=m};p.handleEvent=function(a){if(this.Fd)return this.zb.call(this.Bc||this.src,a);return this.zb.handleEvent.call(this.zb,a)};var ud;var vd=(ud="ScriptEngine"in r&&r.ScriptEngine()=="JScript")?r.ScriptEngineMajorVersion()+"."+r.ScriptEngineMinorVersion()+"."+r.ScriptEngineBuildVersion():"0";var wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd;
(function(){function a(){return{R:0,ka:0}}function b(){return[]}function c(){function w(z){return g.call(w.src,w.key,z)}return w}function d(){return new sd}function e(){return new rd}var f=ud&&!(za(vd,"5.7")>=0),g;Bd=function(w){g=w};if(f){wd=function(){return cc(h)};xd=function(w){dc(h,w)};yd=function(){return cc(k)};zd=function(w){dc(k,w)};Ad=function(){return cc(q)};Cd=function(){dc(q,c())};Dd=function(){return cc(u)};Ed=function(w){dc(u,w)};Fd=function(){return cc(v)};Gd=function(w){dc(v,w)};
var h=new H(0,600);h.Ea=a;var k=new H(0,600);k.Ea=b;var q=new H(0,600);q.Ea=c;var u=new H(0,600);u.Ea=d;var v=new H(0,600);v.Ea=e}else{wd=a;xd=ba;yd=b;zd=ba;Ad=c;Cd=ba;Dd=d;Ed=ba;Fd=e;Gd=ba}})();var Hd={},X={},Y={},Id={};
function Z(a,b,c,d,e){if(b)if(ca(b)=="array"){for(var f=0;f<b.length;f++)Z(a,b[f],c,d,e);return l}else{d=!!d;var g=X;b in g||(g[b]=wd());g=g[b];if(!(d in g)){g[d]=wd();g.R++}g=g[d];var h=ga(a),k;g.ka++;if(g[h]){k=g[h];for(f=0;f<k.length;f++){g=k[f];if(g.zb==c&&g.Bc==e){if(g.ab)break;return k[f].key}}}else{k=g[h]=yd();g.R++}f=Ad();f.src=a;g=Dd();g.Xa(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Hd[c]=g;Y[h]||(Y[h]=yd());Y[h].push(g);if(a.addEventListener){if(a==r||!a.rd)a.addEventListener(b,f,d)}else a.attachEvent(Jd(b),
f);return c}else i(Error("Invalid event type"))}function Kd(a,b,c,d,e){if(ca(b)=="array"){for(var f=0;f<b.length;f++)Kd(a,b[f],c,d,e);return l}d=!!d;a:{f=X;if(b in f){f=f[b];if(d in f){f=f[d];a=ga(a);if(f[a]){a=f[a];break a}}}a=l}if(!a)return m;for(f=0;f<a.length;f++)if(a[f].zb==c&&a[f].capture==d&&a[f].Bc==e)return Ld(a[f].key);return m}
function Ld(a){if(!Hd[a])return m;var b=Hd[a];if(b.ab)return m;var c=b.src,d=b.type,e=b.Vd,f=b.capture;if(c.removeEventListener){if(c==r||!c.rd)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Jd(d),e);c=ga(c);e=X[d][f][c];if(Y[c]){var g=Y[c],h=Ja(g,b);if(h>=0){Ha(g.length!=l);y.splice.call(g,h,1)}g.length==0&&delete Y[c]}b.ab=j;e.Rd=j;Md(d,f,c,e);delete Hd[a];return j}
function Md(a,b,c,d){if(!d.Tb)if(d.Rd){for(var e=0,f=0;e<d.length;e++)if(d[e].ab){var g=d[e].Vd;g.src=l;Cd(g);Ed(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Rd=m;if(f==0){zd(d);delete X[a][b][c];X[a][b].R--;if(X[a][b].R==0){xd(X[a][b]);delete X[a][b];X[a].R--}if(X[a].R==0){xd(X[a]);delete X[a]}}}}
function Nd(a,b,c){var d=0,e=a==l,f=b==l,g=c==l;c=!!c;if(e)Pa(Y,function(k){for(var q=k.length-1;q>=0;q--){var u=k[q];if((f||b==u.type)&&(g||c==u.capture)){Ld(u.key);d++}}});else{a=ga(a);if(Y[a]){a=Y[a];for(e=a.length-1;e>=0;e--){var h=a[e];if((f||b==h.type)&&(g||c==h.capture)){Ld(h.key);d++}}}}return d}function Jd(a){if(a in Id)return Id[a];return Id[a]="on"+a}
function Od(a,b,c,d,e){var f=1;b=ga(b);if(a[b]){a.ka--;a=a[b];if(a.Tb)a.Tb++;else a.Tb=1;try{for(var g=a.length,h=0;h<g;h++){var k=a[h];if(k&&!k.ab)f&=Pd(k,e)!==m}}finally{a.Tb--;Md(c,d,b,a)}}return Boolean(f)}function Pd(a,b){var c=a.handleEvent(b);a.nd&&Ld(a.key);return c}
Bd(function(a,b){if(!Hd[a])return j;var c=Hd[a],d=c.type,e=X;if(!(d in e))return j;e=e[d];var f,g;if(pd===undefined)pd=F&&!r.addEventListener;if(pd){f=b||aa("window.event");var h=j in e,k=m in e;if(h){if(f.keyCode<0||f.returnValue=="marked_closure")return j;a:{var q=m;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(u){q=j}if(q||f.returnValue!="marked_closure")f.returnValue="marked_closure"}}q=Fd();q.Xa(f,this);f=j;try{if(h){for(var v=yd(),w=q.currentTarget;w;w=w.parentNode)v.push(w);g=e[j];g.ka=g.R;
for(var z=v.length-1;!q.$a&&z>=0&&g.ka;z--){q.currentTarget=v[z];f&=Od(g,v[z],d,j,q)}if(k){g=e[m];g.ka=g.R;for(z=0;!q.$a&&z<v.length&&g.ka;z++){q.currentTarget=v[z];f&=Od(g,v[z],d,m,q)}}}else f=Pd(c,q)}finally{if(v){v.length=0;zd(v)}q.Qa();Gd(q)}return f}d=new rd(b,this);try{f=Pd(c,d)}finally{d.Qa()}return f});new H(0,100);function Qd(){}x(Qd,bc);p=Qd.prototype;p.rd=j;p.Mc=l;p.addEventListener=function(a,b,c,d){Z(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){Kd(this,a,b,c,d)};
p.dispatchEvent=function(a){a=a;if(t(a))a=new W(a,this);else if(a instanceof W)a.target=a.target||this;else{var b=a;a=new W(a.type,this);Ra(a,b)}b=1;var c,d=a.type,e=X;if(d in e){e=e[d];d=j in e;var f;if(d){c=[];for(f=this;f;f=f.Mc)c.push(f);f=e[j];f.ka=f.R;for(var g=c.length-1;!a.$a&&g>=0&&f.ka;g--){a.currentTarget=c[g];b&=Od(f,c[g],a.type,j,a)&&a.Db!=m}}if(m in e){f=e[m];f.ka=f.R;if(d)for(g=0;!a.$a&&g<c.length&&f.ka;g++){a.currentTarget=c[g];b&=Od(f,c[g],a.type,m,a)&&a.Db!=m}else for(c=this;!a.$a&&
c&&f.ka;c=c.Mc){a.currentTarget=c;b&=Od(f,c,a.type,m,a)&&a.Db!=m}}a=Boolean(b)}else a=j;return a};p.ea=function(){Qd.bb.ea.call(this);Nd(this);this.Mc=l};function Rd(a,b,c,d,e){if(!F&&!(G&&Nb("525")))return j;if(wb&&e)return Sd(a);if(e&&!d)return m;if(!c&&(b==17||b==18))return m;if(F&&d&&b==a)return m;switch(a){case 13:return j;case 27:return!G}return Sd(a)}
function Sd(a){if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=65&&a<=90)return j;if(G&&a==0)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return m}};function Td(a,b){if(a){this.Sb&&this.detach();this.N=a;this.Rb=Z(this.N,"keypress",this,b);this.Fc=Z(this.N,"keydown",this.Sf,b,this);this.Sb=Z(this.N,"keyup",this.Tf,b,this)}}x(Td,Qd);p=Td.prototype;p.N=l;p.Rb=l;p.Fc=l;p.Sb=l;p.za=-1;p.ya=-1;
var Ud={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},Vd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Wd={61:187,
59:186},Xd=F||G&&Nb("525");p=Td.prototype;p.Sf=function(a){if(G&&(this.za==17&&!a.ctrlKey||this.za==18&&!a.altKey))this.ya=this.za=-1;if(Xd&&!Rd(a.keyCode,this.za,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.ya=Bb&&a.keyCode in Wd?Wd[a.keyCode]:a.keyCode};p.Tf=function(){this.ya=this.za=-1};
p.handleEvent=function(a){var b=a.qb,c,d;if(F&&a.type=="keypress"){c=this.ya;d=c!=13&&c!=27?b.keyCode:0}else if(G&&a.type=="keypress"){c=this.ya;d=b.charCode>=0&&b.charCode<63232&&Sd(c)?b.charCode:0}else if(Ab){c=this.ya;d=Sd(c)?b.keyCode:0}else{c=b.keyCode||this.ya;d=b.charCode||0;if(wb&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in Ud)e=Ud[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in Vd)e=Vd[f];a=e==this.za;this.za=e;b=new Yd(e,d,a,b);try{this.dispatchEvent(b)}finally{b.Qa()}};
p.detach=function(){if(this.Rb){Ld(this.Rb);Ld(this.Fc);Ld(this.Sb);this.Sb=this.Fc=this.Rb=l}this.N=l;this.ya=this.za=-1};p.ea=function(){Td.bb.ea.call(this);this.detach()};function Yd(a,b,c,d){d&&this.Xa(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}x(Yd,rd);function Zd(a){this.N=a;this.Id=Z(this.N,Bb?"DOMMouseScroll":"mousewheel",this)}x(Zd,Qd);
Zd.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.qb;if(a.type=="mousewheel"){c=1;if(F||G&&(Eb||Nb("532.0")))c=40;d=-a.wheelDelta/c;if(a.wheelDeltaX!==undefined){b=-a.wheelDeltaX/c;c=-a.wheelDeltaY/c}else c=d}else{d=a.detail;if(d>100)d=3;else if(d<-100)d=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)b=d;else c=d}if(typeof this.Ld=="number")b=Math.min(Math.max(b,-this.Ld),this.Ld);if(typeof this.Md=="number")c=Math.min(Math.max(c,-this.Md),this.Md);b=new $d(d,a,b,c);try{this.dispatchEvent(b)}finally{b.Qa()}};
Zd.prototype.ea=function(){Zd.bb.ea.call(this);Ld(this.Id);delete this.Id};function $d(a,b,c,d){b&&this.Xa(b,void 0);this.type="mousewheel";this.detail=a;this.kh=c;this.hf=d}x($d,rd);function ae(a,b,c,d){this.a=E("lanyard.dom.PositionEvent");this.source=a;this.th=b;this.Ud=c;this.position=d}ae.prototype.Pb=o("position");ae.prototype.toString=function(){return"A position event: "+this.Ud?this.Ud.toString():"null --\> "+this.position?this.position.toString():"null"};function be(){this.zoom=this.pitch=this.ma=this.Ya=l};function nd(){this.a=E("lanyard.dom.InputHandler");this.pb=[];this.A=l;this.Ha=new id(0,0);this.Jc=0;this.Bb=[0,0,0,0];this.xh=j;this.Ug=1.0E-5;this.Tg=0.2;this.Sg=1.0E-9;this.Vg=0.6;this.Dh=0.1;this.zh=0.25;this.Ah=1.0E-4;this.Ch=0.3;this.Bh=0.1;this.Wg=0.05;this.Xg=0.0010;this.Yg=0.1}
nd.prototype.Pc=function(a){a||C(this.a,"Attempted to use an invalid object as an event source.");a.Q()||C(this.a,"Attempted to set an event source without a valid view.");var b=a.Ka;b||C(this.a,"Attempted to use an input source without a valid dom node.");this.A=a;a=new Td(b);Z(a,"key",this.Zf,m,this);var c=new Zd(b);Z(c,"mousewheel",this.Od,m,this);Z(window,"mousedown",function(d){D(this.a,"Received a mouse down event.");++this.Bb[d.button];++this.Jc},m,this);Z(window,"mouseup",function(d){D(this.a,
"Received a mouse up event.");--this.Bb[d.button];--this.Jc},m,this);Z(b,"mousemove",this.hg,m,this);Z(b,"unload",function(){Kd(c,"mousewheel",this.Od)})};nd.prototype.Zf=function(a){if(this.A){var b=this.A.Q();if(b){a.preventDefault();var c=b.ma.sin(),d=b.ma.cos(),e=0,f=0;if(a.keyCode===37){e=c;f=-d}else if(a.keyCode===39){e=-c;f=d}else if(a.keyCode===38){e=d;f=c}else if(a.keyCode===40){e=-d;f=-c}if(e!==0||f!==0)if(a=this.A.Z().S()){e=ce(this,b,a,10*e,10*f,m);de(this,b,ee(this,b,e.B,e.C))}}}};
nd.prototype.hg=function(a){if(this.A)if(a){var b=this.A.Q();if(b){if(this.Jc){if(this.Bb[0])if(this.A)if(a){var c=this.A.Q();if(c)if(this.A.Z()){var d=new id(a.clientX-this.Ha.b,a.clientY-this.Ha.c),e=l,f=Xc(c,this.Ha.b,this.Ha.c),g=Xc(c,a.clientX,a.clientY);if(f&&g)e=new S(f.B.K(g.B),f.C.K(g.C));else if(f=this.A.Z().S()){var h=c.ma.sin(),k=c.ma.cos();g=k*d.c+h*d.b;D(this.a,"latitude factor = "+g.toString());d=h*d.c-k*d.b;D(this.a,"longitude factor = "+d.toString());if(g!==0||d!==0)e=ce(this,c,f,
g,d,m)}else C(this.a,"Attempted to perform a drag event without a valid globe.");e?de(this,c,ee(this,c,e.B,e.C)):C(this.a,"A failure occured in the drag event result.")}else C(this.a,"Attempted to handle a drag event without a valid model.");else C(this.a,"Attempted to handle a drag event without a valid view.")}else C(this.a,"Attempted to handle a drag event without a valid event.");else C(this.a,"Attempted to handle a drag event without a valid canvas.");this.Bb[1]&&D(this.a,"The center mouse button is pressed.");
this.Bb[2]&&D(this.a,"The right mouse button is pressed.")}if(c=this.A.Z())if(c.S()){b=new ae(this.A,a,Xc(b,this.Ha.b,this.Ha.c),Xc(b,a.clientX,a.clientY));for(c=0;c<this.pb.length;c++)this.pb[c].Pd&&this.pb[c].Yf&&this.pb[c].Pd(b);this.Ha=new id(a.clientX,a.clientY)}}}};function de(a,b,c){c||C(a.a,"Attempted to set the view to an invalid latlon.");a.ga=new be;a.ga.Ya=c;fe(a,b,a.ga,a.Vg,a.Sg,m)}
function ce(a,b,c,d,e,f){b=Oc(b);if(!b){C(a.a,"Attempted to compute a latlon change without a valid eye.");return l}c=b.length()/c.P-1;c=c<0?0:c>1?1:c;a=((1-c)*a.Ug+c*a.Tg)*(f?0.25:1);return S.prototype.j(d*a,e*a)}function ee(a,b,c,d){var e;if(a.ga&&a.ga.Ya){e=a.ga.Ya.B.e;a=a.ga.Ya.C.e}else{e=b.Pb().B.e;a=b.Pb().C.e}e+=c.e;a+=d.e;if(e<-90)e=-90;else if(e>90)e=90;if(a<-180)a+=360;else if(a>180)a-=360;return S.prototype.j(e,a)}
nd.prototype.Od=function(a){if(this.A)if(a){a.preventDefault();var b=this.A.Q();b?ge(this,b,he(this,b,function(c){if(c<0)return-1;if(c>0)return 1;return 0}(a.hf)*this.Wg*1)):C(this.a,"Attempted to handle a mouse wheel event without a valid view.")}else C(this.a,"Attempted to handle an invalid mouse wheel event.");else C(this.a,"A mouse wheel event was thrown away due to a missing event source.")};
function he(a,b,c){a=a.ga&&a.ga.zoom?Math.log(a.ga.zoom):Math.log(b.Ta);a+=c;b=[Math.max(b.Ic,b.lb),b.Hc];return Math.exp(a)<b[0]?b[0]:Math.exp(a)>b[1]?b[1]:Math.exp(a)}function ge(a,b,c){a.ga=new be;a.ga.zoom=c;fe(a,b,a.ga,a.Yg,a.Xg,m)}
function fe(a,b,c){b||C(a.a,"Attempted to set properties on a null view.");if(c.Ya){var d=c.Ya;a=d.B.e;if(a<-90)a=-90;else if(a>90)a=90;d=d.C.e;if(d<-180)d+=360;else if(d>180)d-=360;a=S.prototype.j(a,d);b.sb=a.B;b.tb=a.C}if(c.ma){a=c.ma.e;if(a<0)a+=360;else if(a>360)a-=360;a=I.prototype.j(a);b.ma=a}if(c.pitch)b.pitch=Vc(b,c.pitch);if(c.zoom)b.Ta=Wc(b,c.zoom)};function ie(){this.a=E("lanyard.layers.AbstractLayer");this.enabled=j;this.opacity=1;this.fg=Number.MIN_VALUE;this.ag=Number.MAX_VALUE;this.pc="Untitled Layer"}s("lanyard.layers.AbstractLayer",ie,void 0);ie.prototype.getName=o("pc");ie.prototype.toString=o("pc");ie.prototype.sa=function(a){if(this.enabled){var b;b=a.Q().altitude;if(b>=this.fg&&b<=this.ag){(b=this.Oc?this.Oc:this.Xd)||D(this.a,"Active renderable array is not correct.");for(var c in b)b.hasOwnProperty(c)&&b[c].sa(a)}}};function je(a){ie.call(this);this.a=E("lanyard.layers.RenderableLayer");this.Xd=[];this.Oc=l;this.jh=a}x(je,ie);je.prototype.toString=function(){return"A generic renderable layer."};function ke(a,b,c){this.a=E("lanyard.render.SurfaceImage");this.vc=l;this.wd=Number.MIN_VALUE;this.opacity=1;this.Yc=l;this.Ad=this.Vf=m;this.xb=a;this.ta=b;this.vh=new O.prototype.sf(Fc(b),0);this.ph=c;this.xb||C(this.a,"The image source is null.");this.ta||C(this.a,"The sector is null.")}p=ke.prototype;p.fa=o("ta");p.wa=function(a){a||C(this.a,"The draw context is null.");if(!this.vc||this.wd!==a.xa()){this.vc=Gc(T.prototype,a.S(),a.xa(),this.ta);this.wd=a.xa()}return this.vc};
function le(a,b){b||C(a.a,"The draw context was null.");var c=b.f,d=new ad(b),e=new Image;e.onload=function(){d.Oa();d.f.pixelStorei(d.f.UNPACK_FLIP_Y_WEBGL,1);d.f.texImage2D(d.f.TEXTURE_2D,0,d.f.RGBA,d.f.RGBA,d.f.UNSIGNED_BYTE,e);cd(d,c.TEXTURE_MIN_FILTER,c.LINEAR);cd(d,c.TEXTURE_MAG_FILTER,c.LINEAR);cd(d,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);cd(d,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);d.f.generateMipmap(d.f.TEXTURE_2D);a.Vf=j;a.Yc=d;b.A.display()};e.onerror=function(){a.a.log(gb,"An image failed to load from: "+
a.xb,void 0);a.Ad=j};e.onabort=function(){a.a.log(gb,"An image load was aborted: "+a.xb,void 0);a.Ad=j};e.src=a.xb;return d}p.Oa=function(a){a||C(this.a,"The draw context is null.");var b=this.Yc;if(!b)if(b=le(this,a))return j;if(b){b.Oa();return j}return m};
p.sa=function(a){a||C(this.a,"The draw context is null.");if(this.ta.yb(a.$c)){var b=a.f;b.enable(b.CULL_FACE);b=a.Ng;if(this){var c=[this],d=a.f;if(!b.qa){var e=dd.prototype.ue,f=document.createElement("canvas");f.width=f.height=e;for(var g=f.getContext("2d"),h=g.createImageData(e,e),k=0;k<e;k+=1)for(var q=0;q<e;q+=1){var u=(q*e+k)*4;h.data[u+0]=255;h.data[u+1]=255;h.data[u+2]=255;h.data[u+3]=255}g.putImageData(h,0,0);b.qa=new ad(a);bd(b.qa,f);b.qa.Oa();cd(b.qa,b.f.TEXTURE_MAG_FILTER,b.f.NEAREST);
cd(b.qa,b.f.TEXTURE_MIN_FILTER,b.f.NEAREST);cd(b.qa,b.f.TEXTURE_WRAP_S,b.f.CLAMP_TO_EDGE);cd(b.qa,b.f.TEXTURE_WRAP_T,b.f.CLAMP_TO_EDGE)}d.enable(d.DEPTH_TEST);d.depthFunc(d.LEQUAL);d.activeTexture(d.TEXTURE0);e=a.Ca;for(f=0;f<e.X.length;f+=1){g=e.X[f];h=c;k=[];q=void 0;for(q=0;q<h.length;q+=1)h[q].fa().yb(g.fa())&&k.push(h[q]);if(g=k){h=b;k=e.X[f].fa();h.Tc=k.gd.G;h.Sc=k.fc.G;h.be=k.F.G;h.ae=k.D.G;for(h=0;h<g.length;h+=1){d.activeTexture(d.TEXTURE0);if(g[h].Oa(a)){d.activeTexture(d.TEXTURE0);d.uniform1i(a.T.getUniformLocation("uSamplerTileImage"),
0);k=g[h];(q=a)||C(k.a,"The draw context was null.");k.Yc||le(k,q);k=b;q=b.transform;var v=g[h].fa();u=v.gd.G;var w=v.fc.G,z=v.F.G;v=v.D.G;q.dd=w>0?k.Sc/w:1;q.bd=u>0?k.Tc/u:1;q.ed=-(v-k.ae)/k.Sc;q.cd=-(z-k.be)/k.Tc;k=new Q([b.transform.bd,0,0,0,0,b.transform.dd,0,0,0,0,1,0,0,0,0,1]);k.translate(b.transform.cd,b.transform.ed,0);Yc(a,"uTextureMatrix",k);d.activeTexture(d.TEXTURE1);b.qa.Oa();d.uniform1i(a.T.getUniformLocation("uSamplerAlphaMask"),1);e.X[f].sa(a)}}}}d.activeTexture(d.TEXTURE0)}else D(b.a,
"Attempted to render a null tile.")}else D(this.a,"The surface image does not intersect with a visible sector.")};p.toString=function(){return"A SurfaceImage with a path of: "+this.xb};function me(){je.call(this,l);this.a=E("lanyard.layers.earth.BMNGOneImage");this.pc="The Blue Marble, single image";var a=new ke("images/bmng.world.topo.512.256.gif",T.prototype.Fe,this);a||C(this.a,"Renderable is null.");this.Oc&&C(this.a,"Layer is already using a custom iterable.");this.Xd.push(a)}x(me,je);me.prototype.toString=function(){return"A BMNGOneImage object."};function $(a,b,c){this.kd=a;this.Ue=b;this.Ne=c;this.a=E("lanyard.demo.BasicDemo");this.A=l;this.ib=[]}s("lanyard.demo.BasicDemo",$,void 0);$.prototype.pg=function(){this.Zd();this.$d();this.kd||C(this.a,"A valid canvas element was not found.");var a=new Pc;a.Gc=this.ib;this.A=new ld(this.kd);this.A.Eb(a);this.A.Fb(new Tc);md(this.A);var b=this;(function c(){setTimeout(function(){b.A.display();c()},15)})()};s("lanyard.demo.BasicDemo.prototype.run",$.prototype.pg,void 0);
$.prototype.Zd=function(){rb().Qc(kb);var a=new ac(this.Ne);if(j!=a.Ed){var b=rb(),c=a.ng;if(!b.wb)b.wb=[];b.wb.push(c);a.Ed=j}};s("lanyard.demo.BasicDemo.prototype.setupEventLog",$.prototype.Zd,void 0);$.prototype.$e=function(a){this.A||C(this.a,"A LanyardCanvas must exist before a status bar is added.");a||C(this.a,"Attempted to attach an invalid status bar.");a.Pc(this.A)};s("lanyard.demo.BasicDemo.prototype.addStatusBar",$.prototype.$e,void 0);
$.prototype.$d=function(){this.ib.push(new me);var a;for(a=0;a<this.ib.length;a+=1){D(this.a,"Adding layer with name = "+this.ib[a].toString());this.Ue.appendChild(Vb("p",{style:"background-color:#EEE"},this.ib[a].getName()))}};s("lanyard.demo.BasicDemo.prototype.setupLayerList",$.prototype.$d,void 0);

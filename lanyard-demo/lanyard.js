function h(a){throw a;}var j=true,l=null,m=false;function n(a){return function(b){this[a]=b}}function o(a){return function(){return this[a]}}var p,r=this;function s(a,b,c){a=a.split(".");c=c||r;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:c[d]={}}function aa(a,b){for(var c=a.split("."),d=b||r,e;e=c.shift();)if(d[e])d=d[e];else return l;return d}function ba(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function da(a){return ca(a)=="array"}function ea(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function fa(a){return typeof a=="string"}function ga(a){return ca(a)=="function"}function ha(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function ja(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),la=0;
function ma(a,b){var c=b||r;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}var na=Date.now||function(){return+new Date};function t(a,b){function c(){}c.prototype=b.prototype;a.Ga=b.prototype;a.prototype=new c};function oa(){this.Wd=na()}var pa=new oa;oa.prototype.set=n("Wd");oa.prototype.reset=function(){this.set(na())};oa.prototype.get=o("Wd");function qa(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function ra(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}
function sa(a,b){if(b)return a.replace(va,"&amp;").replace(wa,"&lt;").replace(xa,"&gt;").replace(ya,"&quot;");else{if(!za.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(va,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(wa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(xa,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(ya,"&quot;");return a}}var va=/&/g,wa=/</g,xa=/>/g,ya=/\"/g,za=/[&<>\"]/;function Aa(a,b){return ra(a.replace(/  /g," &#160;"),b)}
function Ba(a,b){for(var c=0,d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=String(b).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(d.length,e.length),g=0;c==0&&g<f;g++){var i=d[g]||"",k=e[g]||"",q=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var v=q.exec(i)||["","",""],w=u.exec(k)||["","",""];if(v[0].length==0&&w[0].length==0)break;c=Ca(v[1].length==0?0:parseInt(v[1],10),w[1].length==0?0:parseInt(w[1],10))||Ca(v[2].length==0,w[2].length==0)||Ca(v[2],w[2])}while(c==
0)}return c}function Ca(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function Da(a){this.rg=a||"";this.Rg=pa}Da.prototype.ce=j;Da.prototype.Pg=j;Da.prototype.Og=j;Da.prototype.de=m;function Ea(a){if(a<10)return"0"+a;return String(a)}function Fa(a,b){var c=(a.ne-b)/1E3,d=c.toFixed(3),e=0;if(c<1)e=2;else for(;c<100;){e++;c*=10}for(;e-- >0;)d=" "+d;return d}function Ga(a){Da.call(this,a)}t(Ga,Da);Ga.prototype.de=j;function Ha(a){this.stack=Error().stack||"";if(a)this.message=String(a)}t(Ha,Error);Ha.prototype.name="CustomError";function Ia(a,b){b.unshift(a);Ha.call(this,qa.apply(l,b));b.shift();this.Ch=a}t(Ia,Ha);Ia.prototype.name="AssertionError";function Ja(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}h(new Ia(""+d,e||[]))}return a}function Ka(a){h(new Ia("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var x=Array.prototype,La=x.indexOf?function(a,b,c){Ja(a.length!=l);return x.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:c<0?Math.max(0,a.length+c):c;if(fa(a)){if(!fa(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=x.forEach?function(a,b,c){Ja(a.length!=l);x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=fa(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};function Na(){return x.concat.apply(x,arguments)}
function Oa(a){if(da(a))return Na(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Pa(a,b,c){Ja(a.length!=l);return arguments.length<=2?x.slice.call(a,b):x.slice.call(a,b,c)};function Ra(a,b,c){for(var d in a)b.call(c,a[d],d,a)}var Sa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];function Ta(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<Sa.length;e++){b=Sa[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};var Ua="StopIteration"in r?r.StopIteration:Error("StopIteration");function Va(){}Va.prototype.next=function(){h(Ua)};Va.prototype.ic=function(){return this};function Wa(a){if(a instanceof Va)return a;if(typeof a.ic=="function")return a.ic(m);if(ea(a)){var b=0,c=new Va;c.next=function(){for(;;){if(b>=a.length)h(Ua);if(b in a)return a[b++];else b++}};return c}h(Error("Not implemented"))}
function Xa(a,b,c){if(ea(a))try{Ma(a,b,c)}catch(d){if(d!==Ua)h(d)}else{a=Wa(a);try{for(;;)b.call(c,a.next(),undefined,a)}catch(e){if(e!==Ua)h(e)}}};function Ya(a){this.Ea={};this.D=[];var b=arguments.length;if(b>1){if(b%2)h(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.set(arguments[c],arguments[c+1])}else if(a){var d;if(a instanceof Ya){c=Za(a);$a(a);d=[];for(b=0;b<a.D.length;b++)d.push(a.Ea[a.D[b]]);d=d}else{b=[];var e=0;for(c in a)b[e++]=c;c=b;b=[];e=0;for(d in a)b[e++]=a[d];d=b}for(b=0;b<c.length;b++)this.set(c[b],d[b])}}p=Ya.prototype;p.R=0;p.cc=0;function Za(a){$a(a);return a.D.concat()}
p.clear=function(){this.Ea={};this.cc=this.R=this.D.length=0};function $a(a){if(a.R!=a.D.length){for(var b=0,c=0;b<a.D.length;){var d=a.D[b];if(Object.prototype.hasOwnProperty.call(a.Ea,d))a.D[c++]=d;b++}a.D.length=c}if(a.R!=a.D.length){var e={};for(c=b=0;b<a.D.length;){d=a.D[b];if(!Object.prototype.hasOwnProperty.call(e,d)){a.D[c++]=d;e[d]=1}b++}a.D.length=c}}p.get=function(a,b){if(Object.prototype.hasOwnProperty.call(this.Ea,a))return this.Ea[a];return b};
p.set=function(a,b){if(!Object.prototype.hasOwnProperty.call(this.Ea,a)){this.R++;this.D.push(a);this.cc++}this.Ea[a]=b};p.ic=function(a){$a(this);var b=0,c=this.D,d=this.Ea,e=this.cc,f=this,g=new Va;g.next=function(){for(;;){if(e!=f.cc)h(Error("The map has changed since the iterator was created"));if(b>=c.length)h(Ua);var i=c[b++];return a?i:d[i]}};return g};function ab(a){return bb(a||arguments.callee.caller,[])}
function bb(a,b){var c=[];if(La(b,a)>=0)c.push("[...circular reference...]");else if(a&&b.length<50){c.push(cb(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){e>0&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":f=f;break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=cb(f))?f:"[fn]";break;default:f=typeof f}if(f.length>40)f=f.substr(0,40)+"...";c.push(f)}b.push(a);c.push(")\n");try{c.push(bb(a.caller,
b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function cb(a){a=String(a);if(!db[a]){var b=/function ([^\(]+)/.exec(a);db[a]=b?b[1]:"[Anonymous]"}return db[a]}var db={};function eb(a,b,c,d,e){this.reset(a,b,c,d,e)}eb.prototype.wg=0;eb.prototype.xc=l;eb.prototype.wc=l;var fb=0;eb.prototype.reset=function(a,b,c,d,e){this.wg=typeof e=="number"?e:fb++;this.ne=d||na();this.fb=a;this.mg=b;this.bg=c;delete this.xc;delete this.wc};eb.prototype.Rc=n("fb");function y(a){this.Rd=a}y.prototype.Yb=l;y.prototype.fb=l;y.prototype.qc=l;y.prototype.yb=l;function gb(a,b){this.name=a;this.value=b}gb.prototype.toString=o("name");var hb=new gb("SHOUT",1200),ib=new gb("SEVERE",1E3),jb=new gb("WARNING",900),kb=new gb("INFO",800),lb=new gb("CONFIG",700),A=new gb("FINE",500),mb=new gb("ALL",0);y.prototype.getName=o("Rd");y.prototype.Rc=n("fb");function nb(a){if(a.fb)return a.fb;if(a.Yb)return nb(a.Yb);Ka("Root logger has no level set.");return l}
y.prototype.log=function(a,b,c){if(a.value>=nb(this).value){a=this.Of(a,b,c);for(b=this;b;){c=b;var d=a;if(c.yb)for(var e=0,f=void 0;f=c.yb[e];e++)f(d);b=b.Yb}}};
y.prototype.Of=function(a,b,c){var d=new eb(a,String(b),this.Rd);if(c){d.xc=c;var e;var f=arguments.callee.caller;try{var g,i=aa("window.location.href");g=typeof c=="string"?{message:c,name:"Unknown error",lineNumber:"Not available",fileName:i,stack:"Not available"}:!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:c.lineNumber||c.Ah||"Not available",fileName:c.fileName||c.filename||c.sourceURL||i,stack:c.stack||"Not available"}:c;e="Message: "+sa(g.message)+'\nUrl: <a href="view-source:'+
g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+sa(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+sa(ab(f)+"-> ")}catch(k){e="Exception trying to expose exception! You win, we lose. "+k}d.wc=e}return d};function B(a,b,c){a.log(ib,b,c)}var ob={},pb=l;function qb(){if(!pb){pb=new y("");ob[""]=pb;pb.Rc(lb)}}function tb(){qb();return pb}
function C(a){qb();var b;if(!(b=ob[a])){b=new y(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=C(a.substr(0,c));if(!c.qc)c.qc={};c.qc[d]=b;b.Yb=c;b=ob[a]=b}return b};var ub,vb,wb,xb,yb;function zb(){return r.navigator?r.navigator.userAgent:l}xb=wb=vb=ub=m;var Ab;if(Ab=zb()){var Bb=r.navigator;ub=Ab.indexOf("Opera")==0;vb=!ub&&Ab.indexOf("MSIE")!=-1;wb=!ub&&Ab.indexOf("WebKit")!=-1;xb=!ub&&!wb&&Bb.product=="Gecko"}var Cb=ub,D=vb,Db=xb,E=wb,Eb,Fb=r.navigator;Eb=Fb&&Fb.platform||"";yb=Eb.indexOf("Mac")!=-1;var Gb=Eb.indexOf("Win")!=-1,Hb;
a:{var Ib="",Jb;if(Cb&&r.opera){var Kb=r.opera.version;Ib=typeof Kb=="function"?Kb():Kb}else{if(Db)Jb=/rv\:([^\);]+)(\)|;)/;else if(D)Jb=/MSIE\s+([^\);]+)(\)|;)/;else if(E)Jb=/WebKit\/(\S+)/;if(Jb){var Lb=Jb.exec(zb());Ib=Lb?Lb[1]:""}}if(D){var Mb,Nb=r.document;Mb=Nb?Nb.documentMode:undefined;if(Mb>parseFloat(Ib)){Hb=String(Mb);break a}}Hb=Ib}var Ob={};function F(a){return Ob[a]||(Ob[a]=Ba(Hb,a)>=0)};var Pb,Qb=!D||F("9");D&&F("9");function Rb(a){var b;b=(b=a.className)&&typeof b.split=="function"?b.split(/\s+/):[];var c;c=Pa(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(La(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c};function Sb(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}Sb.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function Tb(a){return a?new Ub(a.nodeType==9?a:a.ownerDocument||a.document):Pb||(Pb=new Ub)}
function Vb(a,b,c,d){a=d||a;var e=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!E||document.compatMode=="CSS1Compat"||F("528"))&&(e||c))return a.querySelectorAll(e+(c?"."+c:""));if(c&&a.getElementsByClassName){b=a.getElementsByClassName(c);if(e){a={};for(var f=d=0,g;g=b[f];f++)if(e==g.nodeName)a[d++]=g;a.length=d;return a}else return b}b=a.getElementsByTagName(e||"*");if(c){a={};for(f=d=0;g=b[f];f++){e=g.className;var i;if(i=typeof e.split=="function"){e=e.split(/\s+/);i=
La(e,c)>=0}if(i)a[d++]=g}a.length=d;return a}else return b}function Wb(a,b){Ra(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Xb)a.setAttribute(Xb[d],c);else a[d]=c})}var Xb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function Yb(a){a=!E&&a.compatMode=="CSS1Compat"?a.documentElement:a.body;return new Sb(a.scrollLeft,a.scrollTop)}function Zb(){return $b(document,arguments)}
function $b(a,b){var c=b[0],d=b[1];if(!Qb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',sa(d.name),'"');if(d.type){c.push(' type="',sa(d.type),'"');var e={};Ta(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(fa(d))c.className=d;else da(d)?Rb.apply(l,[c].concat(d)):Wb(c,d);b.length>2&&ac(a,c,b,2);return c}
function ac(a,b,c,d){function e(g){if(g)b.appendChild(fa(g)?a.createTextNode(g):g)}for(d=d;d<c.length;d++){var f=c[d];ea(f)&&!(ha(f)&&f.nodeType>0)?Ma(cc(f)?Oa(f):f,e):e(f)}}function cc(a){if(a&&typeof a.length=="number")if(ha(a))return typeof a.item=="function"||typeof a.item=="string";else if(ga(a))return typeof a.item=="function";return m}function Ub(a){this.ea=a||r.document||document}p=Ub.prototype;p.sd=function(){return $b(this.ea,arguments)};p.createElement=function(a){return this.ea.createElement(a)};
p.createTextNode=function(a){return this.ea.createTextNode(a)};p.appendChild=function(a,b){a.appendChild(b)};p.contains=function(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};function dc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}dc.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};dc.prototype.db=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
dc.prototype.contains=function(a){return a instanceof dc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function ec(a,b){if(D)a.cssText=b;else a[E?"innerText":"innerHTML"]=b};function fc(a){this.sg=ma(this.$e,this);this.Bd=new Ga;this.Hd=this.Bd.ce=m;this.O=a;this.of=this.O.ownerDocument||this.O.document;a=Tb(this.O);var b=l;if(D){b=a.ea.createStyleSheet();ec(b,".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}")}else{var c=
Vb(a.ea,"head",void 0,void 0)[0];if(!c){b=Vb(a.ea,"body",void 0,void 0)[0];c=a.sd("head");b.parentNode.insertBefore(c,b)}b=a.sd("style");ec(b,".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}");a.appendChild(c,b)}this.O.className+=" logdiv"}
fc.prototype.$e=function(a){var b=this.O.scrollHeight-this.O.scrollTop-this.O.clientHeight<=100,c=this.of.createElement("div");c.className="logmsg";var d=this.Bd,e;switch(a.fb.value){case hb.value:e="dbg-sh";break;case ib.value:e="dbg-sev";break;case jb.value:e="dbg-w";break;case kb.value:e="dbg-i";break;default:e="dbg-f"}var f=[];f.push(d.rg," ");if(d.ce){var g=new Date(a.ne);f.push("[",Ea(g.getFullYear()-2E3)+Ea(g.getMonth()+1)+Ea(g.getDate())+" "+Ea(g.getHours())+":"+Ea(g.getMinutes())+":"+Ea(g.getSeconds())+
"."+Ea(Math.floor(g.getMilliseconds()/10)),"] ")}d.Pg&&f.push("[",Aa(Fa(a,d.Rg.get())),"s] ");d.Og&&f.push("[",sa(a.bg),"] ");f.push('<span class="',e,'">',ra(Aa(sa(a.mg))));if(d.de&&a.xc)f.push("<br>",ra(Aa(a.wc||"")));f.push("</span><br>");c.innerHTML=f.join("");this.O.appendChild(c);if(b)this.O.scrollTop=this.O.scrollHeight};fc.prototype.clear=function(){this.O.innerHTML=""};function gc(){}gc.prototype.wd=m;gc.prototype.xa=function(){if(!this.wd){this.wd=j;this.S()}};gc.prototype.S=function(){};function G(a,b){this.Md=b;this.Ma=[];if(a>this.Md)h(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Ma.push(this.sb())}t(G,gc);p=G.prototype;p.Ja=l;p.vd=l;function hc(a){if(a.Ma.length)return a.Ma.pop();return a.sb()}function H(a,b){a.Ma.length<a.Md?a.Ma.push(b):a.tc(b)}p.sb=function(){return this.Ja?this.Ja():{}};p.tc=function(a){if(this.vd)this.vd(a);else if(ha(a))if(ga(a.xa))a.xa();else for(var b in a)delete a[b]};
p.S=function(){G.Ga.S.call(this);for(var a=this.Ma;a.length;)this.tc(a.pop());delete this.Ma};function ic(){this.vb=[];this.Nc=new Ya;this.qe=this.re=this.se=this.ge=0;this.Jb=new Ya;this.rd=this.pe=0;this.ng=1;this.uc=new G(0,4E3);this.uc.sb=function(){return new jc};this.je=new G(0,50);this.je.sb=function(){return new kc};var a=this;this.Fc=new G(0,2E3);this.Fc.sb=function(){return String(a.ng++)};this.Fc.tc=function(){};this.jf=3}function kc(){this.ad=this.me=this.rc=0}
kc.prototype.toString=function(){var a=[];a.push(this.type," ",this.rc," (",Math.round(this.me*10)/10," ms)");this.ad&&a.push(" [VarAlloc = ",this.ad,"]");return a.join("")};function jc(){}function lc(a,b,c,d){var e=[];c==-1?e.push("    "):e.push(mc(a.yd-c));e.push(" ",nc(a.yd-b));if(a.vc==0)e.push(" Start        ");else if(a.vc==1){e.push(" Done ");e.push(mc(a.Hh-a.startTime)," ms ")}else e.push(" Comment      ");e.push(d,a);a.Vg>0&&e.push("[VarAlloc ",a.Vg,"] ");return e.join("")}
jc.prototype.toString=function(){return this.type==l?this.cf:"["+this.type+"] "+this.cf};ic.prototype.reset=function(a){this.jf=a;for(a=0;a<this.vb.length;a++){var b=this.uc.id;b&&H(this.Fc,b);H(this.uc,this.vb[a])}this.vb.length=0;this.Nc.clear();this.ge=na();this.rd=this.pe=this.qe=this.re=this.se=0;b=Za(this.Jb);for(a=0;a<b.length;a++){var c=this.Jb.get(b[a]);c.rc=0;c.me=0;c.ad=0;H(this.je,c)}this.Jb.clear()};
ic.prototype.toString=function(){for(var a=[],b=-1,c=[],d=0;d<this.vb.length;d++){var e=this.vb[d];e.vc==1&&c.pop();a.push(" ",lc(e,this.ge,b,c.join("")));b=e.yd;a.push("\n");e.vc==0&&c.push("|  ")}if(this.Nc.R!=0){var f=na();a.push(" Unstopped timers:\n");Xa(this.Nc,function(g){a.push("  ",g," (",f-g.startTime," ms, started at ",nc(g.startTime),")\n")})}b=Za(this.Jb);for(d=0;d<b.length;d++){c=this.Jb.get(b[d]);c.rc>1&&a.push(" TOTAL ",c,"\n")}a.push("Total tracers created ",this.pe,"\n","Total comments created ",
this.rd,"\n","Overhead start: ",this.se," ms\n","Overhead end: ",this.re," ms\n","Overhead comment: ",this.qe," ms\n");return a.join("")};function mc(a){a=Math.round(a);var b="";if(a<1E3)b=" ";if(a<100)b="  ";if(a<10)b="   ";return b+a}function nc(a){a=Math.round(a);return String(100+a/1E3%60).substring(1,3)+"."+String(1E3+a%1E3).substring(1,4)}new ic;function I(a,b){this.c=C("lanyard.geom.Angle");isNaN(a)&&B(this.c,"Attempted to create an angle with invalid degrees.");isNaN(b)&&B(this.c,"Attempted to create an angle with invalid radians.");this.e=a;this.C=b}s("lanyard.geom.Angle",I,void 0);I.prototype.Lb=Math.PI/180;s("lanyard.geom.Angle.prototype.DEGREES_TO_RADIANS",I.prototype.Lb,void 0);I.prototype.kb=180/Math.PI;s("lanyard.geom.Angle.prototype.RADIANS_TO_DEGREES",I.prototype.kb,void 0);I.prototype.jb=Math.PI/2;
s("lanyard.geom.Angle.prototype.PIOver2",I.prototype.jb,void 0);I.prototype.j=function(a){return new I(a,I.prototype.Lb*a)};s("lanyard.geom.Angle.prototype.fromDegrees",I.prototype.j,void 0);I.prototype.N=function(a){return new I(I.prototype.kb*a,a)};s("lanyard.geom.Angle.prototype.fromRadians",I.prototype.N,void 0);I.prototype.Mf=o("e");s("lanyard.geom.Angle.prototype.getDegrees",I.prototype.Mf,void 0);I.prototype.Pf=o("C");s("lanyard.geom.Angle.prototype.getRadians",I.prototype.Pf,void 0);
I.prototype.ZERO=I.prototype.j(0);s("lanyard.geom.Angle.prototype.ZERO",I.prototype.ZERO,void 0);I.prototype.hc=I.prototype.j(90);s("lanyard.geom.Angle.prototype.POS90",I.prototype.hc,void 0);I.prototype.fc=I.prototype.j(-90);s("lanyard.geom.Angle.prototype.NEG90",I.prototype.fc,void 0);I.prototype.gc=I.prototype.j(180);s("lanyard.geom.Angle.prototype.POS180",I.prototype.gc,void 0);I.prototype.ec=I.prototype.j(-180);s("lanyard.geom.Angle.prototype.NEG180",I.prototype.ec,void 0);I.prototype.Ie=I.prototype.j(360);
s("lanyard.geom.Angle.prototype.POS360",I.prototype.Ie,void 0);I.prototype.pf=function(a){a=a<-90?-90:a>90?90:a;return new I(a,I.prototype.Lb*a)};s("lanyard.geom.Angle.prototype.fromDegreesLatitude",I.prototype.pf,void 0);I.prototype.tf=function(a){a=a<I.prototype.jb?-I.prototype.jb:a>I.prototype.jb?I.prototype.jb:a;var b=I.prototype.kb*a;b=b<-90?-90:b>90?90:b;return new I(b,a)};s("lanyard.geom.Angle.prototype.fromRadiansLatitude",I.prototype.tf,void 0);
I.prototype.qf=function(a){a=a<-180?-180:a>180?180:a;var b=I.prototype.Lb*a;b=b<-Math.PI?-Math.PI:b>Math.PI?Math.PI:b;return new I(a,b)};s("lanyard.geom.Angle.prototype.fromDegreesLongitude",I.prototype.qf,void 0);I.prototype.uf=function(a){a=a<-Math.PI?-Math.PI:a>Math.PI?Math.PI:a;var b=I.prototype.kb*a;b=b<-180?-180:b>180?180:b;return new I(b,a)};s("lanyard.geom.Angle.prototype.fromRadiansLongitude",I.prototype.uf,void 0);
I.prototype.vf=function(a,b){var c=Math.atan2(b,a);return new I(I.prototype.kb*c,c)};s("lanyard.geom.Angle.prototype.fromXY",I.prototype.vf,void 0);I.prototype.add=function(a){return I.prototype.j(this.e+a.e)};s("lanyard.geom.Angle.prototype.add",I.prototype.add,void 0);I.prototype.L=function(a){return I.prototype.j(this.e-a.e)};s("lanyard.geom.Angle.prototype.subtract",I.prototype.L,void 0);I.prototype.multiply=function(a){return I.prototype.j(this.e*a)};
s("lanyard.geom.Angle.prototype.multiply",I.prototype.multiply,void 0);I.prototype.lf=function(a){return this.e/a.e};s("lanyard.geom.Angle.prototype.divideByAngle",I.prototype.lf,void 0);I.prototype.mf=function(a){return I.prototype.j(this.e/a)};s("lanyard.geom.Angle.prototype.divideByDegrees",I.prototype.mf,void 0);I.prototype.af=function(a){return I.prototype.N(this.C+a)};s("lanyard.geom.Angle.prototype.addRadians",I.prototype.af,void 0);I.prototype.nc=function(a){return I.prototype.j(this.e+a)};
s("lanyard.geom.Angle.prototype.addDegrees",I.prototype.nc,void 0);I.prototype.Sg=function(a){return I.prototype.N(this.C-a)};s("lanyard.geom.Angle.prototype.subtractRadians",I.prototype.Sg,void 0);I.prototype.sin=function(){return Math.sin(this.C)};s("lanyard.geom.Angle.prototype.sin",I.prototype.sin,void 0);I.prototype.Qg=function(){return Math.sin(0.5*this.C)};s("lanyard.geom.Angle.prototype.sinHalfAngle",I.prototype.Qg,void 0);I.prototype.asin=function(a){return I.prototype.N(Math.asin(a))};
s("lanyard.geom.Angle.prototype.asin",I.prototype.asin,void 0);I.prototype.cos=function(){return Math.cos(this.C)};s("lanyard.geom.Angle.prototype.cos",I.prototype.cos,void 0);I.prototype.ef=function(){return Math.cos(0.5*this.C)};s("lanyard.geom.Angle.prototype.cosHalfAngle",I.prototype.ef,void 0);I.prototype.acos=function(a){return I.prototype.N(Math.acos(a))};s("lanyard.geom.Angle.prototype.acos",I.prototype.acos,void 0);I.prototype.Xc=function(){return Math.tan(0.5*this.C)};
s("lanyard.geom.Angle.prototype.tanHalfAngle",I.prototype.Xc,void 0);I.prototype.atan=function(a){return I.prototype.N(Math.atan(a))};s("lanyard.geom.Angle.prototype.atan",I.prototype.atan,void 0);I.prototype.fg=function(a,b){return I.prototype.j(0.5*(a.e+b.e))};s("lanyard.geom.Angle.prototype.midAngle",I.prototype.fg,void 0);I.prototype.oc=function(a,b,c){return c?I.prototype.j((a.e+b.e+c.e)/3):I.prototype.j(0.5*(a.e+b.e))};s("lanyard.geom.Angle.prototype.average",I.prototype.oc,void 0);
I.prototype.fa=function(a){if(this.e<a.e)return-1;if(this.e>a.e)return 1;return 0};s("lanyard.geom.Angle.prototype.compareTo",I.prototype.fa,void 0);function oc(a,b){var c=b%180;return c>90?180-c:c<-90?-180-c:c}function pc(a,b){var c=b%360;return c>180?c-360:c<-180?360+c:c}I.prototype.toString=function(){return"This Angle equals "+this.e+" ("+this.C+" radians)."};s("lanyard.geom.Angle.prototype.toString",I.prototype.toString,void 0);function J(a,b,c,d){this.a=a;this.b=b;this.d=c;this.z=d?d:1}s("lanyard.geom.Point",J,void 0);J.prototype.ZERO=new J(0,0,0,1);s("lanyard.geom.Point.prototype.ZERO",J.prototype.ZERO,void 0);J.prototype.Ke=new J(1,0,0,1);s("lanyard.geom.Point.prototype.UNIT_X",J.prototype.Ke,void 0);J.prototype.Le=new J(0,1,0,1);s("lanyard.geom.Point.prototype.UNIT_Y",J.prototype.Le,void 0);J.prototype.Me=new J(0,0,1,1);s("lanyard.geom.Point.prototype.UNIT_Z",J.prototype.Me,void 0);J.prototype.Qf=o("z");
s("lanyard.geom.Point.prototype.getW",J.prototype.Qf,void 0);J.prototype.Cc=o("a");s("lanyard.geom.Point.prototype.getX",J.prototype.Cc,void 0);J.prototype.Dc=o("b");s("lanyard.geom.Point.prototype.getY",J.prototype.Dc,void 0);J.prototype.Rf=o("d");s("lanyard.geom.Point.prototype.getZ",J.prototype.Rf,void 0);J.prototype.translate=function(a){return new J(a.q*this.a+a.g*this.b+a.k*this.d+a.o,a.r*this.a+a.h*this.b+a.l*this.d+a.p,a.s*this.a+a.i*this.b+a.m*this.d+a.t,1)};
s("lanyard.geom.Point.prototype.translate",J.prototype.translate,void 0);J.prototype.add=function(a){return new J(this.a+a.a,this.b+a.b,this.d+a.d,1)};s("lanyard.geom.Point.prototype.add",J.prototype.add,void 0);J.prototype.L=function(a){return new J(this.a-a.a,this.b-a.b,this.d-a.d,1)};s("lanyard.geom.Point.prototype.subtract",J.prototype.L,void 0);J.prototype.multiply=function(a){return new J(this.a*a,this.b*a,this.d*a,1)};s("lanyard.geom.Point.prototype.multiply",J.prototype.multiply,void 0);
J.prototype.scale=function(a,b,c){return this.z?new J(this.a*a,this.b*b,this.d*c,this.z):new J(this.a*a,this.b*b,this.d*c,1)};s("lanyard.geom.Point.prototype.scale",J.prototype.scale,void 0);J.prototype.length=function(){return Math.sqrt(this.oa())};s("lanyard.geom.Point.prototype.length",J.prototype.length,void 0);J.prototype.normalize=function(){var a=1/this.length();return this.scale(a,a,a)};s("lanyard.geom.Point.prototype.normalize",J.prototype.normalize,void 0);
J.prototype.I=function(a){return this.a*a.a+this.b*a.b+this.d*a.d};s("lanyard.geom.Point.prototype.dot",J.prototype.I,void 0);J.prototype.oa=function(){return this.a*this.a+this.b*this.b+this.d*this.d};s("lanyard.geom.Point.prototype.selfDot",J.prototype.oa,void 0);J.prototype.nf=function(a){return this.a*a.a+this.b*a.b+this.d*a.d+this.z*this.z};s("lanyard.geom.Point.prototype.dot4",J.prototype.nf,void 0);
J.prototype.da=function(a){var b=this.a-a.a,c=this.b-a.b;a=this.d-a.d;return Math.sqrt(b*b+c*c+a*a)};s("lanyard.geom.Point.prototype.distanceTo",J.prototype.da,void 0);J.prototype.kf=function(a){var b=this.a-a.a,c=this.b-a.b;a=this.d-a.d;return b*b+c*c+a*a};s("lanyard.geom.Point.prototype.distanceToSquared",J.prototype.kf,void 0);J.prototype.gg=function(a,b){return new J(0.5*(a.a+b.a),0.5*(a.b+b.b),0.5*(a.d+b.d),1)};s("lanyard.geom.Point.prototype.midPoint",J.prototype.gg,void 0);
J.prototype.Rb=function(a,b,c){return new J(a*b.a+c.a,a*b.b+c.b,a*b.d+c.d,1)};s("lanyard.geom.Point.prototype.fromOriginAndDirection",J.prototype.Rb,void 0);J.prototype.df=function(a){if(a.length===0)return[J.prototype.ZERO,J.prototype.ZERO];for(var b=a[0].a,c=a[0].b,d=a[0].d,e=b,f=c,g=d,i=0;i<a.length;i+=1){var k=a[i].a;if(k>e)e=k;else if(k<b)b=k;k=a[i].b;if(k>f)f=k;else if(k<c)c=k;k=a[i].d;if(k>g)g=k;else if(k<d)d=k}return[new J(b,c,d,1),new J(e,f,g,1)]};
s("lanyard.geom.Point.prototype.composeExtrema",J.prototype.df,void 0);J.prototype.ff=function(a){return new J(this.b*a.d-this.d*a.b,this.d*a.a-this.a*a.d,this.a*a.b-this.b*a.a,1)};s("lanyard.geom.Point.prototype.cross",J.prototype.ff,void 0);J.prototype.toString=function(){return"A point with values of x="+this.a+"; y="+this.b+"; z="+this.d+"; w="+this.z+"."};s("lanyard.geom.Point.prototype.toString",J.prototype.toString,void 0);function qc(a,b,c,d,e,f){this.Ia=a;this.lb=b;this.Ra=c;this.Sa=d;this.Pa=e;this.Ta=f}s("lanyard.geom.Frustum",qc,void 0);function rc(a){return a.Ia}qc.prototype.db=function(a){var b=a.Ac();a=-a.Na();if(this.lb.I(b)<=a)return m;if(this.Ra.I(b)<=a)return m;if(this.Sa.I(b)<=a)return m;if(this.Ta.I(b)<=a)return m;if(this.Pa.I(b)<=a)return m;if(this.Ia.I(b)<=a)return m;return j};
qc.prototype.contains=function(a){if(this.lb.I(a)<0)return m;if(this.Ra.I(a)<0)return m;if(this.Sa.I(a)<0)return m;if(this.Ta.I(a)<0)return m;if(this.Pa.I(a)<0)return m;if(this.Ia.I(a)<0)return m;return j};qc.prototype.toString=function(){return"near: "+this.Ia.toString()+"... far: "+this.lb.toString()+"... left: "+this.Ra.toString()+"... right: "+this.Sa.toString()+"... bottom: "+this.Pa.toString()+"... top: "+this.Ta.toString()};function K(a,b){this.md=a;this.Ve=b}s("lanyard.geom.Intersection",K,void 0);K.prototype.toString=function(){var a=this.Ve?" is a tangent.":" not a tangent";return"Intersection Point: "+this.md.toString()+a};function sc(a,b){this.qa=a;this.ia=b}s("lanyard.geom.Line",sc,void 0);function M(a,b){return J.prototype.Rb(b,a.ia,a.qa)}sc.prototype.oa=function(){return this.qa.I(this.ia)};sc.prototype.da=function(a){a=this.qa.L(a);var b=this.ia.multiply(a.I(this.ia)/this.ia.oa()).oa();return Math.sqrt(a.oa()-b)};sc.prototype.toString=function(){return"Origin: "+this.qa.toString()+", Direction: "+this.ia.toString()};function N(a,b,c,d){this.P=new J(a,b,c,d)}function tc(a,b){if(b.oa()===0)h("geom.Plane.VectorIsZero");return new N(b.a,b.b,b.d,b.z)}function uc(a){return a.P.z}N.prototype.I=function(a){return this.P.a*a.a+this.P.b*a.b+this.P.d*a.d+this.P.z*a.z};N.prototype.toString=function(){return this.P.toString()};function O(a,b,c){this.G=a;this.H=b;this.kd=c}p=O.prototype;p.ZERO=new O(I.prototype.ZERO,I.prototype.ZERO,0);p.N=function(a,b,c){return new O(I.prototype.N(a),I.prototype.N(b),c)};p.j=function(a,b,c){return new O(I.prototype.j(a),I.prototype.j(b),c)};p.sf=function(a,b){return new O(a.G,a.H,b)};p.aa=o("kd");p.add=function(a){var b=I.prototype.j(oc(I.prototype,this.G.add(a.G).e)),c=I.prototype.j(pc(I.prototype,this.H.add(a.H).e));return new O(b,c,this.aa()+a.aa())};
p.L=function(a){var b=I.prototype.j(oc(I.prototype,this.G.L(a.G).e)),c=I.prototype.j(pc(I.prototype,this.H.L(a.H).e));return new O(b,c,this.aa()-a.aa())};p.toString=function(){return"A position with a longitude of "+this.H+", a latitude of "+this.G+" and an elevation of "+this.kd};function vc(a,b,c,d){this.c=C("lanyard.globes.EllipsoidalGlobe");this.Q=a;this.Fb=b;this.Xa=c;this.pc=J.prototype.ZERO;this.za=d}s("lanyard.globes.EllipsoidalGlobe",vc,void 0);p=vc.prototype;p.Na=o("Q");p.Ac=o("pc");p.Aa=function(){return this};p.Hc=function(a){return a.db(this)};
p.Gc=function(a){var b=this.Q/this.Fb,c=b*b,d=a.ia.a,e=a.ia.b,f=a.ia.d,g=a.qa.a,i=a.qa.b,k=a.qa.d;b=d*d+c*e*e+1*f*f;d=2*(g*d+c*i*e+1*k*f);c=this.ub(b,d,g*g+c*i*i+1*k*k-this.Q*this.Q);if(c<0)return l;g=Math.sqrt(c);return c===0?[new K(M(a,(-d-g)/(2*b)),j)]:[new K(M(a,(-d-g)/(2*b)),m),new K(M(a,(-d+g)/(2*b)),m)]};p.ub=function(a,b,c){return b*b-4*a*c};p.aa=function(a,b){return this.za?this.za.aa(a,b):0};function wc(a,b){return P(a,b.G,b.H,b.aa())}
function P(a,b,c,d){var e=b.cos();b=b.sin();b=a.Q/Math.sqrt(1-a.Xa*b*b);return new J((b+d)*e*c.sin(),(b*(1-a.Xa)+d)*c.cos(),(b+d)*e*c.cos(),1)}
function xc(a,b){var c=1/(a.Q*a.Q),d=b.d,e=b.a,f=b.b,g=a.Xa,i=g*g,k=d*d+e*e,q=Math.sqrt(k),u=k*c;c=f*f*(1-g)*c;k=1/6*(u+c-i);u=i*u*c/(4*k*k*k);u=Math.pow(1+u+Math.sqrt(u*(2+u)),1/3);k=k*(1+u+1/u);i=Math.sqrt(k*k+i*c);c=g*(k+i-c)/(2*i);i=Math.sqrt(k+i+c*c)-c;c=i*q/(i+g);k=Math.sqrt(c*c+f*f);return O.prototype.N(2*Math.atan2(f,c+k),2*Math.atan2(e,d+q),(i+g-1)*k/i)}p.Yc=function(a){return yc(a.ba()).Yc(a)};function zc(){this.Fb=this.Q=6378137;this.Xa=0.00669437999013;this.pc=J.prototype.ZERO;this.za=l;vc.call(this,this.Q,this.Fb,this.Xa,this.za);this.c=C("lanyard.globes.Earth")}s("lanyard.globes.Earth",zc,void 0);t(zc,vc);zc.prototype.Na=o("Q");function Ac(){this.X=[]}Ac.prototype.add=function(a){this.X.push(a)};Ac.prototype.length=function(){return this.X?this.X.length:0};Ac.prototype.clear=function(){this.X=[]};Ac.prototype.Bc=function(a,b,c){var d;for(d=0;d<this.X.length;d+=1)if(this.X[d].ga().contains(a,b)){var e=this.X[d].Bc(a,b,c);if(e)return e}return l};function Q(a){this.v=this.m=this.h=this.q=1;this.s=this.r=0;this.w=1;this.i=this.g=0;this.n=1;this.l=this.k=0;this.u=1;this.t=this.p=this.o=0;this.ja=j;if(a){this.q=a[0];this.g=a[1];this.k=a[2];this.o=a[3];this.r=a[4];this.h=a[5];this.l=a[6];this.p=a[7];this.s=a[8];this.i=a[9];this.m=a[10];this.t=a[11];this.w=a[12];this.n=a[13];this.u=a[14];this.v=a[15];this.ja=m}}s("lanyard.geom.MatrixFour",Q,void 0);
Q.prototype.toString=function(){var a=this.Tb(),b="MatrixFour : \n[ ",c;for(c=0;c<a.length;c++){b+=a[c]+", ";if(c==3||c==7||c==11||c==14)b+="\n"}b+=" ]";return b};s("lanyard.geom.MatrixFour.prototype.toString",Q.prototype.toString,void 0);Q.prototype.Tb=function(){var a=[];a[0]=this.q;a[1]=this.g;a[2]=this.k;a[3]=this.o;a[4]=this.r;a[5]=this.h;a[6]=this.l;a[7]=this.p;a[8]=this.s;a[9]=this.i;a[10]=this.m;a[11]=this.t;a[12]=this.w;a[13]=this.n;a[14]=this.u;a[15]=this.v;return a};
s("lanyard.geom.MatrixFour.prototype.getEntries",Q.prototype.Tb,void 0);Q.prototype.Ng=function(){this.q=1;this.g=this.w=this.s=this.r=0;this.h=1;this.l=this.k=this.n=this.i=0;this.m=1;this.t=this.p=this.o=this.u=0;this.v=1;this.ja=j};s("lanyard.geom.MatrixFour.prototype.setToIdentity",Q.prototype.Ng,void 0);Q.prototype.$f=o("ja");s("lanyard.geom.MatrixFour.prototype.isOrthonormal",Q.prototype.$f,void 0);Q.prototype.Sc=n("ja");s("lanyard.geom.MatrixFour.prototype.setOrthonormal",Q.prototype.Sc,void 0);
function Bc(a,b){var c=b.cos(),d=b.sin(),e=a.r*-d+a.s*c,f=a.h*c+a.i*d,g=a.h*-d+a.i*c,i=a.l*c+a.m*d,k=a.l*-d+a.m*c,q=a.p*c+a.t*d,u=a.p*-d+a.t*c;a.r=a.r*c+a.s*d;a.s=e;a.h=f;a.i=g;a.l=i;a.m=k;a.p=q;a.t=u;return a}Q.prototype.translate=function(a,b,c){this.w=this.q*a+this.r*b+this.s*c+this.w;this.n=this.g*a+this.h*b+this.i*c+this.n;this.u=this.k*a+this.l*b+this.m*c+this.u;this.v=this.o*a+this.p*b+this.t*c+this.v;return this};Q.prototype.te=function(a){return this.translate(a.a,a.b,a.d)};
s("lanyard.geom.MatrixFour.prototype.translatePoint",Q.prototype.te,void 0);Q.prototype.add=function(a){this.q+=a.q;this.r+=a.r;this.s+=a.s;this.w+=a.w;this.g+=a.g;this.h+=a.h;this.i+=a.i;this.n+=a.n;this.k+=a.k;this.l+=a.l;this.m+=a.m;this.u+=a.u;this.o+=a.o;this.p+=a.p;this.t+=a.t;this.v+=a.v;this.ja=this.ja||a.ja;return this};
Q.prototype.multiply=function(a){var b=this.q*a.r+this.r*a.h+this.s*a.l+this.w*a.p,c=this.q*a.s+this.r*a.i+this.s*a.m+this.w*a.t,d=this.q*a.w+this.r*a.n+this.s*a.u+this.w*a.v,e=this.g*a.q+this.h*a.g+this.i*a.k+this.n*a.o,f=this.g*a.r+this.h*a.h+this.i*a.l+this.n*a.p,g=this.g*a.s+this.h*a.i+this.i*a.m+this.n*a.t,i=this.g*a.w+this.h*a.n+this.i*a.u+this.n*a.v,k=this.k*a.q+this.l*a.g+this.m*a.k+this.u*a.o,q=this.k*a.r+this.l*a.h+this.m*a.l+this.u*a.p,u=this.k*a.s+this.l*a.i+this.m*a.m+this.u*a.t,v=this.k*
a.w+this.l*a.n+this.m*a.u+this.u*a.v,w=this.o*a.q+this.p*a.g+this.t*a.k+this.v*a.o,z=this.o*a.r+this.p*a.h+this.t*a.l+this.v*a.p,ta=this.o*a.s+this.p*a.i+this.t*a.m+this.v*a.t,Y=this.o*a.w+this.p*a.n+this.t*a.u+this.v*a.v;this.q=this.q*a.q+this.r*a.g+this.s*a.k+this.w*a.o;this.r=b;this.s=c;this.w=d;this.g=e;this.h=f;this.i=g;this.n=i;this.k=k;this.l=q;this.m=u;this.u=v;this.o=w;this.p=z;this.t=ta;this.v=Y;this.Zf=this.Zf||a.ja;return this};
function Cc(a){var b;if(a.ja){b=new Q(l);b.q=a.q;b.r=a.g;b.s=a.k;b.g=a.r;b.h=a.h;b.i=a.l;b.k=a.s;b.l=a.i;b.m=a.m;b.w=-(b.q*a.w+b.r*a.n+b.s*a.u);b.n=-(b.g*a.w+b.h*a.n+b.i*a.u);b.u=-(b.k*a.w+b.l*a.n+b.m*a.u);b=b}else{b=a.q*(a.h*a.m*a.v+a.i*a.u*a.p+a.n*a.l*a.t-a.n*a.m*a.p-a.h*a.u*a.t-a.i*a.l*a.v)-a.r*(a.g*a.m*a.v+a.i*a.u*a.o+a.n*a.k*a.t-a.n*a.m*a.o-a.g*a.u*a.t-a.i*a.k*a.v)+a.s*(a.g*a.l*a.v+a.h*a.u*a.o+a.n*a.k*a.p-a.n*a.l*a.o-a.g*a.u*a.p-a.h*a.k*a.v)-a.w*(a.g*a.l*a.t+a.h*a.m*a.o+a.i*a.k*a.p-a.i*a.l*a.o-
a.g*a.m*a.p-a.h*a.k*a.t);if(b===0)b=l;else{b=1/b;var c=new Q(l),d=a.m*a.v-a.u*a.t,e=a.u*a.p-a.l*a.v,f=a.l*a.t-a.m*a.p,g=a.i*a.v-a.n*a.t,i=a.n*a.p-a.h*a.v,k=a.i*a.u-a.n*a.m,q=a.h*a.m-a.i*a.l,u=a.u*a.o-a.k*a.v,v=a.k*a.t-a.m*a.o,w=a.n*a.o-a.g*a.v,z=a.n*a.k-a.g*a.u,ta=a.l*a.v-a.u*a.p,Y=a.k*a.p-a.l*a.o,L=a.g*a.p-a.h*a.o,Qa=a.g*a.l-a.h*a.k,ua=a.m*a.o-a.k*a.t;c.q=b*a.h*d+a.i*e+a.n*f;c.r=-b*a.r*d+a.s*e+a.w*f;c.s=b*a.r*g+a.s*(a.n*a.p-a.h*a.v)+a.w*i;c.w=-b*a.r*k+a.s*(a.n*a.l-a.h*a.u)+a.w*q;c.g=-b*a.g*d+a.i*
u+a.n*v;c.h=b*a.q*d+a.s*u+a.w*v;c.i=-b*a.q*g+a.s*w+a.w*(a.g*a.t-a.i*a.o);c.n=-b*a.q*k+a.s*z+a.w*(a.g*a.m-a.i*a.k);c.k=b*a.g*ta+a.h*u+a.n*Y;c.l=-b*a.q*ta+a.r*u+a.w*Y;c.m=-b*a.q*(a.h*a.v-a.n*a.p)+a.r*w+a.w*L;c.u=b*a.q*(a.h*a.u-a.n*a.l)+a.r*z+a.w*Qa;c.o=-b*a.g*f+a.h*ua+a.i*Y;c.p=-b*a.q*f+a.r*ua+a.s*Y;c.t=b*a.q*i+a.r*(a.i*a.o-a.g*a.t)+a.s*L;c.v=-b*a.q*q+a.r*(a.i*a.k-a.g*a.m)+a.s*Qa;b=c}}b=b;b.Sc(a.ja);return b}
Q.prototype.transform=function(a){return new J(this.q*a.a+this.r*a.b+this.s*a.d+this.w*a.z,this.g*a.a+this.h*a.b+this.i*a.d+this.n*a.z,this.k*a.a+this.l*a.b+this.m*a.d+this.u*a.z,this.o*a.a+this.p*a.b+this.t*a.d+this.v*a.z)};Q.prototype.wf=o("q");s("lanyard.geom.MatrixFour.prototype.get11",Q.prototype.wf,void 0);Q.prototype.xg=n("q");s("lanyard.geom.MatrixFour.prototype.set11",Q.prototype.xg,void 0);Q.prototype.Bf=o("h");s("lanyard.geom.MatrixFour.prototype.get22",Q.prototype.Bf,void 0);
Q.prototype.Cg=n("h");s("lanyard.geom.MatrixFour.prototype.set22",Q.prototype.Cg,void 0);Q.prototype.Gf=o("m");s("lanyard.geom.MatrixFour.prototype.get33",Q.prototype.Gf,void 0);Q.prototype.Hg=n("m");s("lanyard.geom.MatrixFour.prototype.set33",Q.prototype.Hg,void 0);Q.prototype.Lf=o("v");s("lanyard.geom.MatrixFour.prototype.get44",Q.prototype.Lf,void 0);Q.prototype.Mg=n("v");s("lanyard.geom.MatrixFour.prototype.set44",Q.prototype.Mg,void 0);Q.prototype.xf=o("r");
s("lanyard.geom.MatrixFour.prototype.get12",Q.prototype.xf,void 0);Q.prototype.yg=n("r");s("lanyard.geom.MatrixFour.prototype.set12",Q.prototype.yg,void 0);Q.prototype.yf=o("s");s("lanyard.geom.MatrixFour.prototype.get13",Q.prototype.yf,void 0);Q.prototype.zg=n("s");s("lanyard.geom.MatrixFour.prototype.set13",Q.prototype.zg,void 0);Q.prototype.zf=o("w");s("lanyard.geom.MatrixFour.prototype.get14",Q.prototype.zf,void 0);Q.prototype.Ag=n("w");
s("lanyard.geom.MatrixFour.prototype.set14",Q.prototype.Ag,void 0);Q.prototype.Af=o("g");s("lanyard.geom.MatrixFour.prototype.get21",Q.prototype.Af,void 0);Q.prototype.Bg=n("g");s("lanyard.geom.MatrixFour.prototype.set21",Q.prototype.Bg,void 0);Q.prototype.Cf=o("i");s("lanyard.geom.MatrixFour.prototype.get23",Q.prototype.Cf,void 0);Q.prototype.Dg=n("i");s("lanyard.geom.MatrixFour.prototype.set23",Q.prototype.Dg,void 0);Q.prototype.Df=o("n");
s("lanyard.geom.MatrixFour.prototype.get24",Q.prototype.Df,void 0);Q.prototype.Eg=n("n");s("lanyard.geom.MatrixFour.prototype.set24",Q.prototype.Eg,void 0);Q.prototype.Ef=o("k");s("lanyard.geom.MatrixFour.prototype.get31",Q.prototype.Ef,void 0);Q.prototype.Fg=n("k");s("lanyard.geom.MatrixFour.prototype.set31",Q.prototype.Fg,void 0);Q.prototype.Ff=o("l");s("lanyard.geom.MatrixFour.prototype.get32",Q.prototype.Ff,void 0);Q.prototype.Gg=n("l");
s("lanyard.geom.MatrixFour.prototype.set32",Q.prototype.Gg,void 0);Q.prototype.Hf=o("u");s("lanyard.geom.MatrixFour.prototype.get34",Q.prototype.Hf,void 0);Q.prototype.Ig=n("u");s("lanyard.geom.MatrixFour.prototype.set34",Q.prototype.Ig,void 0);Q.prototype.If=o("o");s("lanyard.geom.MatrixFour.prototype.get41",Q.prototype.If,void 0);Q.prototype.Jg=n("o");s("lanyard.geom.MatrixFour.prototype.set41",Q.prototype.Jg,void 0);Q.prototype.Jf=o("p");
s("lanyard.geom.MatrixFour.prototype.get42",Q.prototype.Jf,void 0);Q.prototype.Kg=n("p");s("lanyard.geom.MatrixFour.prototype.set42",Q.prototype.Kg,void 0);Q.prototype.Kf=o("t");s("lanyard.geom.MatrixFour.prototype.get43",Q.prototype.Kf,void 0);Q.prototype.Lg=n("t");s("lanyard.geom.MatrixFour.prototype.set43",Q.prototype.Lg,void 0);function Dc(a,b,c,d){this.b=this.a=b;this.od=c;this.Ue=d}Dc.prototype.Cc=o("a");Dc.prototype.Dc=o("b");Dc.prototype.bb=o("Ue");function Ec(a,b,c){this.ma=a;this.Oa=b;this.gf=this.ma.da(this.Oa);this.Va=c;this.pd=this.Oa.L(this.ma).normalize()}s("lanyard.geom.Cylinder",Ec,void 0);p=Ec.prototype;p.toString=function(){return this.Va+", "+this.ma.toString()+", "+this.Oa.toString()+", "+this.pd.toString()};
p.Gc=function(a){var b=a.ia,c=a.qa,d=b.a*b.a+b.b*b.b;b=2*(c.a*b.a+c.b*b.b);c=Ec.prototype.ub(d,b,c.a*c.a+c.b*c.b-this.Va*this.Va);if(c<0)return l;var e=Math.sqrt(c);if(c===0)return[new K(M(a,(-b-e)/(2*d)),j)];else{c=M(a,(-b-e)/(2*d));a=M(a,(-b+e)/(2*d));var f=e=b=d=m;if(c.d>=0&&c.d<=this.bb()){d=j;e=c.d===0}if(a.d>=0&&a.d<=this.bb()){b=j;f=a.d===0}var g=l;if(d&&b)g=[new K(c,e),new K(a,f)];else if(d)g=[new K(c,e)];else if(b)g=[new K(a,f)];return g}};p.ub=function(a,b,c){return b*b-4*a*c};
function Fc(a,b,c,d){var e=b.I(a.ma)<=-c,f;f=d<1?a.ma.add(a.Oa.L(a.ma).multiply(d)):a.Oa;var g=b.I(f)<=-c;if(e&&g)return-1;if(e===g)return d;return(c+b.I(a.ma))/(new J(b.P.a,b.P.b,b.P.d,1)).I(a.ma.L(f))}function Gc(a,b){var c=(new J(b.P.a,b.P.b,b.P.d,1)).I(a.pd);c=1-c*c;return c<=0?0:a.Va*Math.sqrt(c)}
p.Hc=function(a){var b,c=Gc(this,a.Ia);b=Fc(this,a.Ia,c,1);if(b<0)return m;b=Fc(this,a.lb,c,b);if(b<0)return m;c=Gc(this,a.Ra);b=Fc(this,a.Ra,c,b);if(b<0)return m;c=Gc(this,a.Sa);b=Fc(this,a.Sa,c,b);if(b<0)return m;c=Gc(this,a.Ta);b=Fc(this,a.Ta,c,b);if(b<0)return m;c=Gc(this,a.Pa);b=Fc(this,a.Pa,c,b);return b>=0};p.Ac=function(){var a=this.ma,b=this.Oa;return new J(0.5*(a.a+b.a),0.5*(a.b+b.b),0.5*(a.d+b.d),1)};p.Na=function(){var a=0.5*this.ma.da(this.Oa);return Math.sqrt(a*a+this.Va*this.Va)};
p.bb=o("gf");p.ua=function(){};function R(a,b,c,d){this.a=a;this.b=b;this.d=c;this.z=d;this.ld=1.0E-4}p=R.prototype;p.toString=function(){return"("+this.a+", "+this.b+", "+this.d+", "+this.z+")"};function Hc(a,b,c,d){a=Math.cos(b*0.5);var e=Math.cos(c*0.5),f=Math.cos(d*0.5);b=Math.sin(b*0.5);c=Math.sin(c*0.5);d=Math.sin(d*0.5);return new R(b*e*f-a*c*d,a*c*f+b*e*d,a*e*d-b*c*f,a*e*f+b*c*d)}p.add=function(a,b){return new R(a.a+b.a,a.b+b.b,a.d+b.d,a.z+b.z)};p.L=function(a,b){return new R(a.a-b.a,a.b-b.b,a.d-b.d,a.z-b.z)};
p.multiply=function(a,b){return new R(a.a*b.z+a.b*b.d-a.d*b.b,a.b*b.z+a.d*b.a-a.a*b.d,a.d*b.z+a.a*b.b-a.b*b.a,-a.a*b.a-a.b*b.b-a.d*b.d)};p.abs=function(a){return Math.sqrt(a.a*a.a+a.b*a.b+a.d*a.d+a.z*a.z)};p.I=function(a,b){return a.a*b.a+a.b*b.b+a.d*b.d+a.z*b.z};p.normalize=function(){var a=this.length();return new R(this.a/a,this.b/a,this.d/a,this.z/a)};p.length=function(){return Math.sqrt(this.a*this.a+this.b*this.b+this.d*this.d+this.z*this.z)};
p.exp=function(a){var b,c=Math.sqrt(a.a*a.a+a.b*a.b+a.d*a.d);b=Math.abs(c)<this.ld?1:Math.sin(c)/c;return new R(a.a*b,a.b*b,a.d*b,Math.cos(c))};function S(a,b){this.c=C("lanyard.geom.LatLon");a||B(this.c,"Attempted to create a LatLon with invalid latitude.");b||B(this.c,"Attempted to create a LatLon with invalid longitude.");this.G=a;this.H=b}s("lanyard.geom.LatLon",S,void 0);S.prototype.N=function(a,b){return new S(I.prototype.N(a),I.prototype.N(b))};S.prototype.j=function(a,b){return new S(I.prototype.j(a),I.prototype.j(b))};
S.prototype.Gd=function(a,b,c){if(a<0)return b;else if(a>1)return c;var d;b=Hc(R.prototype,b.H.C,b.G.C,0);var e=Hc(R.prototype,c.H.C,c.G.C,0),f=b.a*e.a+b.b*e.b+b.d*e.d+b.z*e.z,g;if(f<0){f=-f;c=-e.a;d=-e.b;g=-e.d;e=-e.z}else{c=e.a;d=e.b;g=e.d;e=e.z}if(1-f>R.prototype.ld){var i=Math.acos(f),k=Math.sin(i);f=Math.sin((1-a)*i)/k;a=Math.sin(a*i)/k}else{f=1-a;a=a}d=new R(f*b.a+a*c,f*b.b+a*d,f*b.d+a*g,f*b.z+a*e);a=d.z;b=d.a;c=d.b;d=d.d;a=new J(Math.atan2(2*(c*d+a*b),a*a-b*b-c*c+d*d),Math.asin(-2*(b*d-a*c)),
Math.atan2(2*(b*c+a*d),a*a+b*b-c*c-d*d),1);if(isNaN(a.a)||isNaN(a.b))return l;return S.prototype.N(a.b,a.a)};S.prototype.toString=function(){return"("+this.G.toString()+", "+this.H.toString()+")"};function Ic(a,b){this.hd=a;this.Mb=b}s("lanyard.geom.Sphere",Ic,void 0);Ic.prototype.Je=new Ic(J.prototype.ZERO,1);s("lanyard.geom.Sphere.prototype.UNIT_SPHERE",Ic.prototype.Je,void 0);p=Ic.prototype;p.Na=o("Mb");p.Ac=o("hd");p.ub=function(a,b,c){return b*b-4*a*c};p.Gc=function(a){var b=a.ia.oa(),c=2*a.oa(),d=Ic.prototype.ub(b,c,a.qa.oa()-this.Mb*this.Mb);if(d<0)return l;var e=Math.sqrt(d);return d===0?[new K(M(a,(-c-e)/(2*b)),j)]:[new K(M(a,(-c-e)/(2*b)),m),new K(M(a,(-c+e)/(2*b)),m)]};p.Hc=function(a){return a.db(this)};
p.ua=function(){};p.toString=function(){return"Sphere: center = "+this.hd.toString()+" radius = "+this.Mb};function T(a,b,c,d){this.A=a;this.J=b;this.B=c;this.K=d;this.jc=I.prototype.j(this.J.e-this.A.e);this.jd=I.prototype.j(this.K.e-this.B.e)}s("lanyard.geom.Sector",T,void 0);p=T.prototype;p.He=new T(I.prototype.fc,I.prototype.hc,I.prototype.ec,I.prototype.gc);p.j=function(a,b,c,d){return new T(I.prototype.j(a),I.prototype.j(b),I.prototype.j(c),I.prototype.j(d))};p.N=function(a,b,c,d){return new T(I.prototype.N(a),I.prototype.N(b),I.prototype.N(c),I.prototype.N(d))};
function Jc(a){var b=I.prototype.j(0.5*(a.J.e+a.A.e));a=I.prototype.j(0.5*(a.K.e+a.B.e));return new S(b,a)}function Kc(a,b,c,d){a=Jc(d);var e=(b.za?b.za.wh():0)*c;c=P(b,a.G,a.H,e);var f=P(b,d.A,d.B,0);a=c.normalize();f=a.I(f);a=a.scale(f,f,f);f=P(b,d.J,d.B,e);var g=P(b,d.A,d.K,e),i=P(b,d.A,d.B,e);e=P(b,d.J,d.K,e);b=i.da(g);d=g.da(e);e=e.da(f);f=f.da(i);i=0.5*(b+d+e+f);return new Ec(a,c,Math.sqrt((b*d+e*f)*(b*f+d*e)*(b*e+d*f))/(4*Math.sqrt((i-b)*(i-d)*(i-e)*(i-f))))}
p.contains=function(a,b){return a.e>=this.A.e&&a.e<=this.J.e&&b.e>=this.B.e&&b.e<=this.K.e};p.db=function(a){if(!a)return m;if(a.K.e<this.B.e)return m;if(a.B.e>this.K.e)return m;if(a.J.e<this.A.e)return m;if(a.A.e>this.J.e)return m;return j};p.toString=function(){return"A Sector with angles: ("+this.A.toString()+", "+this.B.toString()+"), ("+this.J.toString()+", "+this.K.toString()+")"};
p.fa=function(a){if(this.A.fa(a.A)<0)return-1;if(this.A.fa(a.A)>0)return 1;if(this.B.fa(a.B)<0)return-1;if(this.B.fa(a.B)>0)return 1;if(this.J.fa(a.J)<0)return-1;if(this.J.fa(a.J)>0)return 1;if(this.K.fa(a.K)<0)return-1;if(this.K.fa(a.K)>0)return 1;return 0};function Lc(a,b,c,d,e,f){this.ca=a;this.Z=b;this.Ug=c;this.Pc=d;this.Fd=Mc(f,this.ca);this.tg=e}s("lanyard.globes.RenderInfo",Lc,void 0);function U(a,b,c,d){this.c=C("lanyard.globes.RectTile");this.Ub=this.ac=this.Zb=l;this.nh=this.oh=0;this.mb=a;this.pb=b;this.wa=c;this.$=d;this.Qe=Kc(T.prototype,a,1,this.$);a=d.jc.C*a.Na()/c;this.Xe=Math.log(a)/Math.LN10;this.M=l;this.qb={};this.nb={}}p=U.prototype;p.ga=o("$");p.Aa=o("Qe");
p.split=function(a,b){var c=this.$,d=I.prototype.oc(c.A,c.J,l),e=I.prototype.oc(c.B,c.K,l),f=[];f[0]=new T(c.A,d,c.B,e);f[1]=new T(c.A,d,e,c.K);f[2]=new T(d,c.J,c.B,e);f[3]=new T(d,c.J,e,c.K);c=[];c[0]=new U(this.mb,b.pb+1,this.wa,f[0]);c[1]=new U(this.mb,b.pb+1,this.wa,f[1]);c[2]=new U(this.mb,b.pb+1,this.wa,f[2]);c[3]=new U(this.mb,b.pb+1,this.wa,f[3]);return c};
p.ua=function(a){var b=Mc(this,this.M.ca),c=a.f;Nc(a.T(),a,this.M.Pc);if(this.Zb)c.bindBuffer(c.ARRAY_BUFFER,this.Zb);else{this.Zb=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.Zb);c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.M.Z),c.STATIC_DRAW)}c.enableVertexAttribArray(a.U.getAttribLocation("aVertexPosition"));c.vertexAttribPointer(a.U.getAttribLocation("aVertexPosition"),3,c.FLOAT,m,0,0);if(this.ac)c.bindBuffer(c.ARRAY_BUFFER,this.ac);else{this.ac=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,
this.ac);c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.M.Ug),c.STATIC_DRAW)}c.enableVertexAttribArray(a.U.getAttribLocation("aTextureCoord0"));c.vertexAttribPointer(a.U.getAttribLocation("aTextureCoord0"),2,c.FLOAT,m,0,0);if(this.Ub)c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Ub);else{this.Ub=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,this.Ub);c.bufferData(c.ELEMENT_ARRAY_BUFFER,new Uint16Array(b),c.STATIC_DRAW)}c.drawElements(c.TRIANGLE_STRIP,this.M.Fd.length,c.UNSIGNED_SHORT,0);Oc(a.T(),
a);return this.M.Fd.length-2};p.Bc=function(a,b,c){if(!this.$.contains(a,b))return l;if(!this.M)return l;var d=this.$.A.e,e=this.$.B.e;b=(b.e-e)/(this.$.K.e-e);a=(a.e-d)/(this.$.J.e-d);d=a*this.wa;e=b*this.wa;var f=this.M.ca,g=e/f,i=this.M.ca,k=d/i;b=U.prototype.Gd(d,e,(b-g)/((e+1)/f-g),(a-k)/((d+1)/i-k),this.M);b=b.add(this.M.Pc);if(c!==0){b=b;a=this.mb;d=b;d=d.L(a.pc);a=(new J(d.a/(a.Q*a.Q),d.b/(a.Fb*a.Fb),d.d/(a.Q*a.Q),1)).normalize();b=b=J.prototype.Rb(c,a,b)}return b};
p.Gd=function(a,b,c,d,e){a++;b++;var f=e.ca+3,g=a*f+b;g*=3;a=new J(e.Z[g],e.Z[g+1],e.Z[g+2],1);b=new J(e.Z[g+3],e.Z[g+4],e.Z[g+5],1);g+=f*3;f=new J(this.M.Z[g+3],this.M.Z[g+4],this.M.Z[g+5],1);e=new J(e.Z[g],e.Z[g+1],e.Z[g+2],1);g=c+d;if(g===1)d=new J(e.a*d+b.a*c,e.b*d+b.b*c,e.d*d+b.d*c,1);else if(g>1){c=e.L(f).multiply(1-c);d=b.L(f).multiply(1-d);d=f.add(c).add(d)}else{c=b.L(a).multiply(c);d=e.L(a).multiply(d);d=a.add(c).add(d)}return d};
p.toString=function(){return"level "+this.pb+", density "+this.wa+", sector "+this.$};
function Pc(a,b){if(b<1)b=1;if(a&&a.qb&&a.qb.ca)return a.qb.ca;var c=[],d=1/b,e=2*(b+3),f;for(f=0;f<b;f+=1){var g=f*d;c[e++]=0;c[e++]=g;var i;for(i=0;i<b;i+=1){c[e++]=i*d;c[e++]=g}c[e++]=0.999999;c[e++]=g;c[e++]=0.999999;c[e++]=g}c[e++]=0;c[e++]=0.999999;for(f=0;f<b;f+=1){c[e++]=f*d;c[e++]=0.999999}c[e++]=0.999999;c[e++]=0.999999;c[e++]=0.999999;c[e++]=0.999999;d=e-2*(b+3);for(f=0;f<b+3;f+=1){c[e++]=c[d++];c[e++]=c[d++]}e=0;d=2*(b+3);for(f=0;f<b+3;f+=1){c[e++]=c[d++];c[e++]=c[d++]}if(a.qb)a.qb.ca=
c;return c}function Mc(a,b){if(b<1)b=1;if(a.nb&&a.nb.ca)return a.nb.ca;var c=b+2,d=[],e=0,f;for(f=0;f<c;f+=1){d.push(e);if(f>0){d.push(++e);d.push(e)}if(f%2===0){d.push(++e);var g;for(g=0;g<c;g+=1){e+=c;d.push(e);d.push(++e)}}else{d.push(--e);for(g=0;g<c;g++){e-=c;d.push(e);d.push(--e)}}}if(a.nb)a.nb.ca=d;return d};function Qc(a){this.c=C("lanyard.globes.EllipsoidRectangularTessellator");for(var b=[],c=I.prototype.fc,d=0;d<5;d+=1){var e=c.nc(36);if(e.e+1>90)e=I.prototype.hc;for(var f=I.prototype.ec,g=0;g<10;g+=1){var i=f.nc(36);if(i.e+1>180)i=I.prototype.gc;f=new U(a,0,Qc.prototype.xe,new T(c,e,f,i));b.push(f);f=i}c=e}this.oe=b;this.dg=12;this.tb=new Ac;this.td=l;this.Ob=0;this.va=l;this.ca=24}p=Qc.prototype;p.xe=24;p.ye=1.3;p.ga=o("va");
p.Yc=function(a){a||B(this.c,"Attempted to tessellate without a valid draw context.");this.tb.clear();this.Ob=0;this.va=l;var b=a.T();b.V||B(b.c,"Attempted to compute a model-view coordinate frustum without a valid state matrix.");if(!b.Sb&&b.V){var c=b.ab();if(c){var d=b.V,e=new Q(l);e.q=d.q;e.r=d.g;e.s=d.k;e.w=d.o;e.g=d.r;e.h=d.h;e.i=d.l;e.n=d.p;e.k=d.s;e.l=d.i;e.m=d.m;e.u=d.t;e.o=d.w;e.p=d.n;e.t=d.u;e.v=d.v;e.Sc(d.ja);d=tc(N.prototype,e.transform(c.Ia.P));var f=tc(N.prototype,e.transform(c.lb.P)),
g=tc(N.prototype,e.transform(c.Ra.P)),i=tc(N.prototype,e.transform(c.Sa.P)),k=tc(N.prototype,e.transform(c.Pa.P));c=tc(N.prototype,e.transform(c.Ta.P));b.Sb=new qc(d,f,g,i,k,c)}else B(b.c,"Frustum for conversion to model coordinates was invalid.")}this.td=b.Sb;for(b=0;b<this.oe.length;b+=1)Rc(this,a,this.oe[b]);a.bd=this.ga();for(b=0;b<this.tb.length();b+=1){d=this.tb.X[b];if(!(d.M&&d.M.tg>=0)){e=c=d;d=d.wa;f=[];var q=a.Y(),u=e.$.A.C;g=e.$.J.C;i=(g-u)/d;k=e.$.B.C;var v=e.$.K.C,w=(v-k)/d;u=u;var z=
(q.za?q.za.xh():0)*a.Ba(),ta=q.Q,Y=q.Xa,L=Jc(e.$);q=wc(q,new O(L.G,L.H,0));L=void 0;for(L=0;L<=d+2;L+=1){var Qa=Math.cos(u),ua=Math.sin(u),bc=ta/Math.sqrt(1-Y*ua*ua),rb=k,ia;for(ia=0;ia<=d+2;ia+=1){var sb=0;if(L===0||L>=d+2||ia===0||ia>=d+2)sb-=z>=0?z:-z;f=f.concat([(bc+sb)*Qa*Math.sin(rb)-q.a,(bc*(1-Y)+sb)*ua-q.b,(bc+sb)*Qa*Math.cos(rb)-q.d]);if(ia>d)rb=v;else if(ia!==0)rb+=w}if(L>d)u=g;else if(L!==0)u+=i}e=new Lc(d,f,Pc(e,d),q,0,e);c.M=e}}return this.tb};
function Rc(a,b,c){if(c.Aa().Hc(a.td)){var d;if(d=a.Ob<a.dg){if(!c||!c.ga())a.c.error("Attempted to perform a split check on an invalid tile.");var e=c.ga(),f=b.Y();d=[];var g=e.A,i=e.J,k=e.B;e=e.K;d[0]=P(f,g,k,f.aa(g,k));d[1]=P(f,g,e,f.aa(g,e));d[2]=P(f,i,e,f.aa(i,e));d[3]=P(f,i,k,f.aa(i,k));i=c.ga();f=b.Y();g=0.5*(i.B.e+i.K.e);i=I.prototype.j(0.5*(i.A.e+i.J.e));g=I.prototype.j(g);k=P(f,i,g,f.aa(i,g));e=b.T();i=Sc(e).da(d[0]);f=Sc(e).da(d[1]);g=Sc(e).da(d[2]);d=Sc(e).da(d[3]);k=Sc(e).da(k);i=i;if(f<
i)i=f;if(g<i)i=g;if(d<i)i=d;if(k<i)i=k;d=!(c.Xe<=Math.log(i)/Math.log(10)-Qc.prototype.ye)}if(d){++a.Ob;c=c.split(b,c);for(d=1;d<c.length;d+=1)Rc(a,b,c[d]);--a.Ob}else{b=c.ga();if(d=a.va){f=b.A;g=b.J;i=b.B;k=b.K;if(d.A.e<b.A.e)f=d.A;if(d.J.e>b.J.e)g=d.J;if(d.B.e<b.B.e)i=d.B;if(d.K.e>b.K.e)k=d.K;b=new T(f,g,i,k)}else b=b;a.va=b;a.tb.add(c)}}}p.toString=function(){var a=Pc(U.prototype,5),b=Mc(U.prototype,5),c="",d;for(d=0;d<b.length;d+=1){var e=b[d];c+=e+": "+a[2*e]+", "+a[2*e+1]}return c};function Tc(){this.ka=new zc;this.Zc=l;this.Jc=[];this.ee=this.fe=this.Vc=m;this.Jc=[]}Tc.prototype.Y=o("ka");Tc.prototype.xb=o("Jc");function yc(a){if(!a.Zc&&a.ka)a.Zc=new Qc(a.ka);return a.Zc}Tc.prototype.Aa=function(){var a=this.xb();if(a){var b;for(b=0;b<a.length;b+=1){var c=a[b];if(typeof c.Aa==="function")if(c=c.Aa())return c}}if(a=this.Y())if(a=a.Aa())return a;return l};function Uc(a,b){this.Se=a;this.Ye=b}s("lanyard.geom.ViewFrustum",Uc,void 0);Uc.prototype.rf=function(a,b,c,d,e){var f=e-d;a=1/a.Xc();b=c/b;c=Math.sqrt(a*a+1);var g=Math.sqrt(a*a+b*b);return new Uc(new qc(new N(0,0,-1,0-d),new N(0,0,1,e),new N(a/c,0,0-1/c,0),new N(0-a/c,0,0-1/c,0),new N(0,a/g,0-b/g,0),new N(0,0-a/g,0-b/g,0)),new Q([a,0,0,0,0,a/b,0,0,0,0,0-(e+d)/f,-1,0,0,0-2*e*d/f,0]))};Uc.prototype.ab=o("Se");Uc.prototype.Cd=o("Ye");function Vc(){}Vc.prototype.bc=function(a,b,c,d,e,f){d=Cc(d.multiply(e));return(new J(2*(a-f[0])/f[2]-1,2*(b-f[1])/f[3]-1,2*c-1,1)).translate(d)};function Wc(){this.sa=[]}Wc.prototype.Ud=function(){if(!this.sa||this.sa.length<1)return l;return this.sa[this.sa.length-1]};Wc.prototype.pop=function(){return this.sa?this.sa.pop():l};Wc.prototype.push=function(a){if(this.sa)this.sa.push(a);else this.sa=[a]};function Xc(){this.c=C("lanyard.BasicOrbitView");this.gh=0;this.hh=180*(new Date).getTimezoneOffset()/432E5;this.Ge=6E6;this.Fe=0;this.De=+Infinity;this.Ae=j;this.Ee=this.ih=this.fh=0;this.Ce=90;this.ze=j;this.Be=45;this.viewport=this.$b=this.V=l;this.Ad=I.prototype.j(this.Be);this.ka=l;this.dc=-1;this.Sb=this.forward=this.Xg=this.Qb=l;this.Vf=this.pg=-1;this.Bh=[];this.Nh=[];this.Za=I.prototype.j(0);this.$a=I.prototype.j(180*(new Date).getTimezoneOffset()/432E5);this.Ya=this.Ge;this.na=I.prototype.j(0);
this.pitch=I.prototype.j(0);this.altitude=0;this.Lc=this.Fe;this.Kc=this.De;this.uh=this.Ae;this.ig=I.prototype.j(this.Ee);this.eg=I.prototype.j(this.Ce);this.th=this.ze;this.ib=l;this.rb=0;this.Jd=m;this.Pd=new Wc}
function Yc(a,b,c,d,e,f,g){a=new Q(l);a.translate(0,0,-e);Bc(a,g.multiply(-1));e=f.cos();f=f.sin();g=a.q*-f+a.r*e;var i=a.g*e+a.h*f,k=a.g*-f+a.h*e,q=a.k*e+a.l*f,u=a.k*-f+a.l*e,v=a.o*e+a.p*f,w=a.o*-f+a.p*e;a.q=a.q*e+a.r*f;a.r=g;a.g=i;a.h=k;a.k=q;a.l=u;a.o=v;a.p=w;a.translate(0,0,-d);Bc(a,b);c=c.multiply(-1);b=c.cos();c=c.sin();d=a.q*c+a.s*b;e=a.g*b+a.i*-c;f=a.g*c+a.i*b;g=a.k*b+a.m*-c;i=a.k*c+a.m*b;k=a.o*b+a.t*-c;q=a.o*c+a.t*b;a.q=a.q*b+a.s*-c;a.s=d;a.g=e;a.i=f;a.k=g;a.m=i;a.o=k;a.t=q;return a}
Xc.prototype.ab=function(){if(!this.ib){B(this.c,"Attempted to get a null frustum from the view.");return l}return this.ib.ab()};function Zc(a,b){var c=[a.ig,a.eg];if(b.fa(c[0])<0)a.pitch=c[0];else if(b.fa(c[1])>0)a.pitch=c[1];a.pitch=b;return a.pitch}function $c(a,b){var c=b,d=[Math.max(a.Lc,a.rb),a.Kc];if(c<d[0])c=d[0];else if(c>d[1])c=d[1];return c}
Xc.prototype.bc=function(a){if(!this.V||!this.$b||!this.viewport)return l;return Vc.prototype.bc(a.a,a.b,a.d,this.V,this.$b,[this.viewport.a,this.viewport.b,this.viewport.od,this.viewport.bb()])};function ad(a,b,c){if(a.viewport){var d=a.viewport.bb()-c-1;c=a.bc(new J(b,d,0,0));b=a.bc(new J(b,d,1,0));b=!c||!b?l:new sc(c,b.L(c).normalize())}else b=l;if(!b)return l;if(!a.ka)return l;a=a.ka;b=a.Gc(b);a=b===l?l:xc(a,b[0].md);return a}function Oc(a,b){a.V=a.Pd.pop();bd(b,"uMVMatrix",a.V);return a.V}
function Sc(a){if(!a.Qb&&a.V){var b=Cc(a.V);if(b)a.Qb=b.transform(new J(0,0,0,1))}return a.Qb}Xc.prototype.Cd=o("$b");
Xc.prototype.apply=function(a){this.ka=a.Y();this.dc=a.Ba();this.Sb=this.forward=this.Xg=this.Qb=l;this.Vf=this.pg=-1;if(!this.Jd){var b=a.Y();this.Lc=this.rb=1;this.Kc=b?6*b.Na():+Infinity;if(b)this.Ya=$c(this,3*b.Na());this.Jd=j}if(b=a.Y()){var c=wc(b,new O(this.Za,this.$a,0)),d=Yc(this,this.Za,this.$a,c.length(),this.Ya,this.na,this.pitch),e=Cc(d).transform(new J(0,0,0,1)),f=xc(b,e),g;g=f.G;f=f.H;var i=l,k=a.Ha;if(k)i=k.Bc(g,f,0);if(!i)if(k=a.Y())i=wc(k,new O(g,f,a.Ba()*k.aa(g,f)));g=i;if(g){g=
e.length()-this.rb-g.length();if(g<0){this.c.log(A,"Distance to surface was less than 0.",void 0);f=e.normalize();g=J.prototype.Rb(e.length()-g,f,J.prototype.ZERO);e=e.L(c);g=g.L(c);e=e.I(g)/(e.length()*g.length());if(e>=-1&&e<=1){this.pitch=Zc(this,this.pitch.L(I.prototype.N(Math.acos(e))));this.Ya=$c(this,g.length());d=Yc(Xc.prototype,this.Za,this.$a,c.length(),this.Ya,this.na,this.pitch)}}}e=Cc(d).transform(new J(0,0,0,1));f=xc(b,e);this.altitude=e.length()-P(b,f.G,f.H,0).length();b=d}else{B(this.c,
"The globe was null when computing the model-view matrix.");b=l}g=Cc(b).transform(new J(0,0,0,1));if(c=this.viewport)if(d=this.Ad){e=a.Y();f=a.Ba();if(!e||!g)e=-1;else{i=xc(e,g);f=wc(e,new O(i.G,i.H,f*e.aa(i.G,i.H)));g=g.length()-f.length();e=Math.sqrt(g*(2*e.Q+g))}c=new Uc.prototype.rf(d,c.od,c.bb(),0.1,e*2)}else{B(this.c,"We don't know anything about the field of view.");c=l}else{B(this.c,"We don't know anything about the viewport.");c=l}(this.ib=c)||B(this.c,"We don't have a view frustum to generate the projection matrix.");
d=this.ib;c=this.viewport;e=this.Ad;if(!c||!e||!d||!d.ab()||!rc(d.ab()))c=1;else{d=Math.abs(uc(rc(d.ab())));if(d===0)d=1;e=d*e.Xc();c=c.height*e/c.width;c=1+Math.sqrt(e*e+c*c+d*d)}this.rb=c;b=b;c=this.ib.Cd();bd(a,"uMVMatrix",b);bd(a,"uPMatrix",c);this.V=b;this.$b=c};function Nc(a,b,c){a.V||B(a.c,"Attempted to push the reference center without a valid model-view.");a.Pd.push(new Q(a.V.Tb()));a.V=a.V.te(c);bd(b,"uMVMatrix",a.V)};function cd(a){this.c=C("lanyard.render.GLSL");a||B(this.c,"Attempted to create a program object without a valid GL context.");this.f=a;this.zc=this.cd="";this.Fa=a.createProgram()}cd.prototype.getAttribLocation=function(a){return this.f.getAttribLocation(this.Fa,a)};cd.prototype.getUniformLocation=function(a){var b=this.f.getUniformLocation(this.Fa,a);b||B(this.c,"The specified uniform was not found in the shader ("+a+").");return b};
function dd(a,b,c){if(c)a.f.getProgramParameter(b,a.f.LINK_STATUS)||B(a.c,"Linking of a program failed. "+a.f.getProgramInfoLog(b));else a.f.getShaderParameter(b,a.f.COMPILE_STATUS)||B(a.c,"Compilation of a shader failed. "+a.f.getShaderInfoLog(b))};function ed(a){this.c=C("lanyard.util.Texture");a||B(this.c,"Creation of a texture was attempted without a valid draw context.");this.hf=a;(this.f=a.f)||B(this.c,"Creation of a texture was attempted without a valid gl context.");this.le=this.f.createTexture()}ed.prototype.Ua=function(){this.f.bindTexture(this.f.TEXTURE_2D,this.le)};
function fd(a,b){var c=b.getContext("2d"),d=new Image;d.onload=function(){c.drawImage(d,0,0);var e=a.f;e.bindTexture(e.TEXTURE_2D,this.le);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,j);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,d);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST);e.bindTexture(e.TEXTURE_2D,l);a.f.generateMipmap(a.f.TEXTURE_2D);a.c.log(A,"Render event is being fired off.",void 0);a.hf.F.display()}}
function gd(a,b,c){a.f.texParameteri(a.f.TEXTURE_2D,b,c)};function hd(a){this.Dh=this.ra=l;this.Fh=j;this.f=a;this.transform={dd:0,fd:0,ed:0,gd:0};this.ae=this.be=this.Tc=this.Uc=0;this.c=C("lanyard.render.SurfaceTileRenderer")}hd.prototype.we=2;function id(a,b,c,d,e){this.Ze=a;this.Te=b;this.Oe=c;this.Ne=d;this.kh=e;this.c=C("lanyard.util.Color")}id.prototype.ue=new id(0,0,0,1,"000000FF");id.prototype.ve=new id(0,0,0,0,"00000000");function jd(a){this.jh=a;this.kc=[]}jd.prototype.Ud=function(){return this.kc[0]};jd.prototype.clear=function(){this.kc=[]};function kd(a){this.c=C("lanyard.BasicDrawContext");this.ka=this.Db=this.view=l;(this.F=a)||B(this.c,"Attempted to create a draw context without a valid lanyard canvas.");this.dc=1;this.Ha=this.bd=l;this.Wg=0;this.clearColor=id.prototype.ue;this.mh=m;this.Td=-1;this.Mc=new jd(function(b,c){var d=b.Nf(),e=c.Nf();return d>e?-1:d===e?0:1});(this.f=a.Qa.getContext("experimental-webgl"))||B(this.c,"The canvas specified does not seem to support WebGL.");this.Tg=new hd(this.f);this.U=l;this.Kb="shader-vs";
this.wb="shader-fs"}
function ld(a){if(!a.U&&a.Kb&&a.wb){a.U=new cd(a.f);var b=a.U,c=fa(a.Kb)?document.getElementById(a.Kb):a.Kb;if(c){b.cd=c.innerHTML;if(c.type!=="x-shader/x-vertex")B(b.c,"Attempted to update a vertex shader with an incorrect mime type.");else{c=b.f.createShader(b.f.VERTEX_SHADER);b.cd||B(b.c,"The location of a vertex shader was not specified.");b.f.shaderSource(c,b.cd);b.f.compileShader(c);dd(b,c,m);b.f.attachShader(b.Fa,c)}}b=a.U;if(c=fa(a.wb)?document.getElementById(a.wb):a.wb){b.zc=c.innerHTML;
if(c.type!=="x-shader/x-fragment")B(b.c,"Attempted to update a fragment shader with an incorrect mime type.");else{c=b.f.createShader(b.f.FRAGMENT_SHADER);b.zc||B(b.c,"The location of a fragment shader was not specified.");b.f.shaderSource(c,b.zc);b.f.compileShader(c);dd(b,c,m);b.f.attachShader(b.Fa,c)}}b=a.U;b.f.linkProgram(b.Fa);b.f.validateProgram(b.Fa);dd(b,b.Fa,j);a=a.U;a.f.useProgram(a.Fa)}}p=kd.prototype;p.Hb=function(a){if(a){this.Db=a;if(a=this.Db.Y())this.ka=a}};p.ba=o("Db");p.xb=function(){return this.Db.xb()};
p.Y=function(){return this.ka!==l?this.ka:this.Db.Y()};p.Ib=n("view");p.T=o("view");p.Ba=o("dc");p.Yd=n("dc");function bd(a,b,c){a.f.uniformMatrix4fv(a.U.getUniformLocation(b),m,new Float32Array(c.Tb()))};function md(a,b){this.b=this.a=b}md.prototype.Cc=o("a");md.prototype.Dc=o("b");md.prototype.translate=function(a,b){this.a+=a;this.b+=b};md.prototype.toString=function(){return"A string with coordinates of: x = "+this.a+", y = "+this.b+"."};function nd(){this.c=C("lanyard.BasicFrameController")};function od(a){this.c=C("lanyard.BasicSceneController");a||B(this.c,"Attempted to create a scene controller without a valid lanyard canvas.");this.Nb=this.lc=l;this.Re=new nd;this.mc=1;this.pa=new kd(a)}p=od.prototype;p.ba=o("lc");p.T=o("Nb");p.Hb=n("lc");p.Ib=n("Nb");p.Yd=n("mc");p.Ba=o("mc");function pd(a){this.W=l;this.Qa=a;this.lh=l;this.c=C("lanyard.LanyardCanvas")}p=pd.prototype;p.Hb=function(a){if(!this.W)this.W=new od(this);this.W?this.W.Hb(a):B(this.c,"Attempted to set a model without a valid scene controller.")};p.ba=function(){return this.W?this.W.ba():l};
p.Ib=function(a){this.Qa||B(this.c,"Attempted to set the view without a valid canvas element.");a||B(this.c,"Attempted to set an invalid view.");if(!this.W)this.W=new od(this);var b=this.Qa;a.viewport=new Dc(0,0,b.width,b.height);this.W?this.W.Ib(a):B(this.c,"Tried to set a view without a scene controller existing.")};p.T=function(){if(!this.W)this.W=new od(this);this.W||B(this.c,"Attempted to get the view from an invalid scene controller.");return this.W.T()};
p.display=function(){var a=this.W;a||this.c.log(A,"The scene controller was null when a repaint was attempted.",void 0);var b=a.pa;b.F||B(b.c,"Attempt to initialize a draw context without a valid lanyard canvas.");b.f.viewport(0,0,b.F.Qa.width,b.F.Qa.height);b.bd=l;b.Ha&&b.Ha.clear();b.Ha=l;b.Mc.clear();b.Wg=0;if(b.Td<1)b.Td=b.f.getParameter(b.f.MAX_TEXTURE_IMAGE_UNITS);a.pa.Hb(a.lc);a.pa.Ib(a.Nb);a.pa.Yd(a.mc);ld(a.pa);a.pa.F||a.c.log(A,"The scene controller has a null lanyard canvas.",void 0);var c=
a.Re;c||a.c.log(A,"The frame controller did not exist when the scene controller tried to use it.",void 0);b=a.pa;b.Kb="shader-vs";b.wb="shader-fs";b.U=l;ld(b);b.f.clearDepth(1);b.f.enable(b.f.DEPTH_TEST);b.f.enable(b.f.CULL_FACE);b.f.depthFunc(b.f.LEQUAL);bd(b,"uMVMatrix",new Q(l));bd(b,"uPMatrix",new Q(l));a.Nb.apply(a.pa);b=a.pa;var d=id.prototype.ve,e=b.f;e.clearColor(d.Ze,d.Te,d.Oe,d.Ne);e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);if(b.T())if(b.ba())if(b.xb()){b.T().apply(b);if(yc(b.ba())){d=
yc(b.ba()).Yc(b);b.Ha=d}else B(c.c,"No tessellator was available.");d=b.xb();for(e=0;e<d.length;e+=1){var f=d[e];f&&f.ua(b)}for(;b.Mc.Ud();)b.Mc.kc.splice(0,1).ua(b);if(b.Ha&&b.ba().fe||b.ba().Vc||b.ba().ee){c.c.log(A,"Creating diagnostic displays.",void 0);c=b.ba();d=b.Ha;for(e=0;e<d.X.length;e+=1){if(c.Vc||c.fe){f=d.X[e];var g=b,i=c.Vc,k=Mc(f,f.M.ca);Nc(g.T(),g,f.M.Pc);var q=g.f;if(i){i=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,i);q.bufferData(q.ARRAY_BUFFER,new Float32Array(f.M.Z),q.STATIC_DRAW);
q.enableVertexAttribArray(g.U.getAttribLocation("aVertexPosition"));q.vertexAttribPointer(g.U.getAttribLocation("aVertexPosition"),3,q.FLOAT,m,0,0);i=q.createBuffer();q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,i);q.bufferData(q.ELEMENT_ARRAY_BUFFER,new Float32Array(k),q.STATIC_DRAW);q.drawElements(q.TRIANGLE_STRIP,f.M.Z.length/3,q.UNSIGNED_SHORT,0)}Oc(g.T(),g)}if(c.ee){f=b;d.X[e].Aa().ua(f)}}}}else B(c.c,"The layers were null when attempting to draw.");else B(c.c,"The model was null when attempting to draw.");
else B(c.c,"The view was null when attempting to draw.");a.frame+=1};function qd(a){a.Xf=new rd;sd(a.Xf,a)};var td;var ud=!D||F("9"),vd=D&&!F("8");function V(a,b){this.type=a;this.currentTarget=this.target=b}t(V,gc);V.prototype.S=function(){delete this.type;delete this.target;delete this.currentTarget};V.prototype.gb=m;V.prototype.Gb=j;V.prototype.preventDefault=function(){this.Gb=m};function wd(a){a.preventDefault()};function xd(a,b){a&&this.cb(a,b)}t(xd,V);var yd=[1,4,2];p=xd.prototype;p.target=l;p.relatedTarget=l;p.offsetX=0;p.offsetY=0;p.clientX=0;p.clientY=0;p.screenX=0;p.screenY=0;p.button=0;p.keyCode=0;p.charCode=0;p.ctrlKey=m;p.altKey=m;p.shiftKey=m;p.metaKey=m;p.qg=m;p.La=l;
p.cb=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Db)try{d=d.nodeName&&d}catch(e){d=l}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.qg=yb?a.metaKey:a.ctrlKey;this.ke=a.ke?a.ke:l;this.La=a;delete this.Gb;delete this.gb};
p.preventDefault=function(){xd.Ga.preventDefault.call(this);var a=this.La;if(a.preventDefault)a.preventDefault();else{a.returnValue=m;if(vd)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};p.S=function(){xd.Ga.S.call(this);this.relatedTarget=this.currentTarget=this.target=this.La=l};function zd(){}var Ad=0;p=zd.prototype;p.key=0;p.hb=m;p.qd=m;p.cb=function(a,b,c,d,e,f){if(ga(a))this.Id=j;else if(a&&a.handleEvent&&ga(a.handleEvent))this.Id=m;else h(Error("Invalid listener argument"));this.Cb=a;this.Vd=b;this.src=c;this.type=d;this.capture=!!e;this.Ec=f;this.qd=m;this.key=++Ad;this.hb=m};p.handleEvent=function(a){if(this.Id)return this.Cb.call(this.Ec||this.src,a);return this.Cb.handleEvent.call(this.Cb,a)};var Bd;var Cd=(Bd="ScriptEngine"in r&&r.ScriptEngine()=="JScript")?r.ScriptEngineMajorVersion()+"."+r.ScriptEngineMinorVersion()+"."+r.ScriptEngineBuildVersion():"0";var Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd;
(function(){function a(){return{R:0,la:0}}function b(){return[]}function c(){function w(z){return g.call(w.src,w.key,z)}return w}function d(){return new zd}function e(){return new xd}var f=Bd&&!(Ba(Cd,"5.7")>=0),g;Id=function(w){g=w};if(f){Dd=function(){return hc(i)};Ed=function(w){H(i,w)};Fd=function(){return hc(k)};Gd=function(w){H(k,w)};Hd=function(){return hc(q)};Jd=function(){H(q,c())};Kd=function(){return hc(u)};Ld=function(w){H(u,w)};Md=function(){return hc(v)};Nd=function(w){H(v,w)};var i=
new G(0,600);i.Ja=a;var k=new G(0,600);k.Ja=b;var q=new G(0,600);q.Ja=c;var u=new G(0,600);u.Ja=d;var v=new G(0,600);v.Ja=e}else{Dd=a;Ed=ba;Fd=b;Gd=ba;Hd=c;Jd=ba;Kd=d;Ld=ba;Md=e;Nd=ba}})();var Od={},W={},X={},Pd={};
function Z(a,b,c,d,e){if(b)if(da(b)){for(var f=0;f<b.length;f++)Z(a,b[f],c,d,e);return l}else{d=!!d;var g=W;b in g||(g[b]=Dd());g=g[b];if(!(d in g)){g[d]=Dd();g.R++}g=g[d];var i=ja(a),k;g.la++;if(g[i]){k=g[i];for(f=0;f<k.length;f++){g=k[f];if(g.Cb==c&&g.Ec==e){if(g.hb)break;return k[f].key}}}else{k=g[i]=Fd();g.R++}f=Hd();f.src=a;g=Kd();g.cb(c,f,a,b,d,e);c=g.key;f.key=c;k.push(g);Od[c]=g;X[i]||(X[i]=Fd());X[i].push(g);if(a.addEventListener){if(a==r||!a.ud)a.addEventListener(b,f,d)}else a.attachEvent(Qd(b),
f);return c}else h(Error("Invalid event type"))}function Rd(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)Rd(a,b[f],c,d,e);return l}d=!!d;a:{f=W;if(b in f){f=f[b];if(d in f){f=f[d];a=ja(a);if(f[a]){a=f[a];break a}}}a=l}if(!a)return m;for(f=0;f<a.length;f++)if(a[f].Cb==c&&a[f].capture==d&&a[f].Ec==e)return $(a[f].key);return m}
function $(a){if(!Od[a])return m;var b=Od[a];if(b.hb)return m;var c=b.src,d=b.type,e=b.Vd,f=b.capture;if(c.removeEventListener){if(c==r||!c.ud)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Qd(d),e);c=ja(c);e=W[d][f][c];if(X[c]){var g=X[c],i=La(g,b);if(i>=0){Ja(g.length!=l);x.splice.call(g,i,1)}g.length==0&&delete X[c]}b.hb=j;e.Sd=j;Sd(d,f,c,e);delete Od[a];return j}
function Sd(a,b,c,d){if(!d.Xb)if(d.Sd){for(var e=0,f=0;e<d.length;e++)if(d[e].hb){var g=d[e].Vd;g.src=l;Jd(g);Ld(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.Sd=m;if(f==0){Gd(d);delete W[a][b][c];W[a][b].R--;if(W[a][b].R==0){Ed(W[a][b]);delete W[a][b];W[a].R--}if(W[a].R==0){Ed(W[a]);delete W[a]}}}}
function Td(a,b,c){var d=0,e=a==l,f=b==l,g=c==l;c=!!c;if(e)Ra(X,function(k){for(var q=k.length-1;q>=0;q--){var u=k[q];if((f||b==u.type)&&(g||c==u.capture)){$(u.key);d++}}});else{a=ja(a);if(X[a]){a=X[a];for(e=a.length-1;e>=0;e--){var i=a[e];if((f||b==i.type)&&(g||c==i.capture)){$(i.key);d++}}}}return d}function Qd(a){if(a in Pd)return Pd[a];return Pd[a]="on"+a}
function Ud(a,b,c,d,e){var f=1;b=ja(b);if(a[b]){a.la--;a=a[b];if(a.Xb)a.Xb++;else a.Xb=1;try{for(var g=a.length,i=0;i<g;i++){var k=a[i];if(k&&!k.hb)f&=Vd(k,e)!==m}}finally{a.Xb--;Sd(c,d,b,a)}}return Boolean(f)}function Vd(a,b){var c=a.handleEvent(b);a.qd&&$(a.key);return c}
Id(function(a,b){if(!Od[a])return j;var c=Od[a],d=c.type,e=W;if(!(d in e))return j;e=e[d];var f,g;if(td===undefined)td=D&&!r.addEventListener;if(td){f=b||aa("window.event");var i=j in e,k=m in e;if(i){if(f.keyCode<0||f.returnValue=="marked_closure")return j;a:{var q=m;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(u){q=j}if(q||f.returnValue!="marked_closure")f.returnValue="marked_closure"}}q=Md();q.cb(f,this);f=j;try{if(i){for(var v=Fd(),w=q.currentTarget;w;w=w.parentNode)v.push(w);g=e[j];g.la=g.R;
for(var z=v.length-1;!q.gb&&z>=0&&g.la;z--){q.currentTarget=v[z];f&=Ud(g,v[z],d,j,q)}if(k){g=e[m];g.la=g.R;for(z=0;!q.gb&&z<v.length&&g.la;z++){q.currentTarget=v[z];f&=Ud(g,v[z],d,m,q)}}}else f=Vd(c,q)}finally{if(v){v.length=0;Gd(v)}q.xa();Nd(q)}return f}d=new xd(b,this);try{f=Vd(c,d)}finally{d.xa()}return f});function Wd(){}t(Wd,gc);p=Wd.prototype;p.ud=j;p.Oc=l;p.addEventListener=function(a,b,c,d){Z(this,a,b,c,d)};p.removeEventListener=function(a,b,c,d){Rd(this,a,b,c,d)};
p.dispatchEvent=function(a){a=a;if(fa(a))a=new V(a,this);else if(a instanceof V)a.target=a.target||this;else{var b=a;a=new V(a.type,this);Ta(a,b)}b=1;var c,d=a.type,e=W;if(d in e){e=e[d];d=j in e;var f;if(d){c=[];for(f=this;f;f=f.Oc)c.push(f);f=e[j];f.la=f.R;for(var g=c.length-1;!a.gb&&g>=0&&f.la;g--){a.currentTarget=c[g];b&=Ud(f,c[g],a.type,j,a)&&a.Gb!=m}}if(m in e){f=e[m];f.la=f.R;if(d)for(g=0;!a.gb&&g<c.length&&f.la;g++){a.currentTarget=c[g];b&=Ud(f,c[g],a.type,m,a)&&a.Gb!=m}else for(c=this;!a.gb&&
c&&f.la;c=c.Oc){a.currentTarget=c;b&=Ud(f,c,a.type,m,a)&&a.Gb!=m}}a=Boolean(b)}else a=j;return a};p.S=function(){Wd.Ga.S.call(this);Td(this);this.Oc=l};function Xd(a,b,c,d,e){if(!D&&!(E&&F("525")))return j;if(yb&&e)return Yd(a);if(e&&!d)return m;if(!c&&(b==17||b==18))return m;if(D&&d&&b==a)return m;switch(a){case 13:return j;case 27:return!E}return Yd(a)}
function Yd(a){if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=65&&a<=90)return j;if(E&&a==0)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return m}};function Zd(a,b){if(a){this.Wb&&this.detach();this.O=a;this.Vb=Z(this.O,"keypress",this,b);this.Ic=Z(this.O,"keydown",this.Sf,b,this);this.Wb=Z(this.O,"keyup",this.Tf,b,this)}}t(Zd,Wd);p=Zd.prototype;p.O=l;p.Vb=l;p.Ic=l;p.Wb=l;p.Da=-1;p.Ca=-1;
var $d={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},ae={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},be={61:187,
59:186},ce=D||E&&F("525");p=Zd.prototype;p.Sf=function(a){if(E&&(this.Da==17&&!a.ctrlKey||this.Da==18&&!a.altKey))this.Ca=this.Da=-1;if(ce&&!Xd(a.keyCode,this.Da,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Ca=Db&&a.keyCode in be?be[a.keyCode]:a.keyCode};p.Tf=function(){this.Ca=this.Da=-1};
p.handleEvent=function(a){var b=a.La,c,d;if(D&&a.type=="keypress"){c=this.Ca;d=c!=13&&c!=27?b.keyCode:0}else if(E&&a.type=="keypress"){c=this.Ca;d=b.charCode>=0&&b.charCode<63232&&Yd(c)?b.charCode:0}else if(Cb){c=this.Ca;d=Yd(c)?b.keyCode:0}else{c=b.keyCode||this.Ca;d=b.charCode||0;if(yb&&d==63&&!c)c=191}var e=c,f=b.keyIdentifier;if(c)if(c>=63232&&c in $d)e=$d[c];else{if(c==25&&a.shiftKey)e=9}else if(f&&f in ae)e=ae[f];a=e==this.Da;this.Da=e;b=new de(e,d,a,b);try{this.dispatchEvent(b)}finally{b.xa()}};
p.detach=function(){if(this.Vb){$(this.Vb);$(this.Ic);$(this.Wb);this.Wb=this.Ic=this.Vb=l}this.O=l;this.Ca=this.Da=-1};p.S=function(){Zd.Ga.S.call(this);this.detach()};function de(a,b,c,d){d&&this.cb(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}t(de,xd);function ee(a){this.O=a;this.Ld=Z(this.O,Db?"DOMMouseScroll":"mousewheel",this)}t(ee,Wd);
ee.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.La;if(a.type=="mousewheel"){c=1;if(D||E&&(Gb||F("532.0")))c=40;d=-a.wheelDelta/c;if(a.wheelDeltaX!==undefined){b=-a.wheelDeltaX/c;c=-a.wheelDeltaY/c}else c=d}else{d=a.detail;if(d>100)d=3;else if(d<-100)d=-3;if(a.axis!==undefined&&a.axis===a.HORIZONTAL_AXIS)b=d;else c=d}if(typeof this.Nd=="number")b=Math.min(Math.max(b,-this.Nd),this.Nd);if(typeof this.Od=="number")c=Math.min(Math.max(c,-this.Od),this.Od);b=new fe(d,a,b,c);try{this.dispatchEvent(b)}finally{b.xa()}};
ee.prototype.S=function(){ee.Ga.S.call(this);$(this.Ld);delete this.Ld};function fe(a,b,c,d){b&&this.cb(b,void 0);this.type="mousewheel";this.detail=a;this.Wa=c;this.Ka=d}t(fe,xd);function ge(a){this.Uf=a}t(ge,gc);var he=new G(0,100);function ie(a,b,c,d,e,f){if(da(c))for(var g=0;g<c.length;g++)ie(a,b,c[g],d,e,f);else{b=Z(b,c,d||a,e||m,f||a.Uf||a);if(a.D)a.D[b]=j;else if(a.Ab){a.D=hc(he);a.D[a.Ab]=j;a.Ab=l;a.D[b]=j}else a.Ab=b}return a}function je(a){if(a.D){for(var b in a.D){$(b);delete a.D[b]}H(he,a.D);a.D=l}else a.Ab&&$(a.Ab)}ge.prototype.S=function(){ge.Ga.S.call(this);je(this)};ge.prototype.handleEvent=function(){h(Error("EventHandler.handleEvent not implemented"))};function ke(a,b,c){this.target=a;this.handle=b||a;this.Kd=c||new dc(NaN,NaN,NaN,NaN);this.ea=a.nodeType==9?a:a.ownerDocument||a.document;this.ta=new ge(this);Z(this.handle,"mousedown",this.Wc,m,this)}t(ke,Wd);var le=D||Db&&F("1.9.3");p=ke.prototype;p.screenX=0;p.screenY=0;p.he=0;p.ie=0;p.Wa=0;p.Ka=0;p.xd=j;p.ya=m;p.Ed=0;p.jg=0;p.Wf=m;p.S=function(){ke.Ga.S.call(this);Rd(this.handle,"mousedown",this.Wc,m,this);this.ta.xa();delete this.target;delete this.handle;delete this.ta};
p.Wc=function(a){if(this.xd&&!this.ya&&(a.type!="mousedown"||(ud?a.La.button==0:a.type=="click"?j:!!(a.La.button&yd[0])))){if(this.Ed==0){me(this,a);if(this.ya)a.preventDefault();else return}else a.preventDefault();var b=this.ea,c=b.documentElement,d=!le;ie(this.ta,b,"mousemove",this.lg,d);ie(this.ta,b,"mouseup",this.Pb,d);if(le){c.setCapture(m);ie(this.ta,c,"losecapture",this.Pb)}else ie(this.ta,b?b.parentWindow||b.defaultView:window,"blur",this.Pb);D&&this.Wf&&ie(this.ta,b,"dragstart",wd);this.vg&&
ie(this.ta,this.vg,"scroll",this.og,d);this.screenX=this.he=a.screenX;this.screenY=this.ie=a.screenY;this.Wa=this.target.offsetLeft;this.Ka=this.target.offsetTop;a=Tb(this.ea);this.Eb=Yb(a.ea);this.jg=na()}};function me(a,b){if(a.dispatchEvent(new ne("start",a,b.clientX,b.clientY,b))!==m)a.ya=j}p.Pb=function(a,b){je(this.ta);le&&this.ea.releaseCapture();if(this.ya){this.ya=m;this.dispatchEvent(new ne("end",this,a.clientX,a.clientY,a,oe(this,this.Wa),pe(this,this.Ka),b))}};
p.lg=function(a){if(this.xd){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.ya){var d=this.he-this.screenX,e=this.ie-this.screenY;if(d*d+e*e>this.Ed){me(this,a);if(!this.ya){this.Pb(a);return}}}c=qe(this,b,c);b=c.x;c=c.y;if(this.ya)if(this.dispatchEvent(new ne("beforedrag",this,a.clientX,a.clientY,a,b,c))!==m){re(this,a,b,c,m);a.preventDefault()}}};
function qe(a,b,c){var d;d=Tb(a.ea);d=Yb(d.ea);b+=d.x-a.Eb.x;c+=d.y-a.Eb.y;a.Eb=d;a.Wa+=b;a.Ka+=c;return new Sb(oe(a,a.Wa),pe(a,a.Ka))}p.og=function(a){var b=qe(this,0,0);a.clientX=this.Eb.x-this.screenX;a.clientY=this.Eb.x-this.screenY;re(this,a,b.x,b.y,j)};function re(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new ne("drag",a,b.clientX,b.clientY,b,c,d))}
function oe(a,b){var c=a.Kd,d=!isNaN(c.left)?c.left:l;c=!isNaN(c.width)?c.width:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function pe(a,b){var c=a.Kd,d=!isNaN(c.top)?c.top:l;c=!isNaN(c.height)?c.height:0;return Math.min(d!=l?d+c:Infinity,Math.max(d!=l?d:-Infinity,b))}function ne(a,b,c,d,e,f,g,i){V.call(this,a);this.clientX=c;this.clientY=d;this.ph=e;this.left=f!==undefined?f:b.Wa;this.top=g!==undefined?g:b.Ka;this.sh=b;this.rh=!!i}t(ne,V);function se(){this.zoom=this.pitch=this.na=this.eb=l};function rd(){this.c=C("lanyard.dom.InputHandler");this.vh=[];this.F=l;this.Bb=new md(0,0);this.yh=m;this.Gh=j;this.$g=1.0E-5;this.Zg=0.2;this.Yg=1.0E-9;this.ah=0.6;this.Mh=0.1;this.Ih=0.25;this.Jh=1.0E-4;this.Lh=0.3;this.Kh=0.1;this.bh=0.05;this.dh=0.0010;this.eh=0.1}
function sd(a,b){b||B(a.c,"Attempted to use an invalid object as an event source.");b.T()||B(a.c,"Attempted to set an event source without a valid view.");var c=b.Qa;c||B(a.c,"Attempted to use an input source without a valid dom node.");a.F=b;var d=new Zd(c);Z(d,"key",a.ag,m,a);var e=new ee(c);Z(e,"mousewheel",a.Qd,m,a);Z(c,"mousedown",function(f){var g=new ke(c);Z(g,"drag",this.kg,m,this);Z(g,"end",function(){g.xa()});g.Wc(f)},m,a);Z(c,"unload",function(){Rd(e,"mousewheel",this.Qd)})}
rd.prototype.ag=function(a){if(this.F){var b=this.F.T();if(b){a.preventDefault();var c=b.na.sin(),d=b.na.cos(),e=0,f=0;if(a.keyCode===37){e=c;f=-d}else if(a.keyCode===39){e=-c;f=d}else if(a.keyCode===38){e=d;f=c}else if(a.keyCode===40){e=-d;f=-c}if(e!==0||f!==0)if(a=this.F.ba().Y()){e=te(this,b,a,10*e,10*f,m);ue(this,b,ve(this,b,e.G,e.H))}}}};
rd.prototype.kg=function(a){if(this.F)if(a){var b=this.F.T();if(b)if(this.F.ba()){var c=new md(a.clientX-this.Bb.a,a.clientY-this.Bb.b),d=l,e=ad(b,this.Bb.a,this.Bb.b),f=ad(b,a.clientX,a.clientY);if(e&&f)d=new S(e.G.L(f.G),e.H.L(f.H));else if(e=this.F.ba().Y()){d=b.na.sin();f=b.na.cos();d=te(this,b,e,f*c.b+d*c.a,d*c.b-f*c.a,m)}else B(this.c,"Attempted to perform a drag event without a valid globe.");d?ue(this,b,ve(this,b,d.G,d.H)):B(this.c,"A failure occured in the drag event result.");this.Bb=new md(a.clientX,
a.clientY)}else B(this.c,"Attempted to handle a drag event without a valid model.");else B(this.c,"Attempted to handle a drag event without a valid view.")}else B(this.c,"Attempted to handle a drag event without a valid event.");else B(this.c,"Attempted to handle a drag event without a valid canvas.")};function ue(a,b,c){c||B(a.c,"Attempted to set the view to an invalid latlon.");a.ha=new se;a.ha.eb=c;we(a,b,a.ha,a.ah,a.Yg,m)}
function te(a,b,c,d,e,f){b=Sc(b);if(!b){B(a.c,"Attempted to compute a latlon change without a valid eye.");return l}c=b.length()/c.Q-1;c=c<0?0:c>1?1:c;a=((1-c)*a.$g+c*a.Zg)*(f?0.25:1);return S.prototype.j(d*a,e*a)}function ve(a,b,c,d){var e;if(a.ha&&a.ha.eb){e=a.ha.eb.G.e;a=a.ha.eb.H.e}else{e=(new O(b.Za,b.$a,0)).G.e;a=(new O(b.Za,b.$a,0)).H.e}e+=c.e;a+=d.e;if(e<-90)e=-90;else if(e>90)e=90;if(a<-180)a+=360;else if(a>180)a-=360;return S.prototype.j(e,a)}
rd.prototype.Qd=function(a){if(this.F)if(a){a.preventDefault();var b=this.F.T();b?xe(this,b,ye(this,b,function(c){if(c<0)return-1;if(c>0)return 1;return 0}(a.Ka)*this.bh*1)):B(this.c,"Attempted to handle a mouse wheel event without a valid view.")}else B(this.c,"Attempted to handle an invalid mouse wheel event.");else B(this.c,"A mouse wheel event was thrown away due to a missing event source.")};
function ye(a,b,c){a=a.ha&&a.ha.zoom?Math.log(a.ha.zoom):Math.log(b.Ya);a+=c;b=[Math.max(b.Lc,b.rb),b.Kc];return Math.exp(a)<b[0]?b[0]:Math.exp(a)>b[1]?b[1]:Math.exp(a)}function xe(a,b,c){a.ha=new se;a.ha.zoom=c;we(a,b,a.ha,a.eh,a.dh,m)}
function we(a,b,c){b||B(a.c,"Attempted to set properties on a null view.");if(c.eb){var d=c.eb;a=d.G.e;if(a<-90)a=-90;else if(a>90)a=90;d=d.H.e;if(d<-180)d+=360;else if(d>180)d-=360;a=S.prototype.j(a,d);b.Za=a.G;b.$a=a.H}if(c.na){a=c.na.e;if(a<0)a+=360;else if(a>360)a-=360;a=I.prototype.j(a);b.na=a}if(c.pitch)b.pitch=Zc(b,c.pitch);if(c.zoom)b.Ya=$c(b,c.zoom)};function ze(){this.c=C("lanyard.layers.AbstractLayer");this.enabled=j;this.opacity=1;this.hg=Number.MIN_VALUE;this.cg=Number.MAX_VALUE;this.sc="Untitled Layer"}s("lanyard.layers.AbstractLayer",ze,void 0);ze.prototype.getName=o("sc");ze.prototype.toString=o("sc");ze.prototype.ua=function(a){if(this.enabled){var b;b=a.T().altitude;if(b>=this.hg&&b<=this.cg){(b=this.Qc?this.Qc:this.Xd)||this.c.log(A,"Active renderable array is not correct.",void 0);for(var c in b)b.hasOwnProperty(c)&&b[c].ua(a)}}};function Ae(a){ze.call(this);this.c=C("lanyard.layers.RenderableLayer");this.Xd=[];this.Qc=l;this.qh=a}t(Ae,ze);Ae.prototype.toString=function(){return"A generic renderable layer."};function Be(a,b,c){this.c=C("lanyard.render.SurfaceImage");this.yc=l;this.zd=Number.MIN_VALUE;this.opacity=1;this.$c=l;this.Dd=this.Yf=m;this.zb=a;this.va=b;this.Eh=new O.prototype.sf(Jc(b),0);this.zh=c;this.zb||B(this.c,"The image source is null.");this.va||B(this.c,"The sector is null.")}p=Be.prototype;p.ga=o("va");p.Aa=function(a){a||B(this.c,"The draw context is null.");if(!this.yc||this.zd!==a.Ba()){this.yc=Kc(T.prototype,a.Y(),a.Ba(),this.va);this.zd=a.Ba()}return this.yc};
function Ce(a,b){b||B(a.c,"The draw context was null.");var c=b.f,d=new ed(b),e=new Image;e.onload=function(){d.Ua();d.f.pixelStorei(d.f.UNPACK_FLIP_Y_WEBGL,1);d.f.texImage2D(d.f.TEXTURE_2D,0,d.f.RGBA,d.f.RGBA,d.f.UNSIGNED_BYTE,e);gd(d,c.TEXTURE_MIN_FILTER,c.LINEAR);gd(d,c.TEXTURE_MAG_FILTER,c.LINEAR);gd(d,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);gd(d,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);d.f.generateMipmap(d.f.TEXTURE_2D);a.Yf=j;a.$c=d;b.F.display()};e.onerror=function(){a.c.log(jb,"An image failed to load from: "+
a.zb,void 0);a.Dd=j};e.onabort=function(){a.c.log(jb,"An image load was aborted: "+a.zb,void 0);a.Dd=j};e.src=a.zb;return d}p.Ua=function(a){a||B(this.c,"The draw context is null.");var b=this.$c;if(!b)if(b=Ce(this,a))return j;if(b){b.Ua();return j}return m};
p.ua=function(a){a||B(this.c,"The draw context is null.");if(this.va.db(a.bd)){var b=a.f;b.enable(b.CULL_FACE);b=a.Tg;if(this){var c=[this],d=a.f;if(!b.ra){var e=hd.prototype.we,f=document.createElement("canvas");f.width=f.height=e;for(var g=f.getContext("2d"),i=g.createImageData(e,e),k=0;k<e;k+=1)for(var q=0;q<e;q+=1){var u=(q*e+k)*4;i.data[u+0]=255;i.data[u+1]=255;i.data[u+2]=255;i.data[u+3]=255}g.putImageData(i,0,0);b.ra=new ed(a);fd(b.ra,f);b.ra.Ua();gd(b.ra,b.f.TEXTURE_MAG_FILTER,b.f.NEAREST);
gd(b.ra,b.f.TEXTURE_MIN_FILTER,b.f.NEAREST);gd(b.ra,b.f.TEXTURE_WRAP_S,b.f.CLAMP_TO_EDGE);gd(b.ra,b.f.TEXTURE_WRAP_T,b.f.CLAMP_TO_EDGE)}d.enable(d.DEPTH_TEST);d.depthFunc(d.LEQUAL);d.activeTexture(d.TEXTURE0);e=a.Ha;for(f=0;f<e.X.length;f+=1){g=e.X[f];i=c;k=[];q=void 0;for(q=0;q<i.length;q+=1)i[q].ga().db(g.ga())&&k.push(i[q]);if(g=k){i=b;k=e.X[f].ga();i.Uc=k.jd.C;i.Tc=k.jc.C;i.be=k.B.C;i.ae=k.A.C;for(i=0;i<g.length;i+=1){d.activeTexture(d.TEXTURE0);if(g[i].Ua(a)){d.activeTexture(d.TEXTURE0);d.uniform1i(a.U.getUniformLocation("uSamplerTileImage"),
0);k=g[i];(q=a)||B(k.c,"The draw context was null.");k.$c||Ce(k,q);k=b;q=b.transform;var v=g[i].ga();u=v.jd.C;var w=v.jc.C,z=v.B.C;v=v.A.C;q.fd=w>0?k.Tc/w:1;q.dd=u>0?k.Uc/u:1;q.gd=-(v-k.ae)/k.Tc;q.ed=-(z-k.be)/k.Uc;k=new Q([b.transform.dd,0,0,0,0,b.transform.fd,0,0,0,0,1,0,0,0,0,1]);k.translate(b.transform.ed,b.transform.gd,0);bd(a,"uTextureMatrix",k);d.activeTexture(d.TEXTURE1);b.ra.Ua();d.uniform1i(a.U.getUniformLocation("uSamplerAlphaMask"),1);e.X[f].ua(a)}}}}d.activeTexture(d.TEXTURE0)}else b.c.log(A,
"Attempted to render a null tile.",void 0)}else this.c.log(A,"The surface image does not intersect with a visible sector.",void 0)};p.toString=function(){return"A SurfaceImage with a path of: "+this.zb};function De(){Ae.call(this,l);this.c=C("lanyard.layers.earth.BMNGOneImage");this.sc="The Blue Marble, single image";var a=new Be("images/bmng.world.topo.512.256.gif",T.prototype.He,this);a||B(this.c,"Renderable is null.");this.Qc&&B(this.c,"Layer is already using a custom iterable.");this.Xd.push(a)}t(De,Ae);De.prototype.toString=function(){return"A BMNGOneImage object."};function Ee(a,b,c){this.nd=a;this.We=b;this.Pe=c;this.c=C("lanyard.demo.BasicDemo");this.F=l;this.ob=[]}s("lanyard.demo.BasicDemo",Ee,void 0);Ee.prototype.ug=function(){this.Zd();this.$d();this.nd||B(this.c,"A valid canvas element was not found.");var a=new Tc;a.Jc=this.ob;this.F=new pd(this.nd);this.F.Hb(a);this.F.Ib(new Xc);qd(this.F);var b=this;(function c(){setTimeout(function(){b.F.display();c()},15)})()};s("lanyard.demo.BasicDemo.prototype.run",Ee.prototype.ug,void 0);
Ee.prototype.Zd=function(){tb().Rc(mb);var a=new fc(this.Pe);if(j!=a.Hd){var b=tb(),c=a.sg;if(!b.yb)b.yb=[];b.yb.push(c);a.Hd=j}};s("lanyard.demo.BasicDemo.prototype.setupEventLog",Ee.prototype.Zd,void 0);Ee.prototype.bf=function(a){this.F||B(this.c,"A LanyardCanvas must exist before a status bar is added.");a||B(this.c,"Attempted to attach an invalid status bar.");sd(a,this.F)};s("lanyard.demo.BasicDemo.prototype.addStatusBar",Ee.prototype.bf,void 0);
Ee.prototype.$d=function(){this.ob.push(new De);var a;for(a=0;a<this.ob.length;a+=1){var b="Adding layer with name = "+this.ob[a].toString();this.c.log(A,b,void 0);this.We.appendChild(Zb("p",{style:"background-color:#EEE"},this.ob[a].getName()))}};s("lanyard.demo.BasicDemo.prototype.setupLayerList",Ee.prototype.$d,void 0);
